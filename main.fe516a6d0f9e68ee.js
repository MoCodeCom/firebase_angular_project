"use strict";(self.webpackChunkfirebaseApp=self.webpackChunkfirebaseApp||[]).push([[179],{2011:(vt,Ce,O)=>{O.d(Ce,{Dh:()=>ye,GT:()=>ne,cc:()=>De,hO:()=>je,on:()=>j,pX:()=>te,xv:()=>pe});var h=O(4650),V=O(9260),z=O(4976);vt=O.hmd(vt);const ie=["ngOnDestroy"],te=(Te,Ne,Ue,Ee={})=>new Proxy(Te,{get:(ve,Ae)=>Ue.runOutsideAngular(()=>{var Be;if(Te[Ae])return!(null===(Be=Ee?.spy)||void 0===Be)&&Be.get&&Ee.spy.get(Ae,Te[Ae]),Te[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const Oe=Ne.toPromise().then(re=>{const et=re&&re[Ae];return"function"==typeof et?et.bind(re):et&&et.then?et.then(bt=>Ue.run(()=>bt)):Ue.run(()=>et)});return new Proxy(()=>{},{get:(re,et)=>Oe[et],apply:(re,et,bt)=>Oe.then(rt=>{var qt;const at=rt&&rt(...bt);return!(null===(qt=Ee?.spy)||void 0===qt)&&qt.apply&&Ee.spy.apply(Ae,bt,at),at})})})}),ne=(Te,Ne)=>{Ne.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Ee=>{Object.defineProperty(Te.prototype,Ee,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Ee))})})};class ge{constructor(Ne){return Ne}}const ye=new h.OlP("angularfire2.app.options"),pe=new h.OlP("angularfire2.app.name");function j(Te,Ne,Ue){const ve="object"==typeof Ue&&Ue||{};ve.name=ve.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const Be=V.Z.apps.filter(Oe=>Oe&&Oe.name===ve.name)[0]||Ne.runOutsideAngular(()=>V.Z.initializeApp(Te,ve));try{JSON.stringify(Te)!==JSON.stringify(Be.options)&&B("error",`${Be.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(Be)}const B=(Te,...Ne)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Te](...Ne)},Z={provide:ge,useFactory:j,deps:[ye,h.R0b,[new h.FiY,pe]]};let je=(()=>{class Te{constructor(Ue){V.Z.registerVersion("angularfire",z.q4.full,"core"),V.Z.registerVersion("angularfire",z.q4.full,"app-compat"),V.Z.registerVersion("angular",h.q4F.full,Ue.toString())}static initializeApp(Ue,Ee){return{ngModule:Te,providers:[{provide:ye,useValue:Ue},{provide:pe,useValue:Ee}]}}}return Te.\u0275fac=function(Ue){return new(Ue||Te)(h.LFG(h.Lbi))},Te.\u0275mod=h.oAB({type:Te}),Te.\u0275inj=h.cJS({providers:[Z]}),Te})();function De(Te,Ne,Ue,Ee,ve){const[,Ae,Be]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===Te)||[];if(Ae)return function qe(Te,Ne){try{return Te.toString()===Ne.toString()}catch{return Te===Ne}}(ve,Be)||(de("error",`${Ne} was already initialized on the ${Ue} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:ve,was:Be})),Ae;{const Oe=Ee();return globalThis.\u0275AngularfireInstanceCache.push([Te,Oe,ve]),Oe}}const it=!!vt.hot,de=(Te,...Ne)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Te](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vt,Ce,O)=>{O.d(Ce,{q4:()=>Zn,iC:()=>$c,fc:()=>Bc,HU:()=>ks,vb:()=>hd,JM:()=>Ho,u3:()=>pd});var h=O(4650),V=O(259),z=O(5861),ie=O(6881),te=O(2090),ne=O(4859),ge=O(1877);const ye=(w,C)=>C.some(A=>w instanceof A);let pe,j;const je=new WeakMap,De=new WeakMap,qe=new WeakMap,it=new WeakMap,de=new WeakMap;let Ue={get(w,C,A){if(w instanceof IDBTransaction){if("done"===C)return De.get(w);if("objectStoreNames"===C)return w.objectStoreNames||qe.get(w);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Be(w[C])},set:(w,C,A)=>(w[C]=A,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function Ae(w){return"function"==typeof w?function ve(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(Oe(this),C),Be(je.get(this))}:function(...C){return Be(w.apply(Oe(this),C))}:function(C,...A){const P=w.call(Oe(this),C,...A);return qe.set(P,C.sort?C.sort():[C]),Be(P)}}(w):(w instanceof IDBTransaction&&function Ne(w){if(De.has(w))return;const C=new Promise((A,P)=>{const $=()=>{w.removeEventListener("complete",W),w.removeEventListener("error",oe),w.removeEventListener("abort",oe)},W=()=>{A(),$()},oe=()=>{P(w.error||new DOMException("AbortError","AbortError")),$()};w.addEventListener("complete",W),w.addEventListener("error",oe),w.addEventListener("abort",oe)});De.set(w,C)}(w),ye(w,function B(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ue):w)}function Be(w){if(w instanceof IDBRequest)return function Te(w){const C=new Promise((A,P)=>{const $=()=>{w.removeEventListener("success",W),w.removeEventListener("error",oe)},W=()=>{A(Be(w.result)),$()},oe=()=>{P(w.error),$()};w.addEventListener("success",W),w.addEventListener("error",oe)});return C.then(A=>{A instanceof IDBCursor&&je.set(A,w)}).catch(()=>{}),de.set(C,w),C}(w);if(it.has(w))return it.get(w);const C=Ae(w);return C!==w&&(it.set(w,C),de.set(C,w)),C}const Oe=w=>de.get(w),bt=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],qt=new Map;function at(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(qt.get(C))return qt.get(C);const A=C.replace(/FromIndex$/,""),P=C!==A,$=rt.includes(A);if(!(A in(P?IDBIndex:IDBObjectStore).prototype)||!$&&!bt.includes(A))return;const W=function(){var oe=(0,z.Z)(function*(ze,...He){const st=this.transaction(ze,$?"readwrite":"readonly");let Rt=st.store;return P&&(Rt=Rt.index(He.shift())),(yield Promise.all([Rt[A](...He),$&&st.done]))[0]});return function(He){return oe.apply(this,arguments)}}();return qt.set(C,W),W}!function Ee(w){Ue=w(Ue)}(w=>({...w,get:(C,A,P)=>at(C,A)||w.get(C,A,P),has:(C,A)=>!!at(C,A)||w.has(C,A)}));const Do="@firebase/installations",ue="0.6.4",he=1e4,Ie=`w:${ue}`,Se="FIS_v2",Ge="https://firebaseinstallations.googleapis.com/v1",ke=36e5,gt=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(w){return w instanceof te.ZR&&w.code.includes("request-failed")}function Jt({projectId:w}){return`${Ge}/projects/${w}/installations`}function an(w){return{token:w.token,requestStatus:2,expiresIn:ps(w.expiresIn),creationTime:Date.now()}}function gn(w,C){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,z.Z)(function*(w,C){const P=(yield C.json()).error;return gt.create("request-failed",{requestName:w,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function Hn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function _r(w){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,z.Z)(function*(w){const C=yield w();return C.status>=500&&C.status<600?w():C})).apply(this,arguments)}function ps(w){return Number(w.replace("s","000"))}function dt(){return(dt=(0,z.Z)(function*({appConfig:w,heartbeatServiceProvider:C},{fid:A}){const P=Jt(w),$=Hn(w),W=C.getImmediate({optional:!0});if(W){const st=yield W.getHeartbeatsHeader();st&&$.append("x-firebase-client",st)}const ze={method:"POST",headers:$,body:JSON.stringify({fid:A,authVersion:Se,appId:w.appId,sdkVersion:Ie})},He=yield _r(()=>fetch(P,ze));if(He.ok){const st=yield He.json();return{fid:st.fid||A,registrationStatus:2,refreshToken:st.refreshToken,authToken:an(st.authToken)}}throw yield gn("Create Installation",He)})).apply(this,arguments)}function gs(w){return new Promise(C=>{setTimeout(C,w)})}const tr=/^[cdef][\w-]{21}$/,Ur="";function Ti(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const A=function un(w){return function Qa(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return tr.test(A)?A:Ur}catch{return Ur}}function Ht(w){return`${w.appName}!${w.appId}`}const ht=new Map;function Ot(w,C){const A=Ht(w);kn(A,C),function ui(w,C){const A=function br(){return!Fn&&"BroadcastChannel"in self&&(Fn=new BroadcastChannel("[Firebase] FID Change"),Fn.onmessage=w=>{kn(w.data.key,w.data.fid)}),Fn}();A&&A.postMessage({key:w,fid:C}),function pn(){0===ht.size&&Fn&&(Fn.close(),Fn=null)}()}(A,C)}function kn(w,C){const A=ht.get(w);if(A)for(const P of A)P(C)}let Fn=null;const ms="firebase-installations-database",Yt=1,ci="firebase-installations-store";let en=null;function Tr(){return en||(en=function re(w,C,{blocked:A,upgrade:P,blocking:$,terminated:W}={}){const oe=indexedDB.open(w,C),ze=Be(oe);return P&&oe.addEventListener("upgradeneeded",He=>{P(Be(oe.result),He.oldVersion,He.newVersion,Be(oe.transaction))}),A&&oe.addEventListener("blocked",()=>A()),ze.then(He=>{W&&He.addEventListener("close",()=>W()),$&&He.addEventListener("versionchange",()=>$())}).catch(()=>{}),ze}(ms,Yt,{upgrade:(w,C)=>{0===C&&w.createObjectStore(ci)}})),en}function Ln(w,C){return $r.apply(this,arguments)}function $r(){return($r=(0,z.Z)(function*(w,C){const A=Ht(w),$=(yield Tr()).transaction(ci,"readwrite"),W=$.objectStore(ci),oe=yield W.get(A);return yield W.put(C,A),yield $.done,(!oe||oe.fid!==C.fid)&&Ot(w,C.fid),C})).apply(this,arguments)}function zn(w){return Si.apply(this,arguments)}function Si(){return(Si=(0,z.Z)(function*(w){const C=Ht(w),P=(yield Tr()).transaction(ci,"readwrite");yield P.objectStore(ci).delete(C),yield P.done})).apply(this,arguments)}function jr(w,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,z.Z)(function*(w,C){const A=Ht(w),$=(yield Tr()).transaction(ci,"readwrite"),W=$.objectStore(ci),oe=yield W.get(A),ze=C(oe);return void 0===ze?yield W.delete(A):yield W.put(ze,A),yield $.done,ze&&(!oe||oe.fid!==ze.fid)&&Ot(w,ze.fid),ze})).apply(this,arguments)}function U(w){return F.apply(this,arguments)}function F(){return F=(0,z.Z)(function*(w){let C;const A=yield jr(w.appConfig,P=>{const $=function q(w){return fn(w||{fid:Ti(),registrationStatus:0})}(P),W=function fe(w,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(gt.create("app-offline"))};const A={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},P=function J(w,C){return Pe.apply(this,arguments)}(w,A);return{installationEntry:A,registrationPromise:P}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Tt(w)}:{installationEntry:C}}(w,$);return C=W.registrationPromise,W.installationEntry});return A.fid===Ur?{installationEntry:yield C}:{installationEntry:A,registrationPromise:C}}),F.apply(this,arguments)}function Pe(){return Pe=(0,z.Z)(function*(w,C){try{const A=yield function dr(w,C){return dt.apply(this,arguments)}(w,C);return Ln(w.appConfig,A)}catch(A){throw _t(A)&&409===A.customData.serverCode?yield zn(w.appConfig):yield Ln(w.appConfig,{fid:C.fid,registrationStatus:0}),A}}),Pe.apply(this,arguments)}function Tt(w){return nn.apply(this,arguments)}function nn(){return(nn=(0,z.Z)(function*(w){let C=yield Vn(w.appConfig);for(;1===C.registrationStatus;)yield gs(100),C=yield Vn(w.appConfig);if(0===C.registrationStatus){const{installationEntry:A,registrationPromise:P}=yield U(w);return P||A}return C})).apply(this,arguments)}function Vn(w){return jr(w,C=>{if(!C)throw gt.create("installation-not-found");return fn(C)})}function fn(w){return function mn(w){return 1===w.registrationStatus&&w.registrationTime+he<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Sr(){return(Sr=(0,z.Z)(function*({appConfig:w,heartbeatServiceProvider:C},A){const P=function li(w,{fid:C}){return`${Jt(w)}/${C}/authTokens:generate`}(w,A),$=function Qr(w,{refreshToken:C}){const A=Hn(w);return A.append("Authorization",function ra(w){return`${Se} ${w}`}(C)),A}(w,A),W=C.getImmediate({optional:!0});if(W){const st=yield W.getHeartbeatsHeader();st&&$.append("x-firebase-client",st)}const ze={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:Ie,appId:w.appId}})},He=yield _r(()=>fetch(P,ze));if(He.ok)return an(yield He.json());throw yield gn("Generate Auth Token",He)})).apply(this,arguments)}function es(w){return Co.apply(this,arguments)}function Co(){return Co=(0,z.Z)(function*(w,C=!1){let A;const P=yield jr(w.appConfig,W=>{if(!$t(W))throw gt.create("not-registered");const oe=W.authToken;if(!C&&function mt(w){return 2===w.requestStatus&&!function rn(w){const C=Date.now();return C<w.creationTime||w.creationTime+w.expiresIn<C+ke}(w)}(oe))return W;if(1===oe.requestStatus)return A=function ce(w,C){return X.apply(this,arguments)}(w,C),W;{if(!navigator.onLine)throw gt.create("app-offline");const ze=function Kt(w){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:C})}(W);return A=function ft(w,C){return St.apply(this,arguments)}(w,ze),ze}});return A?yield A:P.authToken}),Co.apply(this,arguments)}function X(){return(X=(0,z.Z)(function*(w,C){let A=yield Re(w.appConfig);for(;1===A.authToken.requestStatus;)yield gs(100),A=yield Re(w.appConfig);const P=A.authToken;return 0===P.requestStatus?es(w,C):P})).apply(this,arguments)}function Re(w){return jr(w,C=>{if(!$t(C))throw gt.create("not-registered");return function vr(w){return 1===w.requestStatus&&w.requestTime+he<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function St(){return St=(0,z.Z)(function*(w,C){try{const A=yield function Wt(w,C){return Sr.apply(this,arguments)}(w,C),P=Object.assign(Object.assign({},C),{authToken:A});return yield Ln(w.appConfig,P),A}catch(A){if(!_t(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const P=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Ln(w.appConfig,P)}else yield zn(w.appConfig);throw A}}),St.apply(this,arguments)}function $t(w){return void 0!==w&&2===w.registrationStatus}function Ja(){return(Ja=(0,z.Z)(function*(w){const C=w,{installationEntry:A,registrationPromise:P}=yield U(C);return P?P.catch(console.error):es(C).catch(console.error),A.fid})).apply(this,arguments)}function ys(){return ys=(0,z.Z)(function*(w,C=!1){const A=w;return yield function rr(w){return Ze.apply(this,arguments)}(A),(yield es(A,C)).token}),ys.apply(this,arguments)}function Ze(){return(Ze=(0,z.Z)(function*(w){const{registrationPromise:C}=yield U(w);C&&(yield C)})).apply(this,arguments)}function Ui(w){return gt.create("missing-app-config-values",{valueName:w})}const Lt="installations",di=w=>{const C=w.getProvider("app").getImmediate(),A=function ia(w){if(!w||!w.options)throw Ui("App Configuration");if(!w.name)throw Ui("App Name");const C=["projectId","apiKey","appId"];for(const A of C)if(!w.options[A])throw Ui(A);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(C);return{app:C,appConfig:A,heartbeatServiceProvider:(0,ie._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},sa=w=>{const C=w.getProvider("app").getImmediate(),A=(0,ie._getProvider)(C,Lt).getImmediate();return{getId:()=>function nr(w){return Ja.apply(this,arguments)}(A),getToken:$=>function _h(w){return ys.apply(this,arguments)}(A,$)}};(function vs(){(0,ie._registerComponent)(new ne.wA(Lt,di,"PUBLIC")),(0,ie._registerComponent)(new ne.wA("installations-internal",sa,"PRIVATE"))})(),(0,ie.registerVersion)(Do,ue),(0,ie.registerVersion)(Do,ue,"esm2017");const Gn="@firebase/remote-config",wr=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bp{constructor(C,A,P,$){this.client=C,this.storage=A,this.storageCache=P,this.logger=$}isCachedDataFresh(C,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-A,$=P<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${$}.`),$}fetch(C){var A=this;return(0,z.Z)(function*(){const[P,$]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if($&&A.isCachedDataFresh(C.cacheMaxAgeMillis,P))return $;C.eTag=$&&$.eTag;const W=yield A.client.fetch(C),oe=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&oe.push(A.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(oe),W})()}}function Sl(w=navigator){return w.languages&&w.languages[0]||w.language}class vh{constructor(C,A,P,$,W,oe){this.firebaseInstallations=C,this.sdkVersion=A,this.namespace=P,this.projectId=$,this.apiKey=W,this.appId=oe}fetch(C){var A=this;return(0,z.Z)(function*(){const[P,$]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},He={sdk_version:A.sdkVersion,app_instance_id:P,app_instance_id_token:$,app_id:A.appId,language_code:Sl()},st={method:"POST",headers:ze,body:JSON.stringify(He)},Rt=fetch(oe,st),At=new Promise((ni,Ir)=>{C.signal.addEventListener(()=>{const Cu=new Error("The operation was aborted.");Cu.name="AbortError",Ir(Cu)})});let Sn;try{yield Promise.race([Rt,At]),Sn=yield Rt}catch(ni){let Ir="fetch-client-network";throw"AbortError"===ni?.name&&(Ir="fetch-timeout"),wr.create(Ir,{originalErrorMessage:ni?.message})}let wt=Sn.status;const Ri=Sn.headers.get("ETag")||void 0;let Hc,wi;if(200===Sn.status){let ni;try{ni=yield Sn.json()}catch(Ir){throw wr.create("fetch-client-parse",{originalErrorMessage:Ir?.message})}Hc=ni.entries,wi=ni.state}if("INSTANCE_STATE_UNSPECIFIED"===wi?wt=500:"NO_CHANGE"===wi?wt=304:("NO_TEMPLATE"===wi||"EMPTY_CONFIG"===wi)&&(Hc={}),304!==wt&&200!==wt)throw wr.create("fetch-status",{httpStatus:wt});return{status:wt,eTag:Ri,config:Hc}})()}}class Ml{constructor(C,A){this.client=C,this.storage=A}fetch(C){var A=this;return(0,z.Z)(function*(){const P=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(C,P)})()}attemptFetch(C,{throttleEndTimeMillis:A,backoffCount:P}){var $=this;return(0,z.Z)(function*(){yield function Al(w,C){return new Promise((A,P)=>{const $=Math.max(C-Date.now(),0),W=setTimeout(A,$);w.addEventListener(()=>{clearTimeout(W),P(wr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,A);try{const W=yield $.client.fetch(C);return yield $.storage.deleteThrottleMetadata(),W}catch(W){if(!function wh(w){if(!(w instanceof te.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(W))throw W;const oe={throttleEndTimeMillis:Date.now()+(0,te.$s)(P),backoffCount:P+1};return yield $.storage.setThrottleMetadata(oe),$.attemptFetch(C,oe)}})()}}class Eh{constructor(C,A,P,$,W){this.app=C,this._client=A,this._storageCache=P,this._storage=$,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Is(w,C){const A=w.target.error||void 0;return wr.create(C,{originalErrorMessage:A&&A?.message})}const To="app_namespace_store";class Nl{constructor(C,A,P,$=function Dh(){return new Promise((w,C)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=P=>{C(Is(P,"storage-open"))},A.onsuccess=P=>{w(P.target.result)},A.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(To,{keyPath:"compositeKey"})}}catch(A){C(wr.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=C,this.appName=A,this.namespace=P,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var A=this;return(0,z.Z)(function*(){const P=yield A.openDbPromise;return new Promise(($,W)=>{const ze=P.transaction([To],"readonly").objectStore(To),He=A.createCompositeKey(C);try{const st=ze.get(He);st.onerror=Rt=>{W(Is(Rt,"storage-get"))},st.onsuccess=Rt=>{const At=Rt.target.result;$(At?At.value:void 0)}}catch(st){W(wr.create("storage-get",{originalErrorMessage:st?.message}))}})})()}set(C,A){var P=this;return(0,z.Z)(function*(){const $=yield P.openDbPromise;return new Promise((W,oe)=>{const He=$.transaction([To],"readwrite").objectStore(To),st=P.createCompositeKey(C);try{const Rt=He.put({compositeKey:st,value:A});Rt.onerror=At=>{oe(Is(At,"storage-set"))},Rt.onsuccess=()=>{W()}}catch(Rt){oe(wr.create("storage-set",{originalErrorMessage:Rt?.message}))}})})()}delete(C){var A=this;return(0,z.Z)(function*(){const P=yield A.openDbPromise;return new Promise(($,W)=>{const ze=P.transaction([To],"readwrite").objectStore(To),He=A.createCompositeKey(C);try{const st=ze.delete(He);st.onerror=Rt=>{W(Is(Rt,"storage-delete"))},st.onsuccess=()=>{$()}}catch(st){W(wr.create("storage-delete",{originalErrorMessage:st?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Ws{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,z.Z)(function*(){const A=C.storage.getLastFetchStatus(),P=C.storage.getLastSuccessfulFetchTimestampMillis(),$=C.storage.getActiveConfig(),W=yield A;W&&(C.lastFetchStatus=W);const oe=yield P;oe&&(C.lastSuccessfulFetchTimestampMillis=oe);const ze=yield $;ze&&(C.activeConfig=ze)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Ol(){return tu.apply(this,arguments)}function tu(){return(tu=(0,z.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}!function ca(){(0,ie._registerComponent)(new ne.wA("remote-config",function w(C,{instanceIdentifier:A}){const P=C.getProvider("app").getImmediate(),$=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wr.create("registration-window");if(!(0,te.hl)())throw wr.create("indexed-db-unavailable");const{projectId:W,apiKey:oe,appId:ze}=P.options;if(!W)throw wr.create("registration-project-id");if(!oe)throw wr.create("registration-api-key");if(!ze)throw wr.create("registration-app-id");const He=new Nl(ze,P.name,A=A||"firebase"),st=new Ws(He),Rt=new ge.Yd(Gn);Rt.logLevel=ge.in.ERROR;const At=new vh($,ie.SDK_VERSION,A,W,oe,ze),Sn=new Ml(At,He),wt=new bp(Sn,He,st,Rt),Ri=new Eh(P,wt,st,He,Rt);return function Ar(w){const C=(0,te.m9)(w);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Ri),Ri},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Gn,"0.4.4"),(0,ie.registerVersion)(Gn,"0.4.4","esm2017")}();const Ch=(w,C)=>C.some(A=>w instanceof A);let Ds,ac;const Ao=new WeakMap,Ks=new WeakMap,En=new WeakMap,la=new WeakMap,ru=new WeakMap;let Ys={get(w,C,A){if(w instanceof IDBTransaction){if("done"===C)return Ks.get(w);if("objectStoreNames"===C)return w.objectStoreNames||En.get(w);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Mr(w[C])},set:(w,C,A)=>(w[C]=A,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function iu(w){return"function"==typeof w?function bh(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kl(){return ac||(ac=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(sr(this),C),Mr(Ao.get(this))}:function(...C){return Mr(w.apply(sr(this),C))}:function(C,...A){const P=w.call(sr(this),C,...A);return En.set(P,C.sort?C.sort():[C]),Mr(P)}}(w):(w instanceof IDBTransaction&&function Zs(w){if(Ks.has(w))return;const C=new Promise((A,P)=>{const $=()=>{w.removeEventListener("complete",W),w.removeEventListener("error",oe),w.removeEventListener("abort",oe)},W=()=>{A(),$()},oe=()=>{P(w.error||new DOMException("AbortError","AbortError")),$()};w.addEventListener("complete",W),w.addEventListener("error",oe),w.addEventListener("abort",oe)});Ks.set(w,C)}(w),Ch(w,function nu(){return Ds||(Ds=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ys):w)}function Mr(w){if(w instanceof IDBRequest)return function qn(w){const C=new Promise((A,P)=>{const $=()=>{w.removeEventListener("success",W),w.removeEventListener("error",oe)},W=()=>{A(Mr(w.result)),$()},oe=()=>{P(w.error),$()};w.addEventListener("success",W),w.addEventListener("error",oe)});return C.then(A=>{A instanceof IDBCursor&&Ao.set(A,w)}).catch(()=>{}),ru.set(C,w),C}(w);if(la.has(w))return la.get(w);const C=iu(w);return C!==w&&(la.set(w,C),ru.set(C,w)),C}const sr=w=>ru.get(w);function da(w,C,{blocked:A,upgrade:P,blocking:$,terminated:W}={}){const oe=indexedDB.open(w,C),ze=Mr(oe);return P&&oe.addEventListener("upgradeneeded",He=>{P(Mr(oe.result),He.oldVersion,He.newVersion,Mr(oe.transaction))}),A&&oe.addEventListener("blocked",()=>A()),ze.then(He=>{W&&He.addEventListener("close",()=>W()),$&&He.addEventListener("versionchange",()=>$())}).catch(()=>{}),ze}function Cs(w,{blocked:C}={}){const A=indexedDB.deleteDatabase(w);return C&&A.addEventListener("blocked",()=>C()),Mr(A).then(()=>{})}const Fl=["get","getKey","getAll","getAllKeys","count"],rs=["put","add","delete","clear"],ha=new Map;function Mo(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(ha.get(C))return ha.get(C);const A=C.replace(/FromIndex$/,""),P=C!==A,$=rs.includes(A);if(!(A in(P?IDBIndex:IDBObjectStore).prototype)||!$&&!Fl.includes(A))return;const W=function(){var oe=(0,z.Z)(function*(ze,...He){const st=this.transaction(ze,$?"readwrite":"readonly");let Rt=st.store;return P&&(Rt=Rt.index(He.shift())),(yield Promise.all([Rt[A](...He),$&&st.done]))[0]});return function(He){return oe.apply(this,arguments)}}();return ha.set(C,W),W}!function fr(w){Ys=w(Ys)}(w=>({...w,get:(C,A,P)=>Mo(C,A)||w.get(C,A,P),has:(C,A)=>!!Mo(C,A)||w.has(C,A)}));const Nt="/firebase-messaging-sw.js",su="/firebase-cloud-messaging-push-scope",Th="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uc="https://fcmregistrations.googleapis.com/v1",cc="google.c.a.c_id",lc="google.c.a.c_l",Ll="google.c.a.ts",Vl="google.c.a.e";var le=(()=>{return(w=le||(le={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",le;var w})();function Pt(w){const C=new Uint8Array(w);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dc(w){const A=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(A),$=new Uint8Array(P.length);for(let W=0;W<P.length;++W)$[W]=P.charCodeAt(W);return $}const fa="fcm_token_details_db",xn=5,Ul="fcm_token_object_Store";function fi(){return fi=(0,z.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(fa))return null;let C=null;return(yield da(fa,xn,{upgrade:(P=(0,z.Z)(function*($,W,oe,ze){var He;if(W<2||!$.objectStoreNames.contains(Ul))return;const st=ze.objectStore(Ul),Rt=yield st.index("fcmSenderId").get(w);if(yield st.clear(),Rt)if(2===W){const At=Rt;if(!At.auth||!At.p256dh||!At.endpoint)return;C={token:At.fcmToken,createTime:null!==(He=At.createTime)&&void 0!==He?He:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:Pt(At.vapidKey)}}}else if(3===W){const At=Rt;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Pt(At.auth),p256dh:Pt(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Pt(At.vapidKey)}}}else if(4===W){const At=Rt;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Pt(At.auth),p256dh:Pt(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Pt(At.vapidKey)}}}}),function(W,oe,ze,He){return P.apply(this,arguments)})})).close(),yield Cs(fa),yield Cs("fcm_vapid_details_db"),yield Cs("undefined"),function ou(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:C}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var P}),fi.apply(this,arguments)}const Bl="firebase-messaging-database",$l=1,bs="firebase-messaging-store";let Ro=null;function pr(){return Ro||(Ro=da(Bl,$l,{upgrade:(w,C)=>{0===C&&w.createObjectStore(bs)}})),Ro}function zr(w){return Ts.apply(this,arguments)}function Ts(){return Ts=(0,z.Z)(function*(w){const C=Hl(w),P=yield(yield pr()).transaction(bs).objectStore(bs).get(C);if(P)return P;{const $=yield function xo(w){return fi.apply(this,arguments)}(w.appConfig.senderId);if($)return yield is(w,$),$}}),Ts.apply(this,arguments)}function is(w,C){return ji.apply(this,arguments)}function ji(){return(ji=(0,z.Z)(function*(w,C){const A=Hl(w),$=(yield pr()).transaction(bs,"readwrite");return yield $.objectStore(bs).put(C,A),yield $.done,C})).apply(this,arguments)}function Qs(){return(Qs=(0,z.Z)(function*(w){const C=Hl(w),P=(yield pr()).transaction(bs,"readwrite");yield P.objectStore(bs).delete(C),yield P.done})).apply(this,arguments)}function Hl({appConfig:w}){return w.appId}const Rn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function au(w,C){return pa.apply(this,arguments)}function pa(){return(pa=(0,z.Z)(function*(w,C){const A=yield ga(w),P=cu(C),$={method:"POST",headers:A,body:JSON.stringify(P)};let W;try{W=yield(yield fetch(hc(w.appConfig),$)).json()}catch(oe){throw Rn.create("token-subscribe-failed",{errorInfo:oe?.toString()})}if(W.error)throw Rn.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw Rn.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function uu(){return(uu=(0,z.Z)(function*(w,C){const A=yield ga(w),P=cu(C.subscriptionOptions),$={method:"PATCH",headers:A,body:JSON.stringify(P)};let W;try{W=yield(yield fetch(`${hc(w.appConfig)}/${C.token}`,$)).json()}catch(oe){throw Rn.create("token-update-failed",{errorInfo:oe?.toString()})}if(W.error)throw Rn.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw Rn.create("token-update-no-token");return W.token})).apply(this,arguments)}function Gl(w,C){return No.apply(this,arguments)}function No(){return(No=(0,z.Z)(function*(w,C){const P={method:"DELETE",headers:yield ga(w)};try{const W=yield(yield fetch(`${hc(w.appConfig)}/${C}`,P)).json();if(W.error)throw Rn.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch($){throw Rn.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function hc({projectId:w}){return`${uc}/projects/${w}/registrations`}function ga(w){return fc.apply(this,arguments)}function fc(){return(fc=(0,z.Z)(function*({appConfig:w,installations:C}){const A=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function cu({p256dh:w,auth:C,endpoint:A,vapidKey:P}){const $={web:{endpoint:A,auth:C,p256dh:w}};return P!==Th&&($.web.applicationPubKey=P),$}const ql=6048e5;function Wl(){return Wl=(0,z.Z)(function*(w){const C=yield function Ap(w,C){return Zl.apply(this,arguments)}(w.swRegistration,w.vapidKey),A={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:C.endpoint,auth:Pt(C.getKey("auth")),p256dh:Pt(C.getKey("p256dh"))},P=yield zr(w.firebaseDependencies);if(P){if(function Mp(w,C){return C.vapidKey===w.vapidKey&&C.endpoint===w.endpoint&&C.auth===w.auth&&C.p256dh===w.p256dh}(P.subscriptionOptions,A))return Date.now()>=P.createTime+ql?function _n(w,C){return Kl.apply(this,arguments)}(w,{token:P.token,createTime:Date.now(),subscriptionOptions:A}):P.token;try{yield Gl(w.firebaseDependencies,P.token)}catch($){console.warn($)}return Po(w.firebaseDependencies,A)}return Po(w.firebaseDependencies,A)}),Wl.apply(this,arguments)}function Hi(){return Hi=(0,z.Z)(function*(w){const C=yield zr(w.firebaseDependencies);C&&(yield Gl(w.firebaseDependencies,C.token),yield function jl(w){return Qs.apply(this,arguments)}(w.firebaseDependencies));const A=yield w.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Hi.apply(this,arguments)}function Kl(){return Kl=(0,z.Z)(function*(w,C){try{const A=yield function zl(w,C){return uu.apply(this,arguments)}(w.firebaseDependencies,C),P=Object.assign(Object.assign({},C),{token:A,createTime:Date.now()});return yield is(w.firebaseDependencies,P),A}catch(A){throw yield function Er(w){return Hi.apply(this,arguments)}(w),A}}),Kl.apply(this,arguments)}function Po(w,C){return gc.apply(this,arguments)}function gc(){return(gc=(0,z.Z)(function*(w,C){const P={token:yield au(w,C),createTime:Date.now(),subscriptionOptions:C};return yield is(w,P),P.token})).apply(this,arguments)}function Zl(){return(Zl=(0,z.Z)(function*(w,C){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dc(C)})})).apply(this,arguments)}function lu(w){const C={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function mc(w,C){if(!C.notification)return;w.notification={};const A=C.notification.title;A&&(w.notification.title=A);const P=C.notification.body;P&&(w.notification.body=P);const $=C.notification.image;$&&(w.notification.image=$);const W=C.notification.icon;W&&(w.notification.icon=W)}(C,w),function Yl(w,C){C.data&&(w.data=C.data)}(C,w),function Ql(w,C){var A,P,$,W,oe;if(!(C.fcmOptions||null!==(A=C.notification)&&void 0!==A&&A.click_action))return;w.fcmOptions={};const ze=null!==($=null===(P=C.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==$?$:null===(W=C.notification)||void 0===W?void 0:W.click_action;ze&&(w.fcmOptions.link=ze);const He=null===(oe=C.fcmOptions)||void 0===oe?void 0:oe.analytics_label;He&&(w.fcmOptions.analyticsLabel=He)}(C,w),C}function Oo(w,C){const A=[];for(let P=0;P<w.length;P++)A.push(w.charAt(P)),P<C.length&&A.push(C.charAt(P));return A.join("")}function ss(w){return Rn.create("missing-app-config-values",{valueName:w})}Oo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xp{constructor(C,A,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function ya(w){if(!w||!w.options)throw ss("App Configuration Object");if(!w.name)throw ss("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:A}=w;for(const P of C)if(!A[P])throw ss(P);return{appName:w.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:$,installations:A,analyticsProvider:P}}_delete(){return Promise.resolve()}}function Sh(w){return du.apply(this,arguments)}function du(){return(du=(0,z.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Nt,{scope:su}),w.swRegistration.update().catch(()=>{})}catch(C){throw Rn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function os(){return(os=(0,z.Z)(function*(w,C){if(!C&&!w.swRegistration&&(yield Sh(w)),C||!w.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Rn.create("invalid-sw-registration");w.swRegistration=C}})).apply(this,arguments)}function _a(){return(_a=(0,z.Z)(function*(w,C){C?w.vapidKey=C:w.vapidKey||(w.vapidKey=Th)})).apply(this,arguments)}function ko(){return ko=(0,z.Z)(function*(w,C){if(!navigator)throw Rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rn.create("permission-blocked");return yield function yc(w,C){return _a.apply(this,arguments)}(w,C?.vapidKey),yield function Jl(w,C){return os.apply(this,arguments)}(w,C?.serviceWorkerRegistration),function pc(w){return Wl.apply(this,arguments)}(w)}),ko.apply(this,arguments)}function Ss(){return(Ss=(0,z.Z)(function*(w,C,A){const P=function Js(w){switch(w){case le.NOTIFICATION_CLICKED:return"notification_open";case le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:A[cc],message_name:A[lc],message_time:A[Ll],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xs(){return Xs=(0,z.Z)(function*(w,C){const A=C.data;if(!A.isFirebaseMessaging)return;w.onMessageHandler&&A.messageType===le.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(lu(A)):w.onMessageHandler.next(lu(A)));const P=A.data;(function ma(w){return"object"==typeof w&&!!w&&cc in w})(P)&&"1"===P[Vl]&&(yield function Xl(w,C,A){return Ss.apply(this,arguments)}(w,A.messageType,P))}),Xs.apply(this,arguments)}const Lo="@firebase/messaging",wa=w=>{const C=new xp(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Fo(w,C){return Xs.apply(this,arguments)}(C,A)),C},_c=w=>{const C=w.getProvider("messaging").getImmediate();return{getToken:P=>function hu(w,C){return ko.apply(this,arguments)}(C,P)}};function Ah(){return vc.apply(this,arguments)}function vc(){return(vc=(0,z.Z)(function*(){try{yield(0,te.eu)()}catch{return!1}return typeof window<"u"&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ea(){(0,ie._registerComponent)(new ne.wA("messaging",wa,"PUBLIC")),(0,ie._registerComponent)(new ne.wA("messaging-internal",_c,"PRIVATE")),(0,ie.registerVersion)(Lo,"0.12.4"),(0,ie.registerVersion)(Lo,"0.12.4","esm2017")}();const As="analytics",pu="firebase_id",nd="origin",Ia=6e4,rd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gu="https://www.googletagmanager.com/gtag/js",Wn=new ge.Yd("@firebase/analytics"),In=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Mh(w){if(!w.startsWith(gu)){const C=In.create("invalid-gtag-resource",{gtagURL:w});return Wn.warn(C.message),""}return w}function Ms(w){return Promise.all(w.map(C=>C.catch(A=>A)))}function xs(){return(xs=(0,z.Z)(function*(w,C,A,P,$,W){const oe=P[$];try{if(oe)yield C[oe];else{const He=(yield Ms(A)).find(st=>st.measurementId===$);He&&(yield C[He.appId])}}catch(ze){Wn.error(ze)}w("config",$,W)})).apply(this,arguments)}function eo(){return(eo=(0,z.Z)(function*(w,C,A,P,$){try{let W=[];if($&&$.send_to){let oe=$.send_to;Array.isArray(oe)||(oe=[oe]);const ze=yield Ms(A);for(const He of oe){const st=ze.find(At=>At.measurementId===He),Rt=st&&C[st.appId];if(!Rt){W=[];break}W.push(Rt)}}0===W.length&&(W=Object.values(C)),yield Promise.all(W),w("event",P,$||{})}catch(W){Wn.error(W)}})).apply(this,arguments)}const yu=30,no=new class id{constructor(C={},A=1e3){this.throttleMetadata=C,this.intervalMillis=A}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,A){this.throttleMetadata[C]=A}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Rh(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Qt(){return(Qt=(0,z.Z)(function*(w){var C;const{appId:A,apiKey:P}=w,$={method:"GET",headers:Rh(P)},W=rd.replace("{app-id}",A),oe=yield fetch(W,$);if(200!==oe.status&&304!==oe.status){let ze="";try{const He=yield oe.json();null!==(C=He.error)&&void 0!==C&&C.message&&(ze=He.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:oe.status,responseMessage:ze})}return oe.json()})).apply(this,arguments)}function od(){return(od=(0,z.Z)(function*(w,C=no,A){const{appId:P,apiKey:$,measurementId:W}=w.options;if(!P)throw In.create("no-app-id");if(!$){if(W)return{measurementId:W,appId:P};throw In.create("no-api-key")}const oe=C.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Qm;return setTimeout((0,z.Z)(function*(){ze.abort()}),void 0!==A?A:Ia),Tc({appId:P,apiKey:$,measurementId:W},oe,ze,C)})).apply(this,arguments)}function Tc(w,C,A){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,z.Z)(function*(w,{throttleEndTimeMillis:C,backoffCount:A},P,$=no){var W;const{appId:oe,measurementId:ze}=w;try{yield function Nh(w,C){return new Promise((A,P)=>{const $=Math.max(C-Date.now(),0),W=setTimeout(A,$);w.addEventListener(()=>{clearTimeout(W),P(In.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(P,C)}catch(He){if(ze)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${He?.message}]`),{appId:oe,measurementId:ze};throw He}try{const He=yield function sd(w){return Qt.apply(this,arguments)}(w);return $.deleteThrottleMetadata(oe),He}catch(He){const st=He;if(!function Ym(w){if(!(w instanceof te.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(st)){if($.deleteThrottleMetadata(oe),ze)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:oe,measurementId:ze};throw He}const Rt=503===Number(null===(W=st?.customData)||void 0===W?void 0:W.httpStatus)?(0,te.$s)(A,$.intervalMillis,yu):(0,te.$s)(A,$.intervalMillis),At={throttleEndTimeMillis:Date.now()+Rt,backoffCount:A+1};return $.setThrottleMetadata(oe,At),Wn.debug(`Calling attemptFetch again in ${Rt} millis`),Tc(w,At,P,$)}}),Sc.apply(this,arguments)}class Qm{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let ro,xc;function Ph(){return(Ph=(0,z.Z)(function*(w,C,A,P,$){if($&&$.global)w("event",A,P);else{const W=yield C;w("event",A,Object.assign(Object.assign({},P),{send_to:W}))}})).apply(this,arguments)}function tn(){return(tn=(0,z.Z)(function*(){if(!(0,te.hl)())return Wn.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(w){return Wn.warn(In.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function nt(){return nt=(0,z.Z)(function*(w,C,A,P,$,W,oe){var ze;const He=function bc(w){return od.apply(this,arguments)}(w);He.then(wt=>{A[wt.measurementId]=wt.appId,w.options.measurementId&&wt.measurementId!==w.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${wt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wt=>Wn.error(wt)),C.push(He);const st=function pi(){return tn.apply(this,arguments)}().then(wt=>{if(wt)return P.getId()}),[Rt,At]=yield Promise.all([He,st]);(function Bo(w){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(gu)&&A.src.includes(w))return A;return null})(W)||function Uo(w,C){const A=function mu(w,C){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(w,C)),A}("firebase-js-sdk-policy",{createScriptURL:Mh}),P=document.createElement("script"),$=`${gu}?l=${w}&id=${C}`;P.src=A?A?.createScriptURL($):$,P.async=!0,document.head.appendChild(P)}(W,Rt.measurementId),xc&&($("consent","default",xc),function wu(w){xc=w}(void 0)),$("js",new Date);const Sn=null!==(ze=oe?.config)&&void 0!==ze?ze:{};return Sn[nd]="firebase",Sn.update=!0,null!=At&&(Sn[pu]=At),$("config",Rt.measurementId,Sn),ro&&($("set",ro),function Rc(w){ro=w}(void 0)),Rt.measurementId}),nt.apply(this,arguments)}class gi{constructor(C){this.app=C}_delete(){return delete Un[this.app.options.appId],Promise.resolve()}}let Un={},ud=[];const ba={};let cd,mi,or="dataLayer",Nc="gtag",Ns=!1;function Ta(w,C,A){!function io(){const w=[];if((0,te.ru)()&&w.push("This is a browser extension environment."),(0,te.zI)()||w.push("Cookies are not available."),w.length>0){const C=w.map((P,$)=>`(${$+1}) ${P}`).join(" "),A=In.create("invalid-analytics-context",{errorInfo:C});Wn.warn(A.message)}}();const P=w.options.appId;if(!P)throw In.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw In.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Un[P])throw In.create("already-exists",{id:P});if(!Ns){!function Ic(w){let C=[];Array.isArray(window[w])?C=window[w]:window[w]=C}(or);const{wrappedGtag:W,gtagCore:oe}=function to(w,C,A,P,$){let W=function(...oe){window[P].push(arguments)};return window[$]&&"function"==typeof window[$]&&(W=window[$]),window[$]=function Da(w,C,A,P){function W(){return W=(0,z.Z)(function*(oe,...ze){try{if("event"===oe){const[He,st]=ze;yield function xh(w,C,A,P,$){return eo.apply(this,arguments)}(w,C,A,He,st)}else if("config"===oe){const[He,st]=ze;yield function Dc(w,C,A,P,$,W){return xs.apply(this,arguments)}(w,C,A,P,He,st)}else if("consent"===oe){const[He]=ze;w("consent","update",He)}else if("get"===oe){const[He,st,Rt]=ze;w("get",He,st,Rt)}else if("set"===oe){const[He]=ze;w("set",He)}else w(oe,...ze)}catch(He){Wn.error(He)}}),W.apply(this,arguments)}return function $(oe){return W.apply(this,arguments)}}(W,w,C,A),{gtagCore:W,wrappedGtag:window[$]}}(Un,ud,ba,or,Nc);mi=W,cd=oe,Ns=!0}return Un[P]=function Mi(w,C,A,P,$,W,oe){return nt.apply(this,arguments)}(w,ud,ba,C,cd,or,A),new gi(w)}function ld(){return yi.apply(this,arguments)}function yi(){return(yi=(0,z.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}const xa="@firebase/analytics";!function Fc(){(0,ie._registerComponent)(new ne.wA(As,(C,{options:A})=>Ta(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ie._registerComponent)(new ne.wA("analytics-internal",function w(C){try{const A=C.getProvider(As).getImmediate();return{logEvent:(P,$,W)=>function Oh(w,C,A,P){w=(0,te.m9)(w),function Jm(w,C,A,P,$){return Ph.apply(this,arguments)}(mi,Un[w.app.options.appId],C,A,P).catch($=>Wn.error($))}(A,P,$,W)}}catch(A){throw In.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ie.registerVersion)(xa,"0.10.0"),(0,ie.registerVersion)(xa,"0.10.0","esm2017")}();var Lc=O(4408),ti=O(7565);const qr=new class Vc extends ti.v{}(class Ps extends Lc.o{constructor(C,A){super(C,A),this.scheduler=C,this.work=A}schedule(C,A=0){return A>0?super.schedule(C,A):(this.delay=A,this.state=C,this.scheduler.flush(this),this)}execute(C,A){return A>0||this.closed?super.execute(C,A):this._execute(C,A)}requestAsyncId(C,A,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(C,A,P):(C.flush(this),0)}});var kh=O(4986),vn=O(9751),Os=O(8505),Na=O(5363),_i=O(9468);const Zn=new h.GfV("7.6.1"),Pa="__angularfire_symbol__analyticsIsSupportedValue",Du="__angularfire_symbol__analyticsIsSupported",jo="__angularfire_symbol__remoteConfigIsSupportedValue",xi="__angularfire_symbol__remoteConfigIsSupported",Gi="__angularfire_symbol__messagingIsSupportedValue",Pn="__angularfire_symbol__messagingIsSupported";function Ho(w,C,A){if(C){if(1===C.length)return C[0];const W=C.filter(oe=>oe.app===A);if(1===W.length)return W[0]}return A.container.getProvider(w).getImmediate({optional:!0})}globalThis[Du]||(globalThis[Du]=ld().then(w=>globalThis[Pa]=w).catch(()=>globalThis[Pa]=!1)),globalThis[Pn]||(globalThis[Pn]=Ah().then(w=>globalThis[Gi]=w).catch(()=>globalThis[Gi]=!1)),globalThis[xi]||(globalThis[xi]=Ol().then(w=>globalThis[jo]=w).catch(()=>globalThis[jo]=!1));const hd=(w,C)=>{const A=C?[C]:(0,V.C6)(),P=[];return A.forEach($=>{$.container.getProvider(w).instances.forEach(oe=>{P.includes(oe)||P.push(oe)})}),P};function oo(){}class zo{constructor(C,A=qr){this.zone=C,this.delegate=A}now(){return this.delegate.now()}schedule(C,A,P){const $=this.zone;return this.delegate.schedule(function(oe){$.runGuarded(()=>{C.apply(this,[oe])})},A,P)}}class Ct{constructor(C){this.zone=C,this.task=null}call(C,A){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)),A.pipe((0,Os.b)({next:P,complete:P,error:P})).subscribe(C).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ks=(()=>{class w{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new zo(Zone.current)),this.insideAngular=A.run(()=>new zo(Zone.current,kh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(A){return new(A||w)(h.LFG(h.R0b))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ao(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Fs(w){return ao().ngZone.run(()=>w())}function Bc(w){return w.pipe((0,Na.Q)(ao().outsideAngular))}function $c(w){return ao(),function fd(w){return function(A){return(A=A.lift(new Ct(w.ngZone))).pipe((0,_i.R)(w.outsideAngular),(0,Na.Q)(w.insideAngular))}}(ao())(w)}const jc=(w,C)=>function(){const P=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),Fs(()=>w.apply(void 0,P))},pd=(w,C)=>function(){let A;const P=arguments;for(let W=0;W<arguments.length;W++)"function"==typeof P[W]&&(C&&(A||(A=Fs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)))),P[W]=jc(P[W],A));const $=function Go(w){return ao().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,P));if(!C){if($ instanceof vn.y){const W=ao();return $.pipe((0,_i.R)(W.outsideAngular),(0,Na.Q)(W.insideAngular))}return Fs(()=>$)}return $ instanceof vn.y?$.pipe($c):$ instanceof Promise?Fs(()=>new Promise((W,oe)=>$.then(ze=>Fs(()=>W(ze)),ze=>Fs(()=>oe(ze))))):"function"==typeof $&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),$.apply(this,arguments)}:Fs(()=>$)}},1389:(vt,Ce,O)=>{O.d(Ce,{$:()=>Nt,A:()=>B,D:()=>De,I:()=>Tn,J:()=>di,L:()=>$i,N:()=>jr,P:()=>Mi,Q:()=>Nl,R:()=>vu,U:()=>Pl,V:()=>Ol,W:()=>tu,X:()=>ns,Y:()=>nu,Z:()=>kl,_:()=>ru,a:()=>Gr,a0:()=>Th,a1:()=>cc,a2:()=>Tp,a3:()=>Ul,a4:()=>fi,a5:()=>Bl,a6:()=>bs,a7:()=>pr,a8:()=>Ts,a9:()=>ji,aA:()=>re,aB:()=>Du,aC:()=>zn,aD:()=>Jr,aE:()=>Os,aF:()=>Ma,aG:()=>Aa,aH:()=>sn,aL:()=>zi,aO:()=>Ds,aa:()=>jl,ab:()=>Hl,ac:()=>Sp,ad:()=>zl,ae:()=>Gl,af:()=>hc,ai:()=>ql,aj:()=>Wl,ak:()=>Er,an:()=>bh,ao:()=>mc,aq:()=>_a,ar:()=>Lo,as:()=>bt,at:()=>fn,au:()=>Tt,av:()=>Ee,aw:()=>At,ax:()=>Pn,ay:()=>mn,az:()=>ve,b:()=>fu,c:()=>mi,d:()=>Ta,e:()=>Pc,f:()=>xa,g:()=>Vc,h:()=>Lc,i:()=>Cc,j:()=>kh,k:()=>wi,l:()=>Ca,m:()=>Cu,p:()=>ye,r:()=>ad,s:()=>Rs,u:()=>pi,v:()=>ma});var h=O(5861),V=O(2090),z=O(6881),ie=O(655),te=O(1877),ne=O(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const De=function Z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},qe=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new te.Yd("@firebase/auth");function Ue(v,...f){Te.logLevel<=te.in.ERROR&&Te.error(`Auth (${z.SDK_VERSION}): ${v}`,...f)}function Ee(v,...f){throw Oe(v,...f)}function ve(v,...f){return Oe(v,...f)}function Ae(v,f,m){const E=Object.assign(Object.assign({},qe()),{[f]:m});return new V.LL("auth","Firebase",E).create(f,{appName:v.name})}function Be(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ee(v,"argument-error"),Ae(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(v,...f){if("string"!=typeof v){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return it.create(v,...f)}function re(v,f,...m){if(!v)throw Oe(f,...m)}function et(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Ue(f),new Error(f)}function bt(v,f){v||et(f)}function rt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function qt(){return"http:"===at()||"https:"===at()}function at(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class he{constructor(f,m){this.shortDelay=f,this.longDelay=m,bt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Do(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(v,f){bt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Se{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ke=new he(3e4,6e4);function Me(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function lt(v,f,m,E){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(v,f,m,E,M={}){return gt(v,M,(0,h.Z)(function*(){let N={},K={};E&&("GET"===f?K=E:N={body:JSON.stringify(E)});const se=(0,V.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),Ve=yield v._getAdditionalHeaders();return Ve["Content-Type"]="application/json",v.languageCode&&(Ve["X-Firebase-Locale"]=v.languageCode),Se.fetch()(gn(v,v.config.apiHost,m,se),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function gt(v,f,m){return _t.apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(v,f,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ge),f);try{const M=new Vr(v),N=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const K=yield N.json();if("needConfirmation"in K)throw Hn(v,"account-exists-with-different-credential",K);if(N.ok&&!("errorMessage"in K))return K;{const se=N.ok?K.errorMessage:K.error.message,[Ve,We]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Hn(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ve)throw Hn(v,"email-already-in-use",K);if("USER_DISABLED"===Ve)throw Hn(v,"user-disabled",K);const yt=E[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Ae(v,yt,We);Ee(v,yt)}}catch(M){if(M instanceof V.ZR)throw M;Ee(v,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Jt(v,f,m,E){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(v,f,m,E,M={}){const N=yield lt(v,f,m,E,M);return"mfaPendingCredential"in N&&Ee(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function gn(v,f,m,E){const M=`${f}${m}?${E}`;return v.config.emulator?Ie(v.config,M):`${v.config.apiScheme}://${M}`}class Vr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(ve(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(v,f,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const M=ve(v,f,E);return M.customData._tokenResponse=m,M}function _r(){return(_r=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function dt(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function tr(){return(tr=(0,h.Z)(function*(v,f=!1){const m=(0,V.m9)(v),E=yield m.getIdToken(f),M=Ti(E);re(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,K=N?.sign_in_provider;return{claims:M,token:E,authTime:dt(Ur(M.auth_time)),issuedAtTime:dt(Ur(M.iat)),expirationTime:dt(Ur(M.exp)),signInProvider:K||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Ur(v){return 1e3*Number(v)}function Ti(v){const[f,m,E]=v.split(".");if(void 0===f||void 0===m||void 0===E)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,V.tV)(m);return M?JSON.parse(M):(Ue("Failed to decode base64 JWT payload"),null)}catch(M){return Ue("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Ht(v,f){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof V.ZR&&function Ot({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class ai{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class Br{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=dt(this.lastLoginAt),this.creationTime=dt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(v){return ui.apply(this,arguments)}function ui(){return ui=(0,h.Z)(function*(v){var f;const m=v.auth,E=yield v.getIdToken(),M=yield Ht(v,function ra(v,f){return dr.apply(this,arguments)}(m,{idToken:E}));re(M?.users.length,m,"internal-error");const N=M.users[0];v._notifyReloadListener(N);const K=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function ms(v){return v.map(f=>{var{providerId:m}=f,E=(0,ie._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(N.providerUserInfo):[],se=function pn(v,f){return[...v.filter(E=>!f.some(M=>M.providerId===E.providerId)),...f]}(v.providerData,K),yt=!!v.isAnonymous&&!(v.email&&N.passwordHash||se?.length),Vt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:se,metadata:new Br(N.createdAt,N.lastLoginAt),isAnonymous:yt};Object.assign(v,Vt)}),ui.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(v){const f=(0,V.m9)(v);yield kn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(v,f){const m=yield gt(v,{},(0,h.Z)(function*(){const E=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:N}=v.config,K=gn(v,M,"/v1/token",`key=${N}`),se=yield v._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(K,{method:"POST",headers:se,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class en{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){re(f.idToken,"internal-error"),re(typeof f.idToken<"u","internal-error"),re(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function un(v){const f=Ti(v);return re(f,"internal-error"),re(typeof f.exp<"u","internal-error"),re(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,h.Z)(function*(){return re(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,h.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:K}=yield function Yt(v,f){return ci.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(M,N,Number(K))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:M,expirationTime:N}=m,K=new en;return E&&(re("string"==typeof E,"internal-error",{appName:f}),K.refreshToken=E),M&&(re("string"==typeof M,"internal-error",{appName:f}),K.accessToken=M),N&&(re("number"==typeof N,"internal-error",{appName:f}),K.expirationTime=N),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new en,this.toJSON())}_performRefresh(){return et("not implemented")}}function Tr(v,f){re("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Ln{constructor(f){var{uid:m,auth:E,stsTokenManager:M}=f,N=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Br(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const E=yield Ht(m,m.stsTokenManager.getToken(m.auth,f));return re(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function Qa(v){return tr.apply(this,arguments)}(this,f)}reload(){return function Fn(v){return br.apply(this,arguments)}(this)}_assign(f){this!==f&&(re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Ln(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,h.Z)(function*(){let M=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),M=!0),m&&(yield kn(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield Ht(f,function Qr(v,f){return _r.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,M,N,K,se,Ve,We,yt;const Vt=null!==(E=m.displayName)&&void 0!==E?E:void 0,Wr=null!==(M=m.email)&&void 0!==M?M:void 0,uo=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Wo=null!==(K=m.photoURL)&&void 0!==K?K:void 0,zc=null!==(se=m.tenantId)&&void 0!==se?se:void 0,us=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,$h=null!==(We=m.createdAt)&&void 0!==We?We:void 0,md=null!==(yt=m.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Gc,emailVerified:Ko,isAnonymous:yd,providerData:_d,stsTokenManager:Au}=m;re(Gc&&Au,f,"internal-error");const vd=en.fromJSON(this.name,Au);re("string"==typeof Gc,f,"internal-error"),Tr(Vt,f.name),Tr(Wr,f.name),re("boolean"==typeof Ko,f,"internal-error"),re("boolean"==typeof yd,f,"internal-error"),Tr(uo,f.name),Tr(Wo,f.name),Tr(zc,f.name),Tr(us,f.name),Tr($h,f.name),Tr(md,f.name);const Mu=new Ln({uid:Gc,auth:f,email:Wr,emailVerified:Ko,displayName:Vt,isAnonymous:yd,photoURL:Wo,phoneNumber:uo,tenantId:zc,stsTokenManager:vd,createdAt:$h,lastLoginAt:md});return _d&&Array.isArray(_d)&&(Mu.providerData=_d.map(Zo=>Object.assign({},Zo))),us&&(Mu._redirectEventId=us),Mu}static _fromIdTokenResponse(f,m,E=!1){return(0,h.Z)(function*(){const M=new en;M.updateFromServerResponse(m);const N=new Ln({uid:m.localId,auth:f,stsTokenManager:M,isAnonymous:E});return yield kn(N),N})()}}const $r=new Map;function zn(v){bt(v instanceof Function,"Expected a class definition");let f=$r.get(v);return f?(bt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,$r.set(v,f),f)}const jr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,E){var M=this;return(0,h.Z)(function*(){M.storage[m]=E})()}_get(m){var E=this;return(0,h.Z)(function*(){const M=E.storage[m];return void 0===M?null:M})()}_remove(m){var E=this;return(0,h.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function Jr(v,f,m){return`firebase:${v}:${f}:${m}`}class U{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:M,name:N}=this.auth;this.fullUserKey=Jr(this.userKey,M.apiKey,N),this.fullPersistenceKey=Jr("persistence",M.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Ln._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,h.Z)(function*(){if(!m.length)return new U(zn(jr),f,E);const M=(yield Promise.all(m.map(function(){var We=(0,h.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return We.apply(this,arguments)}}()))).filter(We=>We);let N=M[0]||zn(jr);const K=Jr(E,f.config.apiKey,f.name);let se=null;for(const We of m)try{const yt=yield We._get(K);if(yt){const Vt=Ln._fromJSON(f,yt);We!==N&&(se=Vt),N=We;break}}catch{}const Ve=M.filter(We=>We._shouldAllowMigration);return N._shouldAllowMigration&&Ve.length?(N=Ve[0],se&&(yield N._set(K,se.toJSON())),yield Promise.all(m.map(function(){var We=(0,h.Z)(function*(yt){if(yt!==N)try{yield yt._remove(K)}catch{}});return function(yt){return We.apply(this,arguments)}}())),new U(N,f,E)):new U(N,f,E)})()}}function F(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Pe(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(q(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(nn(f))return"Blackberry";if(Vn(f))return"Webos";if(fe(f))return"Safari";if((f.includes("chrome/")||J(f))&&!f.includes("edge/"))return"Chrome";if(Tt(f))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function q(v=(0,V.z$)()){return/firefox\//i.test(v)}function fe(v=(0,V.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function J(v=(0,V.z$)()){return/crios\//i.test(v)}function Pe(v=(0,V.z$)()){return/iemobile/i.test(v)}function Tt(v=(0,V.z$)()){return/android/i.test(v)}function nn(v=(0,V.z$)()){return/blackberry/i.test(v)}function Vn(v=(0,V.z$)()){return/webos/i.test(v)}function fn(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function mn(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function li(v=(0,V.z$)()){return fn(v)||Tt(v)||Vn(v)||nn(v)||/windows phone/i.test(v)||Pe(v)}function Co(v,f=[]){let m;switch(v){case"Browser":m=F((0,V.z$)());break;case"Worker":m=`${F((0,V.z$)())}-${v}`;break;default:m=v}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${z.SDK_VERSION}/${E}`}function X(){return(X=(0,h.Z)(function*(v){return(yield lt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Re(v,f){return ft.apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(v,f){return lt(v,"GET","/v2/recaptchaConfig",Me(v,f))})).apply(this,arguments)}function St(v){return void 0!==v&&void 0!==v.getResponse}function $t(v){return void 0!==v&&void 0!==v.enterprise}class mt{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Kt(v){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=f,E.onerror=M=>{const N=ve("internal-error");N.customData=M,m(N)},E.type="text/javascript",E.charset="UTF-8",function rn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(E)})}function vr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const _h="NO_RECAPTCHA";class ys{constructor(f){this.type="recaptcha-enterprise",this.auth=sn(f)}verify(f="verify",m=!1){var E=this;return(0,h.Z)(function*(){function N(){return N=(0,h.Z)(function*(se){if(!m){if(null==se.tenantId&&null!=se._agentRecaptchaConfig)return se._agentRecaptchaConfig.siteKey;if(null!=se.tenantId&&void 0!==se._tenantRecaptchaConfigs[se.tenantId])return se._tenantRecaptchaConfigs[se.tenantId].siteKey}return new Promise(function(){var Ve=(0,h.Z)(function*(We,yt){Re(se,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vt=>{if(void 0!==Vt.recaptchaKey){const Wr=new mt(Vt);return null==se.tenantId?se._agentRecaptchaConfig=Wr:se._tenantRecaptchaConfigs[se.tenantId]=Wr,We(Wr.siteKey)}yt(new Error("recaptcha Enterprise site key undefined"))}).catch(Vt=>{yt(Vt)})});return function(We,yt){return Ve.apply(this,arguments)}}())}),N.apply(this,arguments)}function K(se,Ve,We){const yt=window.grecaptcha;$t(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(se,{action:f}).then(Vt=>{Ve(Vt)}).catch(()=>{Ve(_h)})}):We(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((se,Ve)=>{(function M(se){return N.apply(this,arguments)})(E.auth).then(We=>{if(!m&&$t(window.grecaptcha))K(We,se,Ve);else{if(typeof window>"u")return void Ve(new Error("RecaptchaVerifier is only supported in browser"));Kt("https://www.google.com/recaptcha/enterprise.js?render="+We).then(()=>{K(We,se,Ve)}).catch(yt=>{Ve(yt)})}}).catch(We=>{Ve(We)})})})()}}function rr(v,f,m){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(v,f,m,E=!1){const M=new ys(v);let N;try{N=yield M.verify(m)}catch{N=yield M.verify(m,!0)}const K=Object.assign({},f);return Object.assign(K,E?{captchaResp:N}:{captchaResponse:N}),Object.assign(K,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(K,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),K})).apply(this,arguments)}class Bt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=N=>new Promise((K,se)=>{try{K(f(N))}catch(Ve){se(Ve)}});E.onAbort=m,this.queue.push(E);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===f)return;const E=[];try{for(const M of m.queue)yield M(f),M.onAbort&&E.push(M.onAbort)}catch(M){E.reverse();for(const N of E)try{N()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class yn{constructor(f,m,E,M){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=E,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _s(this),this.idTokenSubscription=new _s(this),this.beforeStateQueue=new Bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=zn(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var M,N;if(!E._deleted&&(E.persistenceManager=yield U.create(E,f),!E._deleted)){if(null!==(M=E._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var E;const M=yield m.assertedPersistence.getCurrentUser();let N=M,K=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const se=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Ve=N?._redirectEventId,We=yield m.tryRedirectSignIn(f);(!se||se===Ve)&&We?.user&&(N=We.user,K=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(N)}catch(se){N=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(se))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield kn(f)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const E=f?(0,V.m9)(f):null;return E&&re(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return f&&re(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(zn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,h.Z)(function*(){const m=yield Re(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new mt(m);null==f.tenantId?f._agentRecaptchaConfig=E:f._tenantRecaptchaConfigs[f.tenantId]=E,E.emailPasswordEnabled&&new ys(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,h.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(m);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&zn(f)||m._popupRedirectResolver;re(E,m,"argument-error"),m.redirectPersistenceManager=yield U.create(m,[zn(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var E,M;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,M){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return re(K,this,"internal-error"),K.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,E,M):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Co(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();M&&(E["X-Firebase-Client"]=M);const N=yield f._getAppCheckToken();return N&&(E["X-Firebase-AppCheck"]=N),E})()}_getAppCheckToken(){var f=this;return(0,h.Z)(function*(){var m;const E=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return E?.error&&function Ne(v,...f){Te.logLevel<=te.in.WARN&&Te.warn(`Auth (${z.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function sn(v){return(0,V.m9)(v)}class _s{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tn(v,f,m){const E=sn(v);re(E._canInitEmulator,E,"emulator-config-failed"),re(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const M=!!m?.disableWarnings,N=ia(f),{host:K,port:se}=function Ui(v){const f=ia(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const N=M[1];return{host:N,port:Lt(E.substr(N.length+1))}}{const[N,K]=E.split(":");return{host:N,port:Lt(K)}}}(f);E.config.emulator={url:`${N}//${K}${null===se?"":`:${se}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:K,port:se,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Xa(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ia(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Lt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class di{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return et("not implemented")}_getIdTokenResponse(f){return et("not implemented")}_linkToIdToken(f,m){return et("not implemented")}_getReauthenticationResolver(f){return et("not implemented")}}function sa(v,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:resetPassword",Me(v,f))})).apply(this,arguments)}function Gn(v,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:update",Me(v,f))})).apply(this,arguments)}function Bi(v,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithPassword",Me(v,f))})).apply(this,arguments)}function hn(v,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:sendOobCode",Me(v,f))})).apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(v,f){return hn(v,f)})).apply(this,arguments)}function bo(v,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(v,f){return hn(v,f)})).apply(this,arguments)}function ts(v,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(v,f){return hn(v,f)})).apply(this,arguments)}function Ar(){return(Ar=(0,h.Z)(function*(v,f){return hn(v,f)})).apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithEmailLink",Me(v,f))})).apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithEmailLink",Me(v,f))})).apply(this,arguments)}class Hr extends di{constructor(f,m,E,M=null){super("password",E),this._email=f,this._password=m,this._tenantId=M}static _fromEmailAndPassword(f,m){return new Hr(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new Hr(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){var E;switch(m.signInMethod){case"password":const M={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=f._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const N=yield rr(f,M,"signInWithPassword");return Bi(f,N)}return Bi(f,M).catch(function(){var N=(0,h.Z)(function*(K){if("auth/missing-recaptcha-token"===K.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const se=yield rr(f,M,"signInWithPassword");return Bi(f,se)}return Promise.reject(K)});return function(K){return N.apply(this,arguments)}}());case"emailLink":return function Ai(v,f){return qs.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ee(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Gn(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function eu(v,f){return aa.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Ee(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Es(v,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithIdp",Me(v,f))})).apply(this,arguments)}class $i extends di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new $i(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:M}=m,N=(0,ie._T)(m,["providerId","signInMethod"]);if(!E||!M)return null;const K=new $i(E,M);return K.idToken=N.idToken||void 0,K.accessToken=N.accessToken||void 0,K.secret=N.secret,K.nonce=N.nonce,K.pendingToken=N.pendingToken||null,K}_getIdTokenResponse(f){return Es(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Es(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Es(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,V.xO)(m)}return f}}function Sl(){return(Sl=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:sendVerificationCode",Me(v,f))})).apply(this,arguments)}function Al(){return(Al=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",Me(v,f))})).apply(this,arguments)}function Ml(){return(Ml=(0,h.Z)(function*(v,f){const m=yield Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",Me(v,f));if(m.temporaryProof)throw Hn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const xl={USER_NOT_FOUND:"user-not-found"};function Eh(){return(Eh=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",Me(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),xl)})).apply(this,arguments)}class Is extends di{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Is({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Is({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function vh(v,f){return Al.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function wh(v,f){return Ml.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Rl(v,f){return Eh.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:M}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:M,temporaryProof:N}=f;return E||m||M||N?new Is({verificationId:m,verificationCode:E,phoneNumber:M,temporaryProof:N}):null}}class So{constructor(f){var m,E,M,N,K,se;const Ve=(0,V.zd)((0,V.pd)(f)),We=null!==(m=Ve.apiKey)&&void 0!==m?m:null,yt=null!==(E=Ve.oobCode)&&void 0!==E?E:null,Vt=function To(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ve.mode)&&void 0!==M?M:null);re(We&&yt&&Vt,"argument-error"),this.apiKey=We,this.operation=Vt,this.code=yt,this.continueUrl=null!==(N=Ve.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(K=Ve.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(se=Ve.tenantId)&&void 0!==se?se:null}static parseLink(f){const m=function Ih(v){const f=(0,V.zd)((0,V.pd)(v)).link,m=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,E=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(E?(0,V.zd)((0,V.pd)(E)).link:null)||E||m||f||v}(f);try{return new So(m)}catch{return null}}}let Nl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Hr._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const M=So.parseLink(E);return re(M,"argument-error"),Hr._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ws{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ca extends Ws{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ns extends ca{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return re("providerId"in m&&"signInMethod"in m,"argument-error"),$i._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return re(f.idToken||f.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ns.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ns.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:N,nonce:K,providerId:se}=f;if(!E&&!M&&!m&&!N||!se)return null;try{return new ns(se)._credential({idToken:m,accessToken:E,nonce:K,pendingToken:N})}catch{return null}}}let Pl=(()=>{class v extends ca{constructor(){super("facebook.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ol=(()=>{class v extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:M}=m;if(!E&&!M)return null;try{return v.credential(E,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),tu=(()=>{class v extends ca{constructor(){super("github.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ds extends di{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Es(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Es(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Es(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:M,pendingToken:N}=m;return E&&M&&N&&E===M?new Ds(E,N):null}static _create(f,m){return new Ds(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nu extends Ws{constructor(f){re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return nu.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return nu.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ds.fromJSON(f);return re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return Ds._create(E,m)}catch{return null}}}let kl=(()=>{class v extends ca{constructor(){super("twitter.com")}static credential(m,E){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=m;if(!E||!M)return null;try{return v.credential(E,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ao(v,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signUp",Me(v,f))})).apply(this,arguments)}class En{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,M=!1){return(0,h.Z)(function*(){const N=yield Ln._fromIdTokenResponse(f,E,M),K=la(E);return new En({user:N,providerId:K,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const M=la(E);return new En({user:f,providerId:M,_tokenResponse:E,operationType:m})})()}}function la(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ru(v){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(v){var f;const m=sn(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new En({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Ao(m,{returnSecureToken:!0}),M=yield En._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Zs extends V.ZR{constructor(f,m,E,M){var N;super(m.code,m.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Zs.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,M){return new Zs(f,m,E,M)}}function Ys(v,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Zs._fromErrorAndOperation(v,N,f,E):N})}function fr(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function bh(v,f){return iu.apply(this,arguments)}function iu(){return iu=(0,h.Z)(function*(v,f){const m=(0,V.m9)(v);yield da(!0,m,f);const{providerUserInfo:E}=yield function Vi(v,f){return ps.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),M=fr(E||[]);return m.providerData=m.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),iu.apply(this,arguments)}function Mr(v,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,h.Z)(function*(v,f,m=!1){const E=yield Ht(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return En._forOperation(v,"link",E)})).apply(this,arguments)}function da(v,f,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(v,f,m){yield kn(f);const M=!1===v?"provider-already-linked":"no-such-provider";re(fr(f.providerData).has(m)===v,f.auth,M)})).apply(this,arguments)}function Fl(v,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(v,f,m=!1){const{auth:E}=v,M="reauthenticate";try{const N=yield Ht(v,Ys(E,M,f,v),m);re(N.idToken,E,"internal-error");const K=Ti(N.idToken);re(K,E,"internal-error");const{sub:se}=K;return re(v.uid===se,E,"user-mismatch"),En._forOperation(v,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&Ee(E,"user-mismatch"),N}})).apply(this,arguments)}function ha(v,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(v,f,m=!1){const E="signIn",M=yield Ys(v,E,f),N=yield En._fromIdTokenResponse(v,E,M);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Nt(v,f){return su.apply(this,arguments)}function su(){return(su=(0,h.Z)(function*(v,f){return ha(sn(v),f)})).apply(this,arguments)}function Th(v,f){return uc.apply(this,arguments)}function uc(){return(uc=(0,h.Z)(function*(v,f){const m=(0,V.m9)(v);return yield da(!1,m,f.providerId),Mr(m,f)})).apply(this,arguments)}function cc(v,f){return lc.apply(this,arguments)}function lc(){return(lc=(0,h.Z)(function*(v,f){return Fl((0,V.m9)(v),f)})).apply(this,arguments)}function Vl(){return(Vl=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithCustomToken",Me(v,f))})).apply(this,arguments)}function Tp(v,f){return le.apply(this,arguments)}function le(){return le=(0,h.Z)(function*(v,f){const m=sn(v),E=yield function Ll(v,f){return Vl.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),M=yield En._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(M.user),M}),le.apply(this,arguments)}class Pt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?dc._fromServerResponse(f,m):"totpInfo"in m?fa._fromServerResponse(f,m):Ee(f,"internal-error")}}class dc extends Pt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new dc(m)}}class fa extends Pt{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new fa(m)}}function xn(v,f,m){var E;re((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),re(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(re(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(re(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Ul(v,f,m){return xo.apply(this,arguments)}function xo(){return xo=(0,h.Z)(function*(v,f,m){var E;const M=sn(v),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const K=yield rr(M,N,"getOobCode",!0);m&&xn(M,K,m),yield bo(M,K)}else m&&xn(M,N,m),yield bo(M,N).catch(function(){var K=(0,h.Z)(function*(se){if("auth/missing-recaptcha-token"!==se.code)return Promise.reject(se);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ve=yield rr(M,N,"getOobCode",!0);m&&xn(M,Ve,m),yield bo(M,Ve)}});return function(se){return K.apply(this,arguments)}}())}),xo.apply(this,arguments)}function fi(v,f,m){return ou.apply(this,arguments)}function ou(){return(ou=(0,h.Z)(function*(v,f,m){yield sa((0,V.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Bl(v,f){return $l.apply(this,arguments)}function $l(){return $l=(0,h.Z)(function*(v,f){yield function Gs(v,f){return Xr.apply(this,arguments)}((0,V.m9)(v),{oobCode:f})}),$l.apply(this,arguments)}function bs(v,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(v,f){const m=(0,V.m9)(v),E=yield sa(m,{oobCode:f}),M=E.requestType;switch(re(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(E.mfaInfo,m,"internal-error");default:re(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=Pt._fromServerResponse(sn(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function pr(v,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,h.Z)(function*(v,f){const{data:m}=yield bs((0,V.m9)(v),f);return m.email})).apply(this,arguments)}function Ts(v,f,m){return is.apply(this,arguments)}function is(){return is=(0,h.Z)(function*(v,f,m){var E;const M=sn(v),N={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let K;if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const We=yield rr(M,N,"signUpPassword");K=Ao(M,We)}else K=Ao(M,N).catch(function(){var We=(0,h.Z)(function*(yt){if("auth/missing-recaptcha-token"===yt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Vt=yield rr(M,N,"signUpPassword");return Ao(M,Vt)}return Promise.reject(yt)});return function(yt){return We.apply(this,arguments)}}());const se=yield K.catch(We=>Promise.reject(We)),Ve=yield En._fromIdTokenResponse(M,"signIn",se);return yield M._updateCurrentUser(Ve.user),Ve}),is.apply(this,arguments)}function ji(v,f,m){return Nt((0,V.m9)(v),Nl.credential(f,m))}function jl(v,f,m){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,h.Z)(function*(v,f,m){var E;const M=sn(v),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function K(se,Ve){re(Ve.handleCodeInApp,M,"argument-error"),Ve&&xn(M,se,Ve)}if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const se=yield rr(M,N,"getOobCode",!0);K(se,m),yield ts(M,se)}else K(N,m),yield ts(M,N).catch(function(){var se=(0,h.Z)(function*(Ve){if("auth/missing-recaptcha-token"!==Ve.code)return Promise.reject(Ve);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const We=yield rr(M,N,"getOobCode",!0);K(We,m),yield ts(M,We)}});return function(Ve){return se.apply(this,arguments)}}())}),Qs.apply(this,arguments)}function Hl(v,f){return"EMAIL_SIGNIN"===So.parseLink(f)?.operation}function Sp(v,f,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(v,f,m){const E=(0,V.m9)(v),M=Nl.credentialWithLink(f,m||rt());return re(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Nt(E,M)})).apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:createAuthUri",Me(v,f))})).apply(this,arguments)}function zl(v,f){return uu.apply(this,arguments)}function uu(){return uu=(0,h.Z)(function*(v,f){const E={identifier:f,continueUri:qt()?rt():"http://localhost"},{signinMethods:M}=yield function au(v,f){return pa.apply(this,arguments)}((0,V.m9)(v),E);return M||[]}),uu.apply(this,arguments)}function Gl(v,f){return No.apply(this,arguments)}function No(){return No=(0,h.Z)(function*(v,f){const m=(0,V.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&xn(m.auth,M,f);const{email:N}=yield function oc(v,f){return oa.apply(this,arguments)}(m.auth,M);N!==v.email&&(yield v.reload())}),No.apply(this,arguments)}function hc(v,f,m){return ga.apply(this,arguments)}function ga(){return ga=(0,h.Z)(function*(v,f,m){const E=(0,V.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&xn(E.auth,N,m);const{email:K}=yield function Tl(v,f){return Ar.apply(this,arguments)}(E.auth,N);K!==v.email&&(yield v.reload())}),ga.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ql(v,f){return pc.apply(this,arguments)}function pc(){return pc=(0,h.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,V.m9)(v),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},K=yield Ht(E,function fc(v,f){return cu.apply(this,arguments)}(E.auth,N));E.displayName=K.displayName||null,E.photoURL=K.photoUrl||null;const se=E.providerData.find(({providerId:Ve})=>"password"===Ve);se&&(se.displayName=E.displayName,se.photoURL=E.photoURL),yield E._updateTokensIfNecessary(K)}),pc.apply(this,arguments)}function Wl(v,f){return Hi((0,V.m9)(v),f,null)}function Er(v,f){return Hi((0,V.m9)(v),null,f)}function Hi(v,f,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(v,f,m){const{auth:E}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const K=yield Ht(v,Gn(E,N));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Po{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class gc extends Po{constructor(f,m,E,M){super(f,m,E),this.username=M}}class Ap extends Po{constructor(f,m){super(f,"facebook.com",m)}}class Zl extends gc{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Mp extends Po{constructor(f,m){super(f,"google.com",m)}}class lu extends gc{constructor(f,m,E){super(f,"twitter.com",m,E)}}function mc(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Kl(v){var f,m;if(!v)return null;const{providerId:E}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const K=null===(m=null===(f=Ti(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Po(N,"anonymous"!==K&&"custom"!==K?K:null)}if(!E)return null;switch(E){case"facebook.com":return new Ap(N,M);case"github.com":return new Zl(N,M);case"google.com":return new Mp(N,M);case"twitter.com":return new lu(N,M,v.screenName||null);case"custom":case"anonymous":return new Po(N,null);default:return new Po(N,E,M)}}(m)}function ma(v,f,m,E){return(0,V.m9)(v).onIdTokenChanged(f,m,E)}class os{constructor(f,m,E){this.type=f,this.credential=m,this.auth=E}static _fromIdtoken(f,m){return new os("enroll",f,m)}static _fromMfaPendingCredential(f){return new os("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return os._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return os._fromIdtoken(f.multiFactorSession.idToken)}return null}}class yc{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=sn(f),M=m.customData._serverResponse,N=(M.mfaInfo||[]).map(se=>Pt._fromServerResponse(E,se));re(M.mfaPendingCredential,E,"internal-error");const K=os._fromMfaPendingCredential(M.mfaPendingCredential);return new yc(K,N,function(){var se=(0,h.Z)(function*(Ve){const We=yield Ve._process(E,K);delete M.mfaInfo,delete M.mfaPendingCredential;const yt=Object.assign(Object.assign({},M),{idToken:We.idToken,refreshToken:We.refreshToken});switch(m.operationType){case"signIn":const Vt=yield En._fromIdTokenResponse(E,m.operationType,yt);return yield E._updateCurrentUser(Vt.user),Vt;case"reauthenticate":return re(m.user,E,"internal-error"),En._forOperation(m.user,m.operationType,yt);default:Ee(E,"internal-error")}});return function(Ve){return se.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function _a(v,f){var m;const E=(0,V.m9)(v),M=f;return re(f.customData.operationType,E,"argument-error"),re(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),yc._fromError(E,M)}class Fo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Pt._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new Fo(f)}getSession(){var f=this;return(0,h.Z)(function*(){return os._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var E=this;return(0,h.Z)(function*(){const M=f,N=yield E.getSession(),K=yield Ht(E.user,M._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(K),E.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const E="string"==typeof f?f:f.uid,M=yield m.user.getIdToken();try{const N=yield Ht(m.user,function Js(v,f){return lt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Me(v,f))}(m.user.auth,{idToken:M,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==E),yield m.user._updateTokensIfNecessary(N),yield m.user.reload()}catch(N){throw N}})()}}const Xs=new WeakMap;function Lo(v){const f=(0,V.m9)(v);return Xs.has(f)||Xs.set(f,Fo._fromUser(f)),Xs.get(f)}const va="__sak";class wa{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(va,"1"),this.storage.removeItem(va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const fu=(()=>{class v extends wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _c(){const v=(0,V.z$)();return fe(v)||fn(v)}()&&function es(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=li(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),N=this.localCache[E];M!==N&&m(E,N,M)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((se,Ve,We)=>{this.notifyListeners(se,We)});const M=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(M);if(m.newValue!==se)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!E)return}const N=()=>{const se=this.storage.getItem(M);!E&&this.localCache[M]===se||this.notifyListeners(M,se)},K=this.storage.getItem(M);!function Sr(){return(0,V.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var M=()=>super._set,N=this;return(0,h.Z)(function*(){yield M().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,M=this;return(0,h.Z)(function*(){const N=yield E().call(M,m);return M.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,M=this;return(0,h.Z)(function*(){yield E().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),Gr=(()=>{class v extends wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let Ec=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,h.Z)(function*(){const M=m,{eventId:N,eventType:K,data:se}=M.data,Ve=E.handlersMap[K];if(!Ve?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:K});const We=Array.from(Ve).map(function(){var Vt=(0,h.Z)(function*(Wr){return Wr(M.origin,se)});return function(Wr){return Vt.apply(this,arguments)}}()),yt=yield function ed(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(We);M.ports[0].postMessage({status:"done",eventId:N,eventType:K,response:yt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function zi(v="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return v+m}class td{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var M=this;return(0,h.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let K,se;return new Promise((Ve,We)=>{const yt=zi("",20);N.port1.start();const Vt=setTimeout(()=>{We(new Error("unsupported_event"))},E);se={messageChannel:N,onMessage(Wr){const uo=Wr;if(uo.data.eventId===yt)switch(uo.data.status){case"ack":clearTimeout(Vt),K=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ve(uo.data.response);break;default:clearTimeout(Vt),clearTimeout(K),We(new Error("invalid_response"))}}},M.handlers.add(se),N.port1.addEventListener("message",se.onMessage),M.target.postMessage({eventType:f,eventId:yt,data:m},[N.port2])}).finally(()=>{se&&M.removeMessageHandler(se)})})()}}function Nn(){return window}function pu(){return typeof Nn().WorkerGlobalScope<"u"&&"function"==typeof Nn().importScripts}function Ia(){return(Ia=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wn="firebaseLocalStorageDb",Vo=1,In="firebaseLocalStorage",Mh="fbase_key";class Ms{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function mu(v,f){return v.transaction([In],f?"readwrite":"readonly").objectStore(In)}function Ic(){const v=indexedDB.open(Wn,Vo);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(In,{keyPath:Mh})}catch(M){m(M)}}),v.addEventListener("success",(0,h.Z)(function*(){const E=v.result;E.objectStoreNames.contains(In)?f(E):(E.close(),yield function Uo(){const v=indexedDB.deleteDatabase(Wn);return new Ms(v).toPromise()}(),f(yield Ic()))}))})}function Dc(v,f,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,h.Z)(function*(v,f,m){const E=mu(v,!0).put({[Mh]:f,value:m});return new Ms(E).toPromise()})).apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(v,f){const m=mu(v,!1).get(f),E=yield new Ms(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Da(v,f){const m=mu(v,!0).delete(f);return new Ms(m).toPromise()}const Cc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Ic()),m.db})()}_withRetries(m){var E=this;return(0,h.Z)(function*(){let M=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(M++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return pu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Ec._getInstance(function gu(){return pu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(M,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(M,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var E,M;if(m.activeServiceWorker=yield function nd(){return Ia.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new td(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);N&&null!==(E=N[0])&&void 0!==E&&E.fulfilled&&null!==(M=N[0])&&void 0!==M&&M.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function rd(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ic();return yield Dc(m,va,"1"),yield Da(m,va),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(N=>Dc(N,m,E)),M.localCache[m]=E,M.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,h.Z)(function*(){const M=yield E._withRetries(N=>function xh(v,f){return eo.apply(this,arguments)}(N,m));return E.localCache[m]=M,M})()}_remove(m){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(M=>Da(M,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const E=yield m._withRetries(K=>{const se=mu(K,!1).getAll();return new Ms(se).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:K,value:se}of E)N.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(se)&&(m.notifyListeners(K,se),M.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!N.has(K)&&(m.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(m,E){this.localCache[m]=E;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),bc=1e12;class od{constructor(f){this.auth=f,this.counter=bc,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new Tc(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||bc;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||bc))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var E;return null===(E=m._widgets.get(f||bc))||void 0===E||E.execute(),""})()}}class Tc{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;re(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sc(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nh=vr("rcb"),Ym=new he(3e4,6e4);class ro{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Nn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return re(function Jm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&St(Nn().grecaptcha)?Promise.resolve(Nn().grecaptcha):new Promise((E,M)=>{const N=Nn().setTimeout(()=>{M(ve(f,"network-request-failed"))},Ym.get());Nn()[Nh]=()=>{Nn().clearTimeout(N),delete Nn()[Nh];const se=Nn().grecaptcha;if(!se||!St(se))return void M(ve(f,"internal-error"));const Ve=se.render;se.render=(We,yt)=>{const Vt=Ve(We,yt);return this.counter++,Vt},this.hostLanguage=m,E(se)},Kt(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Nh,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),M(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Nn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ph{load(f){return(0,h.Z)(function*(){return new od(f)})()}clearedOneInstance(){}}const Kn="recaptcha",_u={theme:"light",type:"image"};class vu{constructor(f,m=Object.assign({},_u),E){this.parameters=m,this.type=Kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sn(E),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;re(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ph:new ro,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const K=se=>{se&&(f.tokenChangeListeners.delete(K),N(se))};f.tokenChangeListeners.add(K),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=Nn()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){re(qt()&&!pu(),f.auth,"internal-error"),yield function Ac(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ce(v){return X.apply(this,arguments)}(f.auth);re(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ei{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Is._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Rs(v,f,m){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,h.Z)(function*(v,f,m){const E=sn(v),M=yield wu(E,f,(0,V.m9)(m));return new ei(M,N=>Nt(E,N))})).apply(this,arguments)}function Ca(v,f,m){return $o.apply(this,arguments)}function $o(){return($o=(0,h.Z)(function*(v,f,m){const E=(0,V.m9)(v);yield da(!1,E,"phone");const M=yield wu(E.auth,f,(0,V.m9)(m));return new ei(M,N=>Th(E,N))})).apply(this,arguments)}function ad(v,f,m){return xc.apply(this,arguments)}function xc(){return(xc=(0,h.Z)(function*(v,f,m){const E=(0,V.m9)(v),M=yield wu(E.auth,f,(0,V.m9)(m));return new ei(M,N=>cc(E,N))})).apply(this,arguments)}function wu(v,f,m){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,h.Z)(function*(v,f,m){var E;const M=yield m.verify();try{let N;if(re("string"==typeof M,v,"argument-error"),re(m.type===Kn,v,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const K=N.session;if("phoneNumber"in N)return re("enroll"===K.type,v,"internal-error"),(yield function hu(v,f){return lt(v,"POST","/v2/accounts/mfaEnrollment:start",Me(v,f))}(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{re("signin"===K.type,v,"internal-error");const se=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return re(se,v,"missing-multi-factor-info"),(yield function id(v,f){return lt(v,"POST","/v2/accounts/mfaSignIn:start",Me(v,f))}(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield function bp(v,f){return Sl.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:M});return K}}finally{m._reset()}}),Rc.apply(this,arguments)}function pi(v,f){return tn.apply(this,arguments)}function tn(){return(tn=(0,h.Z)(function*(v,f){yield Mr((0,V.m9)(v),f)})).apply(this,arguments)}let Mi=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=sn(m)}verifyPhoneNumber(m,E){return wu(this.auth,m,(0,V.m9)(E))}static credential(m,E){return Is._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:M}=m;return E&&M?Is._fromTokenResponse(E,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function nt(v,f){return f?zn(f):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class gi extends di{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Es(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Es(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Es(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Un(v){return ha(v.auth,new gi(v),v.bypassAuthState)}function ud(v){const{auth:f,user:m}=v;return re(m,f,"internal-error"),Fl(m,new gi(v),v.bypassAuthState)}function ba(v){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(v){const{auth:f,user:m}=v;return re(m,f,"internal-error"),Mr(m,new gi(v),v.bypassAuthState)})).apply(this,arguments)}class Nc{constructor(f,m,E,M,N=!1){this.auth=f,this.resolver=E,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(E,M){f.pendingPromise={resolve:E,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,M){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:N,tenantId:K,error:se,type:Ve}=f;if(se)return void m.reject(se);const We={auth:m.auth,requestUri:E,sessionId:M,tenantId:K||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(We))}catch(yt){m.reject(yt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Un;case"linkViaPopup":case"linkViaRedirect":return ba;case"reauthViaPopup":case"reauthViaRedirect":return ud;default:Ee(this.auth,"internal-error")}}resolve(f){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cd=new he(2e3,1e4);function mi(v,f,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(v,f,m){const E=sn(v);Be(v,f,Ws);const M=nt(E,m);return new Oc(E,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Pc(v,f,m){return io.apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(v,f,m){const E=(0,V.m9)(v);Be(E.auth,f,Ws);const M=nt(E.auth,m);return new Oc(E.auth,"reauthViaPopup",f,M,E).executeNotNull()})).apply(this,arguments)}function Ta(v,f,m){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(v,f,m){const E=(0,V.m9)(v);Be(E.auth,f,Ws);const M=nt(E.auth,m);return new Oc(E.auth,"linkViaPopup",f,M,E).executeNotNull()})).apply(this,arguments)}let Oc=(()=>{class v extends Nc{constructor(m,E,M,N,K){super(m,E,N,K),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const E=yield m.execute();return re(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,h.Z)(function*(){bt(1===m.filter.length,"Popup operations only handle one event");const E=zi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,cd.get())};m()}}return v.currentPopupAction=null,v})();const ld="pendingRedirect",yi=new Map;class Eu extends Nc{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let E=yi.get(m.auth._key());if(!E){try{const N=(yield function xr(v,f){return Sa.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(N)}catch(M){E=()=>Promise.reject(M)}yi.set(m.auth._key(),E)}return m.bypassAuthState||yi.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const M=yield E.auth._redirectUserForId(f.eventId);if(M)return E.user=M,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Sa(){return(Sa=(0,h.Z)(function*(v,f){const m=Iu(f),E=Oh(v);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(m));return yield E._remove(m),M})).apply(this,arguments)}function kc(v,f){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(v,f){return Oh(v)._set(Iu(f),"true")})).apply(this,arguments)}function Aa(){yi.clear()}function Ma(v,f){yi.set(v._key(),f)}function Oh(v){return zn(v._redirectPersistence)}function Iu(v){return Jr(ld,v.config.apiKey,v.name)}function xa(v,f,m){return function dd(v,f,m){return Fc.apply(this,arguments)}(v,f,m)}function Fc(){return(Fc=(0,h.Z)(function*(v,f,m){const E=sn(v);Be(v,f,Ws),yield E._initializationPromise;const M=nt(E,m);return yield kc(M,E),M._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Lc(v,f,m){return function Ps(v,f,m){return ti.apply(this,arguments)}(v,f,m)}function ti(){return(ti=(0,h.Z)(function*(v,f,m){const E=(0,V.m9)(v);Be(E.auth,f,Ws),yield E.auth._initializationPromise;const M=nt(E.auth,m);yield kc(M,E.auth);const N=yield _i(E);return M._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Vc(v,f,m){return function qr(v,f,m){return Ra.apply(this,arguments)}(v,f,m)}function Ra(){return(Ra=(0,h.Z)(function*(v,f,m){const E=(0,V.m9)(v);Be(E.auth,f,Ws),yield E.auth._initializationPromise;const M=nt(E.auth,m);yield da(!1,E,f.providerId),yield kc(M,E.auth);const N=yield _i(E);return M._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function kh(v,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(v,f){return yield sn(v)._initializationPromise,Os(v,f,!1)})).apply(this,arguments)}function Os(v,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,h.Z)(function*(v,f,m=!1){const E=sn(v),M=nt(E,f),K=yield new Eu(E,M,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield E._persistUserIfCurrent(K.user),yield E._setRedirectUser(null,f)),K})).apply(this,arguments)}function _i(v){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(v){const f=zi(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Du{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Gi(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xi(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!xi(f)){const M=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,M))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jo(f))}saveEventToCache(f){this.cachedEventUids.add(jo(f)),this.lastProcessedEventTime=Date.now()}}function jo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function xi({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function Pn(v){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(v,f={}){return lt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Xm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fh=/^https?/;function Ho(){return(Ho=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Pn(v);for(const m of f)try{if(hd(m))return}catch{}Ee(v,"unauthorized-domain")})).apply(this,arguments)}function hd(v){const f=rt(),{protocol:m,hostname:E}=new URL(f);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===E}if(!Fh.test(m))return!1;if(Xm.test(v))return E===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const oo=new he(3e4,6e4);function zo(){const v=Nn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let ks=null;const Go=new he(5e3,15e3),Fs="__/auth/iframe",Bc="emulator/auth/iframe",as={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$c=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fd(v){const f=v.config;re(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?Ie(f,Bc):`https://${v.config.authDomain}/${Fs}`,E={apiKey:f.apiKey,appName:v.name,v:z.SDK_VERSION},M=$c.get(v.config.apiHost);M&&(E.eid=M);const N=v._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,V.xO)(E).slice(1)}`}function pd(){return pd=(0,h.Z)(function*(v){const f=yield function ao(v){return ks=ks||function Ct(v){return new Promise((f,m)=>{var E,M,N;function K(){zo(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{zo(),m(ve(v,"network-request-failed"))},timeout:oo.get()})}if(null!==(M=null===(E=Nn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)f(gapi.iframes.getContext());else{if(null===(N=Nn().gapi)||void 0===N||!N.load){const se=vr("iframefcb");return Nn()[se]=()=>{gapi.load?K():m(ve(v,"network-request-failed"))},Kt(`https://apis.google.com/js/api.js?onload=${se}`).catch(Ve=>m(Ve))}K()}}).catch(f=>{throw ks=null,f})}(v),ks}(v),m=Nn().gapi;return re(m,v,"internal-error"),f.open({where:document.body,url:fd(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:as,dontclear:!0},E=>new Promise(function(){var M=(0,h.Z)(function*(N,K){yield E.restyle({setHideOnLeave:!1});const se=ve(v,"network-request-failed"),Ve=Nn().setTimeout(()=>{K(se)},Go.get());function We(){Nn().clearTimeout(Ve),N(E)}E.ping(We).then(We,()=>{K(se)})});return function(N,K){return M.apply(this,arguments)}}()))}),pd.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C=500,A=600,P="_blank",$="http://localhost";class W{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const He="__/auth/handler",st="emulator/auth/handler",Rt=encodeURIComponent("fac");function At(v,f,m,E,M,N){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(v,f,m,E,M,N){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:z.SDK_VERSION,eventId:M};if(f instanceof Ws){f.setDefaultLanguage(v.languageCode),K.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(K.customParameters=JSON.stringify(f.getCustomParameters()));for(const[yt,Vt]of Object.entries(N||{}))K[yt]=Vt}if(f instanceof ca){const yt=f.getScopes().filter(Vt=>""!==Vt);yt.length>0&&(K.scopes=yt.join(","))}v.tenantId&&(K.tid=v.tenantId);const se=K;for(const yt of Object.keys(se))void 0===se[yt]&&delete se[yt];const Ve=yield v._getAppCheckToken(),We=Ve?`#${Rt}=${encodeURIComponent(Ve)}`:"";return`${function wt({config:v}){return v.emulator?Ie(v,st):`https://${v.authDomain}/${He}`}(v)}?${(0,V.xO)(se).slice(1)}${We}`})).apply(this,arguments)}const Ri="webStorageSupport",wi=class Hc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gr,this._completeRedirectFn=Os,this._overrideRedirectResult=Ma}_openPopup(f,m,E,M){var N=this;return(0,h.Z)(function*(){var K;bt(null===(K=N.eventManagers[f._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const se=yield At(f,m,E,rt(),M);return function oe(v,f,m,E=C,M=A){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-E)/2,0).toString();let se="";const Ve=Object.assign(Object.assign({},w),{width:E.toString(),height:M.toString(),top:N,left:K}),We=(0,V.z$)().toLowerCase();m&&(se=J(We)?P:m),q(We)&&(f=f||$,Ve.scrollbars="yes");const yt=Object.entries(Ve).reduce((Wr,[uo,Wo])=>`${Wr}${uo}=${Wo},`,"");if(function Wt(v=(0,V.z$)()){var f;return fn(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(We)&&"_self"!==se)return function ze(v,f){const m=document.createElement("a");m.href=v,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",se),new W(null);const Vt=window.open(f||"",se,yt);re(Vt,v,"popup-blocked");try{Vt.focus()}catch{}return new W(Vt)}(f,se,zi())})()}_openRedirect(f,m,E,M){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),function As(v){Nn().location.href=v}(yield At(f,m,E,rt(),M)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:M,promise:N}=this.eventManagers[m];return M?Promise.resolve(M):(bt(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const E=yield function jc(v){return pd.apply(this,arguments)}(f),M=new Du(f);return E.register("authEvent",N=>(re(N?.authEvent,f,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:M},m.iframes[f._key()]=E,M})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ri,{type:Ri},M=>{var N;const K=null===(N=M?.[0])||void 0===N?void 0:N[Ri];void 0!==K&&m(!!K),Ee(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Uc(v){return Ho.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return li()||fe()||fn()}};class ni{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return et("unexpected MultiFactorSessionType")}}}class Ir extends ni{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ir(f)}_finalizeEnroll(f,m,E){return function ko(v,f){return lt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Me(v,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function no(v,f){return lt(v,"POST","/v2/accounts/mfaSignIn:finalize",Me(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cu=(()=>{class v{constructor(){}static assertion(m){return Ir._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var ka="@firebase/auth";class qo{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{f(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Vh(v){(0,z._registerComponent)(new ne.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:K,authDomain:se}=E.options;re(K&&!K.includes(":"),"invalid-api-key",{appName:E.name});const Ve={apiKey:K,authDomain:se,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Co(v)},We=new yn(E,M,N,Ve);return function Hs(v,f){const m=f?.persistence||[],E=(Array.isArray(m)?m:[m]).map(zn);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(E,f?.popupRedirectResolver)}(We,m),We},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new ne.wA("auth-internal",f=>{const m=sn(f.getProvider("auth").getImmediate());return new qo(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(ka,"0.23.2",function Su(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,z.registerVersion)(ka,"0.23.2","esm2017")}("Browser")},2090:(vt,Ce,O)=>{O.d(Ce,{$s:()=>zn,BH:()=>Ae,L:()=>pe,LL:()=>wn,P0:()=>Ue,Pz:()=>ve,Sg:()=>Be,UG:()=>et,US:()=>ne,ZB:()=>Z,ZR:()=>lt,aH:()=>Ee,b$:()=>qt,eu:()=>Ge,hl:()=>Se,jU:()=>bt,m9:()=>Jr,ne:()=>Ht,pd:()=>Ti,r3:()=>Vi,ru:()=>rt,tV:()=>j,uI:()=>re,vZ:()=>dt,w1:()=>Do,xO:()=>tr,xb:()=>ra,z$:()=>Oe,zI:()=>ke,zd:()=>Ur});const ie=function(U){const F=[];let q=0;for(let fe=0;fe<U.length;fe++){let J=U.charCodeAt(fe);J<128?F[q++]=J:J<2048?(F[q++]=J>>6|192,F[q++]=63&J|128):55296==(64512&J)&&fe+1<U.length&&56320==(64512&U.charCodeAt(fe+1))?(J=65536+((1023&J)<<10)+(1023&U.charCodeAt(++fe)),F[q++]=J>>18|240,F[q++]=J>>12&63|128,F[q++]=J>>6&63|128,F[q++]=63&J|128):(F[q++]=J>>12|224,F[q++]=J>>6&63|128,F[q++]=63&J|128)}return F},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let J=0;J<U.length;J+=3){const Pe=U[J],Tt=J+1<U.length,nn=Tt?U[J+1]:0,Vn=J+2<U.length,fn=Vn?U[J+2]:0;let Sr=(15&nn)<<2|fn>>6,li=63&fn;Vn||(li=64,Tt||(Sr=64)),fe.push(q[Pe>>2],q[(3&Pe)<<4|nn>>4],q[Sr],q[li])}return fe.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(ie(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let q=0,fe=0;for(;q<U.length;){const J=U[q++];if(J<128)F[fe++]=String.fromCharCode(J);else if(J>191&&J<224){const Pe=U[q++];F[fe++]=String.fromCharCode((31&J)<<6|63&Pe)}else if(J>239&&J<365){const Vn=((7&J)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;F[fe++]=String.fromCharCode(55296+(Vn>>10)),F[fe++]=String.fromCharCode(56320+(1023&Vn))}else{const Pe=U[q++],Tt=U[q++];F[fe++]=String.fromCharCode((15&J)<<12|(63&Pe)<<6|63&Tt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const q=F?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let J=0;J<U.length;){const Pe=q[U.charAt(J++)],nn=J<U.length?q[U.charAt(J)]:0;++J;const fn=J<U.length?q[U.charAt(J)]:64;++J;const Wt=J<U.length?q[U.charAt(J)]:64;if(++J,null==Pe||null==nn||null==fn||null==Wt)throw new ge;fe.push(Pe<<2|nn>>4),64!==fn&&(fe.push(nn<<4&240|fn>>2),64!==Wt&&fe.push(fn<<6&192|Wt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(U){return function(U){const F=ie(U);return ne.encodeByteArray(F,!0)}(U).replace(/\./g,"")},j=function(U){try{return ne.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function Z(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const q in F)!F.hasOwnProperty(q)||!je(q)||(U[q]=Z(U[q],F[q]));return U}function je(U){return"__proto__"!==U}const Te=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&j(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Ue=U=>{const F=(U=>{var F,q;return null===(q=null===(F=Te())||void 0===F?void 0:F.emulatorHosts)||void 0===q?void 0:q[U]})(U);if(!F)return;const q=F.lastIndexOf(":");if(q<=0||q+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const fe=parseInt(F.substring(q+1),10);return"["===F[0]?[F.substring(1,q-1),fe]:[F.substring(0,q),fe]},Ee=()=>{var U;return null===(U=Te())||void 0===U?void 0:U.config},ve=U=>{var F;return null===(F=Te())||void 0===F?void 0:F[`_${U}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,q)=>{this.resolve=F,this.reject=q})}wrapCallback(F){return(q,fe)=>{q?this.reject(q):this.resolve(fe),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(q):F(q,fe))}}}function Be(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=F||"demo-project",J=U.iat||0,Pe=U.sub||U.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:J,exp:J+3600,auth_time:J,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Tt)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function et(){var U;const F=null===(U=Te())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bt(){return"object"==typeof self&&self.self===self}function rt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Do(){const U=Oe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((U,F)=>{try{let q=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(fe);J.onsuccess=()=>{J.result.close(),q||self.indexedDB.deleteDatabase(fe),U(!0)},J.onupgradeneeded=()=>{q=!1},J.onerror=()=>{var Pe;F((null===(Pe=J.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(q){F(q)}})}function ke(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class lt extends Error{constructor(F,q,fe){super(q),this.code=F,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}}class wn{constructor(F,q,fe){this.service=F,this.serviceName=q,this.errors=fe}create(F,...q){const fe=q[0]||{},J=`${this.service}/${F}`,Pe=this.errors[F],Tt=Pe?function gt(U,F){return U.replace(_t,(q,fe)=>{const J=F[fe];return null!=J?String(J):`<${fe}?>`})}(Pe,fe):"Error";return new lt(J,`${this.serviceName}: ${Tt} (${J}).`,fe)}}const _t=/\{\$([^}]+)}/g;function Vi(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function ra(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function dt(U,F){if(U===F)return!0;const q=Object.keys(U),fe=Object.keys(F);for(const J of q){if(!fe.includes(J))return!1;const Pe=U[J],Tt=F[J];if(gs(Pe)&&gs(Tt)){if(!dt(Pe,Tt))return!1}else if(Pe!==Tt)return!1}for(const J of fe)if(!q.includes(J))return!1;return!0}function gs(U){return null!==U&&"object"==typeof U}function tr(U){const F=[];for(const[q,fe]of Object.entries(U))Array.isArray(fe)?fe.forEach(J=>{F.push(encodeURIComponent(q)+"="+encodeURIComponent(J))}):F.push(encodeURIComponent(q)+"="+encodeURIComponent(fe));return F.length?"&"+F.join("&"):""}function Ur(U){const F={};return U.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[J,Pe]=fe.split("=");F[decodeURIComponent(J)]=decodeURIComponent(Pe)}}),F}function Ti(U){const F=U.indexOf("?");if(!F)return"";const q=U.indexOf("#",F);return U.substring(F,q>0?q:void 0)}function Ht(U,F){const q=new ht(U,F);return q.subscribe.bind(q)}class ht{constructor(F,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{F(this)}).catch(fe=>{this.error(fe)})}next(F){this.forEachObserver(q=>{q.next(F)})}error(F){this.forEachObserver(q=>{q.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,q,fe){let J;if(void 0===F&&void 0===q&&void 0===fe)throw new Error("Missing Observer.");J=function ai(U,F){if("object"!=typeof U||null===U)return!1;for(const q of F)if(q in U&&"function"==typeof U[q])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:q,complete:fe},void 0===J.next&&(J.next=Br),void 0===J.error&&(J.error=Br),void 0===J.complete&&(J.complete=Br);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),Pe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,F)}sendOne(F,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{q(this.observers[F])}catch(fe){typeof console<"u"&&console.error&&console.error(fe)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Br(){}const en=1e3,Tr=2,Ln=144e5,$r=.5;function zn(U,F=en,q=Tr){const fe=F*Math.pow(q,U),J=Math.round($r*fe*(Math.random()-.5)*2);return Math.min(Ln,fe+J)}function Jr(U){return U&&U._delegate?U._delegate:U}},8864:(vt,Ce,O)=>{var h=O(4650);let V=null;function z(){return V}class te{}const ne=new h.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ye(){return(0,h.LFG)(j)}()},providedIn:"platform"}),n})();const pe=new h.OlP("Location Initialized");let j=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(t){const r=z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){B()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){B()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Z(){return new j((0,h.LFG)(ne))}()},providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let it=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Te)},providedIn:"root"}),n})();const de=new h.OlP("appBaseHref");let Te=(()=>{class n extends it{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+qe(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+qe(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ge),h.LFG(de,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ne=(()=>{class n extends it{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+qe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+qe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ge),h.LFG(de,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(De(Ae(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function ve(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ae(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=qe,n.joinWithSlash=je,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(h.LFG(it))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ee(){return new Ue((0,h.LFG)(it))}()},providedIn:"root"}),n})();function Ae(n){return n.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Percent=1]="Percent",re[re.Currency=2]="Currency",re[re.Scientific=3]="Scientific",re))(),at=(()=>((at=at||{})[at.Decimal=0]="Decimal",at[at.Group=1]="Group",at[at.List=2]="List",at[at.PercentSign=3]="PercentSign",at[at.PlusSign=4]="PlusSign",at[at.MinusSign=5]="MinusSign",at[at.Exponential=6]="Exponential",at[at.SuperscriptingExponent=7]="SuperscriptingExponent",at[at.PerMille=8]="PerMille",at[at.Infinity=9]="Infinity",at[at.NaN=10]="NaN",at[at.TimeSeparator=11]="TimeSeparator",at[at.CurrencyDecimal=12]="CurrencyDecimal",at[at.CurrencyGroup=13]="CurrencyGroup",at))();function _t(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===at.CurrencyDecimal)return t[h.wAp.NumberSymbols][at.Decimal];if(e===at.CurrencyGroup)return t[h.wAp.NumberSymbols][at.Group]}return r}const nn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Vn=22,fn=".",mn="0",Wt=";",Sr=",",li="#";function Kt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function ys(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class ir{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ir(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,c),Tn(g,i)}});for(let i=0,u=r.length;i<u;i++){const g=r.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Tn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Tn(n,e){n.context.$implicit=e.item}let Ui=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Lt{constructor(){this.$implicit=null,this.ngIf=null}}function Xa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let Bi=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,u]=t.split("."),c=-1===i.indexOf("-")?void 0:h.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,u?`${r}${u}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function hi(n,e){return new h.vHH(2100,!1)}class oc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class oa{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const bo=new oa,ws=new oc;let ts=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return bo;if((0,h.F4k)(t))return ws;throw hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),wh=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function xl(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Re(n,e,t){return function ce(n,e,t,r,i,u,c=!1){let g="",_=!1;if(isFinite(n)){let D=function mt(n){let r,i,u,c,g,e=Math.abs(n)+"",t=0;for((i=e.indexOf(fn))>-1&&(e=e.replace(fn,"")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;e.charAt(u)===mn;u++);if(u===(g=e.length))r=[0],i=1;else{for(g--;e.charAt(g)===mn;)g--;for(i-=u,r=[],c=0;u<=g;u++,c++)r[c]=Number(e.charAt(u))}return i>Vn&&(r=r.splice(0,Vn-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(D=function $t(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(D));let T=e.minInt,x=e.minFrac,L=e.maxFrac;if(u){const ut=u.match(nn);if(null===ut)throw new Error(`${u} is not a valid digit info`);const tt=ut[1],pt=ut[3],Gt=ut[5];null!=tt&&(T=Kt(tt)),null!=pt&&(x=Kt(pt)),null!=Gt?L=Kt(Gt):null!=pt&&x>L&&(L=x)}!function rn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let c=u+n.integerLen,g=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let x=c;x<r.length;x++)r[x]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=u+1),r[0]=0;for(let x=1;x<c;x++)r[x]=0}if(g>=5)if(c-1<0){for(let x=0;x>c;x--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,u);i++)r.push(0);let _=0!==u;const D=e+n.integerLen,T=r.reduceRight(function(x,L,H,Y){return Y[H]=(L+=x)<10?L:L-10,_&&(0===Y[H]&&H>=D?Y.pop():_=!1),L>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(D,x,L);let H=D.digits,Y=D.integerLen;const we=D.exponent;let _e=[];for(_=H.every(ut=>!ut);Y<T;Y++)H.unshift(0);for(;Y<0;Y++)H.unshift(0);Y>0?_e=H.splice(Y,H.length):(_e=H,H=[0]);const Ke=[];for(H.length>=e.lgSize&&Ke.unshift(H.splice(-e.lgSize,H.length).join(""));H.length>e.gSize;)Ke.unshift(H.splice(-e.gSize,H.length).join(""));H.length&&Ke.unshift(H.join("")),g=Ke.join(_t(t,r)),_e.length&&(g+=_t(t,i)+_e.join("")),we&&(g+=_t(t,at.Exponential)+"+"+we)}else g=_t(t,at.Infinity);return g=n<0&&!_?e.negPre+g+e.negSuf:e.posPre+g+e.posSuf,g}(n,function St(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Wt),i=r[0],u=r[1],c=-1!==i.indexOf(fn)?i.split(fn):[i.substring(0,i.lastIndexOf(mn)+1),i.substring(i.lastIndexOf(mn)+1)],g=c[0],_=c[1]||"";t.posPre=g.substring(0,g.indexOf(li));for(let T=0;T<_.length;T++){const x=_.charAt(T);x===mn?t.minFrac=t.maxFrac=T+1:x===li?t.maxFrac=T+1:t.posSuf+=x}const D=g.split(Sr);if(t.gSize=D[1]?D[1].length:0,t.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,u){const T=i.length-t.posPre.length-t.posSuf.length,x=u.indexOf(li);t.negPre=u.substring(0,x).replace(/'/g,""),t.negSuf=u.slice(x+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Jt(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,re.Percent),_t(e,at.MinusSign)),e,at.Group,at.Decimal,t,!0).replace(new RegExp("%","g"),_t(e,at.PercentSign))}(function Rl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(u){throw hi()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16))},n.\u0275pipe=h.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let To=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let tu=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Ch((0,h.LFG)(ne),window)}),n})();class Ch{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ac(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ds(this.window.history)||Ds(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ds(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kl{}class Ql extends te{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ma extends Ql{static makeCurrent(){!function ie(n){V||(V=n)}(new ma)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ya(){return Oo=Oo||document.querySelector("base"),Oo?Oo.getAttribute("href"):null}();return null==t?null:function xp(n){ss=ss||document.createElement("a"),ss.setAttribute("href",n);const e=ss.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ys(document.cookie,e)}}let ss,Oo=null;const Sh=new h.OlP("TRANSITION_ID"),Jl=[{provide:h.ip1,useFactory:function du(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=z(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Sh,ne,h.zs3],multi:!0}];let yc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _a=new h.OlP("EventManagerPlugins");let hu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_a),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ko{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=z().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Xl=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let u=i.get(t)??0;return u+=r,u>0?i.set(t,u):i.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ss=(()=>{class n extends Xl{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const u=this.styleRef.get(r);u?u.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Js={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fo=/%COMP%/g,Ea=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function fu(n,e){return e.flat(100).map(t=>t.replace(Fo,n))}function wc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gr=(()=>{class n{constructor(t,r,i,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new ed(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof pu?i.applyToHost(t):i instanceof As&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const c=this.eventManager,g=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ifc.Emulated:u=new pu(c,g,r,this.appId,_);break;case h.ifc.ShadowDom:return new Nn(c,g,t,r);default:u=new As(c,g,r,_)}u.onDestroy=()=>i.delete(r.id),i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hu),h.LFG(Ss),h.LFG(h.AFp),h.LFG(Ea))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ed{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Js[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(td(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(td(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Js[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Js[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wc(r)):this.eventManager.addEventListener(e,t,wc(r))}}function td(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nn extends ed{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fu(i.id,i.styles);for(const c of u){const g=document.createElement("style");g.textContent=c,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class As extends ed{constructor(e,t,r,i,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=fu(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pu extends As{constructor(e,t,r,i,u){const c=i+"-"+r.id;super(e,t,r,u,c),this.contentAttr=function Ah(n){return"_ngcontent-%COMP%".replace(Fo,n)}(c),this.hostAttr=function vc(n){return"_nghost-%COMP%".replace(Fo,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let nd=(()=>{class n extends ko{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ia=["alt","control","meta","shift"],rd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wn=(()=>{class n extends ko{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),Ia.forEach(D=>{const T=r.indexOf(D);T>-1&&(r.splice(T,1),c+=D+".")}),c+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=rd[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ia.forEach(c=>{c!==i&&(0,gu[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const xh=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Uo(){ma.makeCurrent()},multi:!0},{provide:ne,useFactory:function Dc(){return(0,h.RDi)(document),document},deps:[]}]),eo=new h.OlP(""),Da=[{provide:h.rWj,useClass:class os{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const g=function(_){c=c||_,u--,0==u&&r(c)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?z().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],to=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Ic(){return new h.qLn},deps:[]},{provide:_a,useClass:nd,multi:!0,deps:[ne,h.R0b,h.Lbi]},{provide:_a,useClass:Wn,multi:!0,deps:[ne]},{provide:Gr,useClass:Gr,deps:[hu,Ss,h.AFp,Ea]},{provide:h.FYo,useExisting:Gr},{provide:Xl,useExisting:Ss},{provide:Ss,useClass:Ss,deps:[ne]},{provide:hu,useClass:hu,deps:[_a,h.R0b]},{provide:kl,useClass:yc,deps:[]},[]];let Bo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Sh,useExisting:h.AFp},Jl]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(eo,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...to,...Da],imports:[To,h.hGG]}),n})(),Rh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function no(){return new Rh((0,h.LFG)(ne))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var tn=O(8996),Mi=O(7669);function nt(...n){const e=(0,Mi.yG)(n);return(0,tn.D)(n,e)}var gi=O(7579);class Un extends gi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ba=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var or=O(9751);const{isArray:Nc}=Array,{getPrototypeOf:cd,prototype:mi,keys:Ns}=Object;function Pc(n){if(1===n.length){const e=n[0];if(Nc(e))return{args:e,keys:null};if(function io(n){return n&&"object"==typeof n&&cd(n)===mi}(e)){const t=Ns(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ta=O(4671),It=O(4004);const{isArray:Oc}=Array;function yi(n){return(0,It.U)(e=>function ld(n,e){return Oc(e)?n(...e):n(e)}(n,e))}function Eu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var xr=O(5403),Sa=O(9672);function kc(...n){const e=(0,Mi.yG)(n),t=(0,Mi.jO)(n),{args:r,keys:i}=Pc(n);if(0===r.length)return(0,tn.D)([],e);const u=new or.y(function so(n,e,t=Ta.y){return r=>{Aa(e,()=>{const{length:i}=n,u=new Array(i);let c=i,g=i;for(let _=0;_<i;_++)Aa(e,()=>{const D=(0,tn.D)(n[_],e);let T=!1;D.subscribe((0,xr.x)(r,x=>{u[_]=x,T||(T=!0,g--),g||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Eu(i,c):Ta.y));return t?u.pipe(yi(t)):u}function Aa(n,e,t){n?(0,Sa.f)(t,n,e):e()}var Ma=O(8189);function Iu(...n){return function Oh(){return(0,Ma.J)(1)}()((0,tn.D)(n,(0,Mi.yG)(n)))}var xa=O(8421);function dd(n){return new or.y(e=>{(0,xa.Xf)(n()).subscribe(e)})}var Fc=O(9635),Lc=O(576);function Ps(n,e){const t=(0,Lc.m)(n)?n:()=>n,r=i=>i.error(t());return new or.y(e?i=>e.schedule(r,0,i):r)}var ti=O(515),Vc=O(727),qr=O(4482);function Ra(){return(0,qr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,xr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class kh extends or.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,xr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vc.w0.EMPTY)}return e}refCount(){return Ra()(this)}}function vn(n,e){return(0,qr.e)((t,r)=>{let i=null,u=0,c=!1;const g=()=>c&&!i&&r.complete();t.subscribe((0,xr.x)(r,_=>{i?.unsubscribe();let D=0;const T=u++;(0,xa.Xf)(n(_,T)).subscribe(i=(0,xr.x)(r,x=>r.next(e?e(_,x,T,D++):x),()=>{i=null,g()}))},()=>{c=!0,g()}))})}function Os(n){return n<=0?()=>ti.E:(0,qr.e)((e,t)=>{let r=0;e.subscribe((0,xr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _i(n,e){return(0,qr.e)((t,r)=>{let i=0;t.subscribe((0,xr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Zn=O(5577);function Pa(n){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,xr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Du(n=jo){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,xr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function jo(){return new ba}function xi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_i((i,u)=>n(i,u,r)):Ta.y,Os(1),t?Pa(e):Du(()=>new ba))}function Gi(n,e){return(0,Lc.m)(e)?(0,Zn.z)(n,e,1):(0,Zn.z)(n,1)}var Pn=O(8505);function vi(n){return(0,qr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,xr.x)(t,void 0,void 0,c=>{u=(0,xa.Xf)(n(c,vi(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Fh(n,e){return(0,qr.e)(function Xm(n,e,t,r,i){return(u,c)=>{let g=t,_=e,D=0;u.subscribe((0,xr.x)(c,T=>{const x=D++;_=g?n(_,T,x):(g=!0,T),r&&c.next(_)},i&&(()=>{g&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Uc(n){return n<=0?()=>ti.E:(0,qr.e)((e,t)=>{let r=[];e.subscribe((0,xr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ho(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_i((i,u)=>n(i,u,r)):Ta.y,Uc(1),t?Pa(e):Du(()=>new ba))}function zo(n){return(0,qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ct="primary",ks=Symbol("RouteTitle");class ao{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Go(n){return new ao(n)}function Fs(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],g=n[u];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function as(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!$c(n[i],e[i]))return!1;return!0}function $c(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function fd(n){return Array.prototype.concat.apply([],n)}function jc(n){return n.length>0?n[n.length-1]:null}function w(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function C(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,tn.D)(Promise.resolve(n)):nt(n)}const A=!1,P={exact:function ze(n,e,t){if(!wi(n.segments,e.segments)||!At(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ze(n.children[r],e.children[r],t))return!1;return!0},subset:st},$={exact:function oe(n,e){return as(n,e)},subset:function He(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$c(n[t],e[t]))},ignored:()=>!0};function W(n,e,t){return P[t.paths](n.root,e.root,t.matrixParams)&&$[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function st(n,e,t){return Rt(n,e,e.segments,t)}function Rt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wi(i,t)||e.hasChildren()||!At(i,t,r))}if(n.segments.length===t.length){if(!wi(n.segments,t)||!At(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!st(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(wi(n.segments,i)&&At(n.segments,i,r)&&n.children[Ct])&&Rt(n.children[Ct],e,u,r)}}function At(n,e,t){return e.every((r,i)=>$[t](n[i].parameters,r.parameters))}class Sn{constructor(e=new wt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Go(this.queryParams)),this._queryParamMap}toString(){return gd.serialize(this)}}class wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,w(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bu(this)}}class Ri{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Go(this.parameters)),this._parameterMap}toString(){return Rp(this)}}function wi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ir=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new Cu},providedIn:"root"}),n})();class Cu{parse(e){const t=new M(e);return new Sn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Tu(e.root,!0)}`,r=function Np(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ka(t)}=${ka(i)}`).join("&"):`${ka(t)}=${ka(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Lh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gd=new Cu;function bu(n){return n.segments.map(e=>Rp(e)).join("/")}function Tu(n,e){if(!n.hasChildren())return bu(n);if(e){const t=n.children[Ct]?Tu(n.children[Ct],!1):"",r=[];return w(n.children,(i,u)=>{u!==Ct&&r.push(`${u}:${Tu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ni(n,e){let t=[];return w(n.children,(r,i)=>{i===Ct&&(t=t.concat(e(r,i)))}),w(n.children,(r,i)=>{i!==Ct&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ct?[Tu(n.children[Ct],!1)]:[`${i}:${Tu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ct]?`${bu(n)}/${t[0]}`:`${bu(n)}/(${t.join("//")})`}}function Oa(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ka(n){return Oa(n).replace(/%3B/gi,";")}function qo(n){return Oa(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Su(n){return decodeURIComponent(n)}function Vh(n){return Su(n.replace(/\+/g,"%20"))}function Rp(n){return`${qo(n.path)}${function Uh(n){return Object.keys(n).map(e=>`;${qo(e)}=${qo(n[e])}`).join("")}(n.parameters)}`}const ey=/^[^\/()?;=#]+/;function Bh(n){const e=n.match(ey);return e?e[0]:""}const v=/^[^=?&#]+/,m=/^[^&#]+/;class M{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ct]=new wt(e,t)),r}parseSegment(){const e=Bh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,A);return this.capture(e),new Ri(Su(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Bh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Bh(this.remaining);i&&(r=i,this.capture(r))}e[Su(t)]=Su(r)}parseQueryParam(e){const t=function f(n){const e=n.match(v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function E(n){const e=n.match(m);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Vh(t),u=Vh(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,A);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ct);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Ct]:new wt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,A)}}function N(n){return n.segments.length>0?new wt([],{[Ct]:n}):n}function K(n){const e={};for(const r of Object.keys(n.children)){const u=K(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function se(n){if(1===n.numberOfChildren&&n.children[Ct]){const e=n.children[Ct];return new wt(n.segments.concat(e.segments),e.children)}return n}(new wt(n.segments,e))}function Ve(n){return n instanceof Sn}const We=!1;function uo(n,e,t,r,i){if(0===t.length)return us(e.root,e.root,e.root,r,i);const u=function Gc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new md(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return w(u.outlets,(_,D)=>{g[D]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new md(t,e,r)}(t);return u.toRoot()?us(e.root,e.root,new wt([],{}),r,i):function c(_){const D=function _d(n,e,t,r){if(n.isAbsolute)return new Ko(e.root,!0,0);if(-1===r)return new Ko(t,t===e.root,0);return function Au(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,We&&"Invalid number of '../'");i=r.segments.length}return new Ko(r,!1,i-u)}(t,r+(Wo(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),T=D.processChildren?Zo(D.segmentGroup,D.index,u.commands):Mu(D.segmentGroup,D.index,u.commands);return us(e.root,D.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function Wo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zc(n){return"object"==typeof n&&null!=n&&n.outlets}function us(n,e,t,r,i){let c,u={};r&&w(r,(_,D)=>{u[D]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),c=n===e?t:$h(n,e,t);const g=N(K(c));return new Sn(g,u,i)}function $h(n,e,t){const r={};return w(n.children,(i,u)=>{r[u]=i===e?t:$h(i,e,t)}),new wt(n.segments,r)}class md{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wo(r[0]))throw new h.vHH(4003,We&&"Root segment cannot have matrix parameters");const i=r.find(zc);if(i&&i!==jc(r))throw new h.vHH(4004,We&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ko{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Mu(n,e,t){if(n||(n=new wt([],{})),0===n.segments.length&&n.hasChildren())return Zo(n,e,t);const r=function ty(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],g=t[r];if(zc(g))break;const _=`${g}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!ny(_,D,c))return u;r+=2}else{if(!ny(_,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new wt(n.segments.slice(0,r.pathIndex),{});return u.children[Ct]=new wt(n.segments.slice(r.pathIndex),n.children),Zo(u,0,i)}return r.match&&0===i.length?new wt(n.segments,{}):r.match&&!n.hasChildren()?jh(n,e,t):r.match?Zo(n,0,i):jh(n,e,t)}function Zo(n,e,t){if(0===t.length)return new wt(n.segments,{});{const r=function vd(n){return zc(n[0])?n[0].outlets:{[Ct]:n}}(t),i={};if(!r[Ct]&&n.children[Ct]&&1===n.numberOfChildren&&0===n.children[Ct].segments.length){const u=Zo(n.children[Ct],e,t);return new wt(n.segments,u.children)}return w(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Mu(n.children[c],e,u))}),w(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new wt(n.segments,i)}}function jh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(zc(u)){const _=Hh(u.outlets);return new wt(r,_)}if(0===i&&Wo(t[0])){r.push(new Ri(n.segments[e].path,S0(t[0]))),i++;continue}const c=zc(u)?u.outlets[Ct]:`${u}`,g=i<t.length-1?t[i+1]:null;c&&g&&Wo(g)?(r.push(new Ri(c,S0(g))),i+=2):(r.push(new Ri(c,{})),i++)}return new wt(r,{})}function Hh(n){const e={};return w(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=jh(new wt([],{}),0,t))}),e}function S0(n){const e={};return w(n,(t,r)=>e[r]=`${t}`),e}function ny(n,e,t){return n==t.path&&as(e,t.parameters)}const zh="imperative";class Yo{constructor(e,t){this.id=e,this.url=t}}class ry extends Yo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xu extends Yo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gh extends Yo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qc extends Yo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class qh extends Yo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wd extends Yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nC extends Yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rC extends Yo{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ax extends Yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iC extends Yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iy{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class A0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sy{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let oC=(()=>{class n{createUrlTree(t,r,i,u,c,g){return uo(t||r.root,i,u,c,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),uC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return oC.\u0275fac(e)},providedIn:"root"}),n})();class N0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ay(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ay(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qo(e,this._root).map(t=>t.value)}}function ay(n,e){if(n===e.value)return e;for(const t of e.children){const r=ay(n,t);if(r)return r}return null}function Qo(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Qo(n,t);if(r.length)return r.unshift(e),r}return[]}class cs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ed(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cC extends N0{constructor(e,t){super(e),this.snapshot=t,uy(this,e)}toString(){return this.snapshot.toString()}}function lC(n,e){const t=function ux(n,e){const c=new Op([],{},{},"",{},Ct,e,null,n.root,-1,{});return new O0("",new cs(c,[]))}(n,e),r=new Un([new Ri("",{})]),i=new Un({}),u=new Un({}),c=new Un({}),g=new Un(""),_=new Wh(r,i,c,g,u,Ct,e,t.root);return _.snapshot=t.root,new cC(new cs(_,[]),t)}class Wh{constructor(e,t,r,i,u,c,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.title=this.data?.pipe((0,It.U)(D=>D[ks]))??nt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>Go(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>Go(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function P0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Op{get title(){return this.data?.[ks]}constructor(e,t,r,i,u,c,g,_,D,T,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=T,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Go(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Go(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class O0 extends N0{constructor(e,t){super(t),this.url=e,uy(this,t)}toString(){return k0(this._root)}}function uy(n,e){e.value._routerState=n,e.children.forEach(t=>uy(n,t))}function k0(n){const e=n.children.length>0?` { ${n.children.map(k0).join(", ")} } `:"";return`${n.value}${e}`}function Kh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,as(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),as(e.params,t.params)||n.params.next(t.params),function Bc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!as(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),as(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function co(n,e){const t=as(n.params,e.params)&&function Hc(n,e){return wi(n,e)&&n.every((t,r)=>as(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||co(n.parent,e.parent))}function Id(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function F0(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Id(n,r,i);return Id(n,r)})}(n,e,t);return new cs(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>Id(n,g)),c}}const r=function L0(n){return new Wh(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Id(n,u));return new cs(r,i)}}const V0="ngNavigationCancelingError";function hC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ve(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fC(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function fC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[V0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function kp(n){return Fp(n)&&Ve(n.url)}function Fp(n){return n&&n[V0]}class cx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Lp,this.attachRef=null}}let Lp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new cx,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yh=!1;let cy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ct,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Lp),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,Yh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,Yh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,Yh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,Yh);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new pC(t,g,i.injector);if(r&&function gC(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(c);this.activated=i.createComponent(D,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class pC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wh?this.route:e===Lp?this.childContexts:this.parent.get(e,t)}}let ly=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[cy],encapsulation:2}),n})();function dy(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Vp(n){const e=n.children&&n.children.map(Vp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ct&&(t.component=ly),t}function Ls(n){return n.outlet||Ct}function B0(n,e){const t=n.filter(r=>Ls(r)===e);return t.push(...n.filter(r=>Ls(r)!==e)),t}function Qh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class $0{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Kh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ed(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),w(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ed(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ed(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ed(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new M0(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Pp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Kh(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),Kh(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=Qh(i.snapshot),_=g?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=g,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class vC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class py{constructor(e,t){this.component=e,this.route=t}}function Jh(n,e,t){const r=n._root;return Dd(r,e?e._root:null,t,[r.value])}function Wc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Dd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ed(e);return n.children.forEach(c=>{(function j0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const _=function wC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wi(n.url,e.url)||!as(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!co(n,e)||!as(n.queryParams,e.queryParams);default:return!co(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new vC(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Dd(n,e,u.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new py(g.outlet.component,c))}else c&&Xh(e,g,i),i.canActivateChecks.push(new vC(r)),Dd(n,null,u.component?g?g.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),w(u,(c,g)=>Xh(c,t.getContext(g),i)),i}function Xh(n,e,t){const r=Ed(n),i=n.value;w(r,(u,c)=>{Xh(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new py(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Cd(n){return"function"==typeof n}function Fa(n){return n instanceof ba||"EmptyError"===n?.name}const Up=Symbol("INITIAL_VALUE");function Ru(){return vn(n=>kc(n.map(e=>e.pipe(Os(1),function Na(...n){const e=(0,Mi.yG)(n);return(0,qr.e)((t,r)=>{(e?Iu(n,t,e):Iu(n,t)).subscribe(r)})}(Up)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===Up)return Up;if(!1===t||t instanceof Sn)return t}return!0}),_i(e=>e!==Up),Os(1)))}function Ey(n){return(0,Fc.z)((0,Pn.b)(e=>{if(Ve(e))throw hC(0,e)}),(0,It.U)(e=>!0===e))}const Iy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q0(n,e,t,r,i){const u=Dy(n,e,t);return u.matched?function bd(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?nt(i.map(c=>{const g=Wc(c,n);return C(function _y(n){return n&&Cd(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(Ru(),Ey()):nt(!0)}(r=dy(e,r),e,t).pipe((0,It.U)(c=>!0===c?u:{...Iy})):nt(u)}function Dy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Iy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fs)(t,n,e);if(!i)return{...Iy};const u={};w(i.posParams,(g,_)=>{u[_]=g.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Td(n,e,t,r){if(t.length>0&&function SC(n,e,t){return t.some(r=>Cy(n,e,r)&&Ls(r)!==Ct)}(n,t,r)){const u=new wt(e,function W0(n,e,t,r){const i={};i[Ct]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ls(u)!==Ct){const c=new wt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ls(u)]=c}return i}(n,e,r,new wt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function K0(n,e,t){return t.some(r=>Cy(n,e,r))}(n,t,r)){const u=new wt(n.segments,function TC(n,e,t,r,i){const u={};for(const c of r)if(Cy(n,t,c)&&!i[Ls(c)]){const g=new wt([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[Ls(c)]=g}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new wt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Cy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Z0(n,e,t,r){return!!(Ls(n)===r||r!==Ct&&Cy(e,t,n))&&("**"===n.path||Dy(e,n,t).matched)}function Sd(n,e,t){return 0===e.length&&!n.children[t]}const jp=!1;class La{constructor(e){this.segmentGroup=e||null}}class Ad{constructor(e){this.urlTree=e}}function ef(n){return Ps(new La(n))}function by(n){return Ps(new Ad(n))}class Y0{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Td(this.urlTree.root,[],[],this.config).segmentGroup,t=new wt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ct).pipe((0,It.U)(u=>this.createUrlTree(K(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vi(u=>{if(u instanceof Ad)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof La?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ct).pipe((0,It.U)(i=>this.createUrlTree(K(i),e.queryParams,e.fragment))).pipe(vi(i=>{throw i instanceof La?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,jp)}createUrlTree(e,t,r){const i=N(e);return new Sn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(u=>new wt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,tn.D)(i).pipe(Gi(u=>{const c=r.children[u],g=B0(t,u);return this.expandSegmentGroup(e,g,c,u).pipe((0,It.U)(_=>({segment:_,outlet:u})))}),Fh((u,c)=>(u[c.outlet]=c.segment,u),{}),Ho())}expandSegment(e,t,r,i,u,c){return(0,tn.D)(r).pipe(Gi(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,u,c).pipe(vi(D=>{if(D instanceof La)return nt(null);throw D}))),xi(g=>!!g),vi((g,_)=>{if(Fa(g))return Sd(t,i,u)?nt(new wt([],{})):ef(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,u,c,g){return Z0(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):ef(t):ef(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?by(u):this.lineralizeSegments(r,u).pipe((0,Zn.z)(c=>{const g=new wt(c,{});return this.expandSegment(e,g,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:g,consumedSegments:_,remainingSegments:D,positionalParamSegments:T}=Dy(t,i,u);if(!g)return ef(t);const x=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?by(x):this.lineralizeSegments(i,x).pipe((0,Zn.z)(L=>this.expandSegment(e,t,r,L.concat(D),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=dy(r,e),r.loadChildren?(r._loadedRoutes?nt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,It.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new wt(i,{})))):nt(new wt(i,{}))):q0(t,r,i,e).pipe(vn(({matched:c,consumedSegments:g,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Zn.z)(T=>{const x=T.injector??e,L=T.routes,{segmentGroup:H,slicedSegments:Y}=Td(t,g,_,L),we=new wt(H.segments,H.children);if(0===Y.length&&we.hasChildren())return this.expandChildren(x,L,we).pipe((0,It.U)(tt=>new wt(g,tt)));if(0===L.length&&0===Y.length)return nt(new wt(g,{}));const _e=Ls(r)===u;return this.expandSegment(x,we,L,Y,_e?Ct:u,!0).pipe((0,It.U)(ut=>new wt(g.concat(ut.segments),ut.children)))})):ef(t)))}getChildConfig(e,t,r){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function bC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?nt(!0):nt(i.map(c=>{const g=Wc(c,n);return C(function my(n){return n&&Cd(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(Ru(),Ey())}(e,t,r).pipe((0,Zn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Pn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function MC(n){return Ps(fC(jp,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[Ct])return e.redirectTo,Ps(new h.vHH(4e3,jp));i=i.children[Ct]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Sn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return w(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[u]=t[g]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return w(t.children,(g,_)=>{c[_]=this.createSegmentGroup(e,g,r,i)}),new wt(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,jp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Ty{}class tf{constructor(e,t,r,i,u,c,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=g}recognize(){const e=Td(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ct).pipe((0,It.U)(t=>{if(null===t)return null;const r=new Op([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new cs(r,t),u=new O0(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=dC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,tn.D)(Object.keys(r.children)).pipe(Gi(i=>{const u=r.children[i],c=B0(t,i);return this.processSegmentGroup(e,c,u,i)}),Fh((i,u)=>i&&u?(i.push(...u),i):null),function hd(n,e=!1){return(0,qr.e)((t,r)=>{let i=0;t.subscribe((0,xr.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),Pa(null),Ho(),(0,It.U)(i=>{if(null===i)return null;const u=J0(i);return function NC(n){n.sort((e,t)=>e.value.outlet===Ct?-1:t.value.outlet===Ct?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,tn.D)(t).pipe(Gi(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),xi(c=>!!c),vi(c=>{if(Fa(c))return Sd(r,i,u)?nt([]):nt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!Z0(t,r,i,u))return nt(null);let c;if("**"===t.path){const g=i.length>0?jc(i).parameters:{},_=ew(r)+i.length;c=nt({snapshot:new Op(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jo(t),Ls(t),t.component??t._loadedComponent??null,t,X0(r),_,tw(t)),consumedSegments:[],remainingSegments:[]})}else c=q0(r,t,i,e).pipe((0,It.U)(({matched:g,consumedSegments:_,remainingSegments:D,parameters:T})=>{if(!g)return null;const x=ew(r)+_.length;return{snapshot:new Op(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jo(t),Ls(t),t.component??t._loadedComponent??null,t,X0(r),x,tw(t)),consumedSegments:_,remainingSegments:D}}));return c.pipe(vn(g=>{if(null===g)return nt(null);const{snapshot:_,consumedSegments:D,remainingSegments:T}=g;e=t._injector??e;const x=t._loadedInjector??e,L=function PC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:Y}=Td(r,D,T,L.filter(_e=>void 0===_e.redirectTo));if(0===Y.length&&H.hasChildren())return this.processChildren(x,L,H).pipe((0,It.U)(_e=>null===_e?null:[new cs(_,_e)]));if(0===L.length&&0===Y.length)return nt([new cs(_,[])]);const we=Ls(t)===u;return this.processSegment(x,L,H,Y,we?Ct:u).pipe((0,It.U)(_e=>null===_e?null:[new cs(_,_e)]))}))}}function OC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function J0(n){const e=[],t=new Set;for(const r of n){if(!OC(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=J0(r.children);e.push(new cs(r.value,i))}return e.filter(r=>!t.has(r))}function X0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ew(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Jo(n){return n.data||{}}function tw(n){return n.resolve||{}}function Ay(n){return"string"==typeof n.title||null===n.title}function My(n){return vn(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,It.U)(()=>e)):nt(e)})}const Md=new h.OlP("ROUTES");let Ry=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=C(t.loadComponent()).pipe((0,It.U)(iw),(0,Pn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),zo(()=>{this.componentLoaders.delete(t)})),i=new kh(r,()=>new gi.x).pipe(Ra());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,It.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,D,T=!1;Array.isArray(g)?D=g:(_=g.create(t).injector,D=fd(_.get(Md,[],h.XFs.Self|h.XFs.Optional)));return{routes:D.map(Vp),injector:_}}),zo(()=>{this.childrenLoaders.delete(r)})),c=new kh(u,()=>new gi.x).pipe(Ra());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return C(t()).pipe((0,It.U)(iw),(0,Zn.z)(r=>r instanceof h.YKP||Array.isArray(r)?nt(r):(0,tn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iw(n){return function lo(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let zp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gi.x,this.configLoader=(0,h.f3M)(Ry),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Ir),this.rootContexts=(0,h.f3M)(Lp),this.navigationId=0,this.afterPreactivation=()=>nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new sC(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new iy(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_i(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vn(r=>{let i=!1,u=!1;return nt(r).pipe((0,Pn.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(c=>{const g=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new qc(c.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),ti.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return sw(c.source)&&(t.browserUrlTree=c.extractedUrl),nt(c).pipe(vn(T=>{const x=this.transitions?.getValue();return this.events.next(new ry(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),x!==this.transitions?.getValue()?ti.E:Promise.resolve(T)}),function Q0(n,e,t,r){return vn(i=>function xC(n,e,t,r,i){return new Y0(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,It.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Pn.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function FC(n,e,t,r,i){return(0,Zn.z)(u=>function Sy(n,e,t,r,i,u,c="emptyOnly"){return new tf(n,e,t,r,i,c,u).recognize().pipe(vn(g=>null===g?function RC(n){return new or.y(e=>e.error(n))}(new Ty):nt(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,It.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Pn.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const L=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(L,T)}t.browserUrlTree=T.urlAfterRedirects}const x=new wd(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(x)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:x,source:L,restoredState:H,extras:Y}=c,we=new ry(T,this.urlSerializer.serialize(x),L,H);this.events.next(we);const _e=lC(x,this.rootComponentType).snapshot;return nt(r={...c,targetSnapshot:_e,urlAfterRedirects:x,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new qc(c.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),ti.E}}),(0,Pn.b)(c=>{const g=new nC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}),(0,It.U)(c=>r={...c,guards:Jh(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Bp(n,e){return(0,Zn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?nt({...t,guardsResult:!0}):function DC(n,e,t,r){return(0,tn.D)(n).pipe((0,Zn.z)(i=>function CC(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?nt(u.map(g=>{const _=Qh(e)??i,D=Wc(g,_);return C(function EC(n){return n&&Cd(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):_.runInContext(()=>D(n,e,t,r))).pipe(xi())})).pipe(Ru()):nt(!0)}(i.component,i.route,t,e,r)),xi(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Zn.z)(g=>g&&function H0(n){return"boolean"==typeof n}(g)?function vy(n,e,t,r){return(0,tn.D)(e).pipe(Gi(i=>Iu(function Kc(n,e){return null!==n&&e&&e(new A0(n)),nt(!0)}(i.route.parent,r),function $p(n,e){return null!==n&&e&&e(new sy(n)),nt(!0)}(i.route,r),function wy(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function gy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>dd(()=>nt(c.guards.map(_=>{const D=Qh(c.node)??t,T=Wc(_,D);return C(function yy(n){return n&&Cd(n.canActivateChild)}(T)?T.canActivateChild(r,n):D.runInContext(()=>T(r,n))).pipe(xi())})).pipe(Ru())));return nt(u).pipe(Ru())}(n,i.path,t),function G0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(u=>dd(()=>{const c=Qh(e)??t,g=Wc(u,c);return C(function hx(n){return n&&Cd(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(xi())}));return nt(i).pipe(Ru())}(n,i.route,t))),xi(i=>!0!==i,!0))}(r,u,n,e):nt(g)),(0,It.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Pn.b)(c=>{if(r.guardsResult=c.guardsResult,Ve(c.guardsResult))throw hC(0,c.guardsResult);const g=new rC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(g)}),_i(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),My(c=>{if(c.guards.canActivateChecks.length)return nt(c).pipe((0,Pn.b)(g=>{const _=new ax(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),vn(g=>{let _=!1;return nt(g).pipe(function fx(n,e){return(0,Zn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let u=0;return(0,tn.D)(i).pipe(Gi(c=>function px(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Ay(i)&&(u[ks]=i.title),function nw(n,e,t,r){const i=function gx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return nt({});const u={};return(0,tn.D)(i).pipe((0,Zn.z)(c=>function rw(n,e,t,r){const i=Qh(e)??r,u=Wc(n,i);return C(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(xi(),(0,Pn.b)(g=>{u[c]=g}))),Uc(1),function oo(n){return(0,It.U)(()=>n)}(u),vi(c=>Fa(c)?ti.E:Ps(c)))}(u,n,e,r).pipe((0,It.U)(c=>(n._resolvedData=c,n.data=dC(n,t).resolve,i&&Ay(i)&&(n.data[ks]=i.title),null)))}(c.route,r,n,e)),(0,Pn.b)(()=>u++),Uc(1),(0,Zn.z)(c=>u===i.length?nt(t):ti.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Pn.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Pn.b)(g=>{const _=new iC(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),My(c=>{const g=_=>{const D=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Pn.b)(T=>{_.component=T}),(0,It.U)(()=>{})));for(const T of _.children)D.push(...g(T));return D};return kc(g(c.targetSnapshot.root)).pipe(Pa(),Os(1))}),My(()=>this.afterPreactivation()),(0,It.U)(c=>{const g=function Zh(n,e,t){const r=Id(n,e._root,t?t._root:void 0);return new cC(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:g}}),(0,Pn.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new $0(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Os(1),(0,Pn.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new xu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),zo(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vi(c=>{if(u=!0,Fp(c)){kp(c)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new Gh(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(g),kp(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||sw(r.source)};t.scheduleNavigation(_,zh,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new qh(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return ti.E}))}))}cancelNavigationTransition(t,r,i){const u=new Gh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sw(n){return n!==zh}let ow=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Ct);return r}getResolvedTitleForRoute(t){return t.data[ks]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(LC)},providedIn:"root"}),n})(),LC=(()=>{class n extends ow{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Rh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(UC)},providedIn:"root"}),n})();class VC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let UC=(()=>{class n extends VC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ft=new h.OlP("",{providedIn:"root",factory:()=>({})});let uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(cw)},providedIn:"root"}),n})(),cw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $C(n){throw n}function jC(n,e,t){return e.parse("/")}const lw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Ft,{optional:!0})||{},this.errorHandler=this.options.errorHandler||$C,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(uw),this.routeReuseStrategy=(0,h.f3M)(aw),this.urlCreationStrategy=(0,h.f3M)(uC),this.titleStrategy=(0,h.f3M)(ow),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fd((0,h.f3M)(Md,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(zp),this.urlSerializer=(0,h.f3M)(Ir),this.location=(0,h.f3M)(Ue),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:g,preserveFragment:_}=r,D=_?this.currentUrlTree.fragment:c;let T=null;switch(g){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ve(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,zh,null,r)}navigate(t,r={skipLocationChange:!1}){return function zC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...lw}:!1===r?{...HC}:r,Ve(t))return W(this.currentUrlTree,t,i);const u=this.parseUrl(t);return W(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let g,_,D,T;return c?(g=c.resolve,_=c.reject,D=c.promise):D=new Promise((x,L)=>{g=x,_=L}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sf=(()=>{class n{constructor(t,r,i,u,c,g){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.locationStrategy=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new gi.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(D=>{D instanceof xu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gr),h.Y36(Wh),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(it))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})(),GC=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,u,c){this.router=t,this.element=r,this.renderer=i,this.cdr=u,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(g=>{g instanceof xu&&this.update()})}ngAfterContentInit(){nt(this.links.changes,nt(null)).pipe((0,Ma.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,tn.D)(t).pipe((0,Ma.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function dw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gr),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(sf,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,sf,5),2&t){let u;h.iGM(u=h.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]}),n})();class Ny{}let Py=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(_i(t=>t instanceof xu),Gi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,g=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,tn.D)(i).pipe((0,Ma.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nt(null);const u=i.pipe((0,Zn.z)(c=>null===c?nt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,tn.D)([u,c]).pipe((0,Ma.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(gr),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Ny),h.LFG(Ry))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=new h.OlP("");let hw=(()=>{class n{constructor(t,r,i,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ry?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var Vs=(()=>((Vs=Vs||{})[Vs.COMPLETE=0]="COMPLETE",Vs[Vs.FAILED=1]="FAILED",Vs[Vs.REDIRECTING=2]="REDIRECTING",Vs))();const uf=!1;function Zc(n,e){return{\u0275kind:n,\u0275providers:e}}const ky=new h.OlP("",{providedIn:"root",factory:()=>!1});function cf(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(gr),i=n.get(fw);1===n.get(qp)&&r.initialNavigation(),n.get(pw,null,h.XFs.Optional)?.setUpPreloading(),n.get(af,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const fw=new h.OlP(uf?"bootstrap done indicator":"",{factory:()=>new gi.x}),qp=new h.OlP(uf?"initial navigation":"",{providedIn:"root",factory:()=>1});function ZC(){let n=[];return n=uf?[{provide:h.Xts,multi:!0,useFactory:()=>{const e=(0,h.f3M)(gr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function x0(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Zc(1,n)}const pw=new h.OlP(uf?"router preloader":"");function YC(n){return Zc(0,[{provide:pw,useExisting:Py},{provide:Ny,useExisting:n}])}const Nd=!1,XC=new h.OlP(Nd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Fy=[Ue,{provide:Ir,useClass:Cu},gr,Lp,{provide:Wh,useFactory:function Oy(n){return n.routerState.root},deps:[gr]},Ry,Nd?{provide:ky,useValue:!0}:[]];function eb(){return new h.PXZ("Router",gr)}let mw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Fy,Nd&&r?.enableTracing?ZC().\u0275providers:[],{provide:Md,multi:!0,useValue:t},{provide:XC,useFactory:_w,deps:[[gr,new h.FiY,new h.tp0]]},{provide:Ft,useValue:r||{}},r?.useHash?{provide:it,useClass:Ne}:{provide:it,useClass:Te},{provide:af,useFactory:()=>{const n=(0,h.f3M)(tu),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Ft),r=(0,h.f3M)(zp),i=(0,h.f3M)(Ir);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hw(i,r,n,e,t)}},r?.preloadingStrategy?YC(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:eb},r?.initialNavigation?nb(r):[],[{provide:vw,useFactory:cf},{provide:h.tb,multi:!0,useExisting:vw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Md,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(XC,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ly]}),n})();function _w(n){if(Nd&&n)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function nb(n){return["disabled"===n.initialNavigation?Zc(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(gr);return()=>{e.setUpLocationChangeListener()}}},{provide:qp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zc(2,[{provide:qp,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(pe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(gr),u=e.get(fw);(function yx(n,e){n.events.pipe(_i(t=>t instanceof xu||t instanceof Gh||t instanceof qh||t instanceof qc),(0,It.U)(t=>t instanceof xu||t instanceof qc?Vs.COMPLETE:t instanceof Gh&&(0===t.code||1===t.code)?Vs.REDIRECTING:Vs.FAILED),_i(t=>t!==Vs.REDIRECTING),Os(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(zp).afterPreactivation=()=>(r(!0),u.closed?nt(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const vw=new h.OlP(Nd?"Router Initializer":""),Ly=[];let df=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[mw.forRoot(Ly),mw]}),n})();class hf{constructor(e,t,r){this.email=e,this.id=t,this.refreshToken=r}get token(){return this.id?this.id:null}}class Yc{}class Kp{}class ho{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(u=>u.toString()),i.length>0){const u=t.toLowerCase();this.headers.set(u,i),this.maybeSetNormalizedName(t,u)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ho?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ho;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ho?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let c=this.headers.get(t);if(!c)return;c=c.filter(g=>-1===u.indexOf(g)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Vy{encodeKey(e){return Iw(e)}encodeValue(e){return Iw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Uy=/%(\d[a-f0-9])/gi,rb={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Iw(n){return encodeURIComponent(n).replace(Uy,(e,t)=>rb[t]??e)}function ff(n){return`${n}`}class Nu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ew(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[c,g]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],_=t.get(c)||[];_.push(g),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ff):[ff(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Nu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ff(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ff(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Dw{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Cw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qi(n){return typeof Blob<"u"&&n instanceof Blob}function bw(n){return typeof FormData<"u"&&n instanceof FormData}class Zp{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function sb(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new ho),this.context||(this.context=new Dw),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+c}}else this.params=new Nu,this.urlWithParams=t}serializeBody(){return null===this.body?null:Cw(this.body)||qi(this.body)||bw(this.body)||function ob(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bw(this.body)?null:qi(this.body)?this.body.type||null:Cw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,D=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),_)),e.setParams&&(D=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),D)),new Zp(t,r,u,{params:D,headers:_,context:T,reportProgress:g,responseType:i,withCredentials:c})}}var Yn=(()=>((Yn=Yn||{})[Yn.Sent=0]="Sent",Yn[Yn.UploadProgress=1]="UploadProgress",Yn[Yn.ResponseHeader=2]="ResponseHeader",Yn[Yn.DownloadProgress=3]="DownloadProgress",Yn[Yn.Response=4]="Response",Yn[Yn.User=5]="User",Yn))();class Yp{constructor(e,t=200,r="OK"){this.headers=e.headers||new ho,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class By extends Yp{constructor(e={}){super(e),this.type=Yn.ResponseHeader}clone(e={}){return new By({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qp extends Yp{constructor(e={}){super(e),this.type=Yn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Qp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Tw extends Yp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Jp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Sw=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof Zp)u=t;else{let _,D;_=i.headers instanceof ho?i.headers:new ho(i.headers),i.params&&(D=i.params instanceof Nu?i.params:new Nu({fromObject:i.params})),u=new Zp(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:D,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=nt(u).pipe(Gi(_=>this.handler.handle(_)));if(t instanceof Zp||"events"===i.observe)return c;const g=c.pipe(_i(_=>_ instanceof Qp));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,It.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe((0,It.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe((0,It.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe((0,It.U)(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Nu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Jp(i,r))}post(t,r,i={}){return this.request("POST",t,Jp(i,r))}put(t,r,i={}){return this.request("PUT",t,Jp(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yc))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Aw(n,e){return e(n)}function $y(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const jy=new h.OlP("HTTP_INTERCEPTORS"),pf=new h.OlP("HTTP_INTERCEPTOR_FNS");function ub(){let n=null;return(e,t)=>(null===n&&(n=((0,h.f3M)(jy,{optional:!0})??[]).reduceRight($y,Aw)),n(e,t))}let Mw=(()=>{class n extends Yc{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(pf)));this.chain=r.reduceRight((i,u)=>function ab(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),Aw)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Kp),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const eg=/^\)\]\}',?\n/;let gf=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new or.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((H,Y)=>i.setRequestHeader(H,Y.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&i.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();i.responseType="json"!==H?H:"text"}const u=t.serializeBody();let c=null;const g=()=>{if(null!==c)return c;const H=i.statusText||"OK",Y=new ho(i.getAllResponseHeaders()),we=function tg(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new By({headers:Y,status:i.status,statusText:H,url:we}),c},_=()=>{let{headers:H,status:Y,statusText:we,url:_e}=g(),Ke=null;204!==Y&&(Ke=typeof i.response>"u"?i.responseText:i.response),0===Y&&(Y=Ke?200:0);let ut=Y>=200&&Y<300;if("json"===t.responseType&&"string"==typeof Ke){const tt=Ke;Ke=Ke.replace(eg,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(pt){Ke=tt,ut&&(ut=!1,Ke={error:pt,text:Ke})}}ut?(r.next(new Qp({body:Ke,headers:H,status:Y,statusText:we,url:_e||void 0})),r.complete()):r.error(new Tw({error:Ke,headers:H,status:Y,statusText:we,url:_e||void 0}))},D=H=>{const{url:Y}=g(),we=new Tw({error:H,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Y||void 0});r.error(we)};let T=!1;const x=H=>{T||(r.next(g()),T=!0);let Y={type:Yn.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(Y.total=H.total),"text"===t.responseType&&i.responseText&&(Y.partialText=i.responseText),r.next(Y)},L=H=>{let Y={type:Yn.UploadProgress,loaded:H.loaded};H.lengthComputable&&(Y.total=H.total),r.next(Y)};return i.addEventListener("load",_),i.addEventListener("error",D),i.addEventListener("timeout",D),i.addEventListener("abort",D),t.reportProgress&&(i.addEventListener("progress",x),null!==u&&i.upload&&i.upload.addEventListener("progress",L)),i.send(u),r.next({type:Yn.Sent}),()=>{i.removeEventListener("error",D),i.removeEventListener("abort",D),i.removeEventListener("load",_),i.removeEventListener("timeout",D),t.reportProgress&&(i.removeEventListener("progress",x),null!==u&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(kl))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Rw=new h.OlP("XSRF_ENABLED"),fb=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zy=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gy{}let Pw=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ys(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne),h.LFG(h.Lbi),h.LFG(fb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function qy(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(Rw)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(Gy).getToken(),i=(0,h.f3M)(zy);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Bn=(()=>((Bn=Bn||{})[Bn.Interceptors=0]="Interceptors",Bn[Bn.LegacyInterceptors=1]="LegacyInterceptors",Bn[Bn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Bn[Bn.NoXsrfProtection=3]="NoXsrfProtection",Bn[Bn.JsonpSupport=4]="JsonpSupport",Bn[Bn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Bn))();function Ua(n,e){return{\u0275kind:n,\u0275providers:e}}function mf(...n){const e=[Sw,gf,Mw,{provide:Yc,useExisting:Mw},{provide:Kp,useExisting:gf},{provide:pf,useValue:qy,multi:!0},{provide:Rw,useValue:!0},{provide:Gy,useClass:Pw}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const Wy=new h.OlP("LEGACY_INTERCEPTOR_FN");let kw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[mf(Ua(Bn.LegacyInterceptors,[{provide:Wy,useFactory:ub},{provide:pf,useExisting:Wy,multi:!0}]))]}),n})();var pb=O(6451),rg=O(5363),gb=O(6063);class mb extends gi.x{constructor(e=1/0,t=1/0,r=gb.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)g=_;g&&r.splice(0,g+1)}}}var Fw=O(3099);function ig(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Fw.B)({connector:()=>new mb(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Lw(n,e){return(0,Lc.m)(e)?vn(()=>n,e):vn(()=>n)}var yf=O(9468),An=O(4976),fo=O(2011),Ou=O(259);class Od{constructor(e){return e}}class Vw{constructor(){return(0,Ou.C6)()}}const sg=new h.OlP("angularfire2._apps"),Uw={provide:Od,useFactory:function yb(n){return n&&1===n.length?n[0]:new Od((0,Ou.Mq)())},deps:[[new h.FiY,sg]]},_b={provide:Vw,deps:[[new h.FiY,sg]]};function Nx(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Od(r)}}let Bw=(()=>{class n{constructor(t){(0,Ou.KN)("angularfire",An.q4.full,"core"),(0,Ou.KN)("angularfire",An.q4.full,"app"),(0,Ou.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Uw,_b]}),n})();function Px(n,...e){return{ngModule:Bw,providers:[{provide:sg,useFactory:Nx(n),multi:!0,deps:[h.R0b,h.zs3,An.HU,...e]}]}}const Zy=(0,An.u3)(Ou.ZF,!0);var Fe=O(5861),Rr=O(6881),ku=O(4859),zt=O(2090),$a=O(1877);const Fu=new Map,Qc={activated:!1,tokenObservers:[]},kd={initialized:!1,enabled:!1};function Dn(n){return Fu.get(n)||Object.assign({},Qc)}function ja(){return kd}const Lu="https://content-firebaseappcheck.googleapis.com/v1",$w="exchangeDebugToken",Yy={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Hw{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Fe.Z)(function*(){t.stop();try{t.pending=new zt.BH,yield function zw(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Kr=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ag(n){if(!Dn(n).activated)throw Kr.create("use-before-activation",{appName:n.name})}function vf(n,e){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,Fe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,g;try{c=yield fetch(n,u)}catch(x){throw Kr.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==c.status)throw Kr.create("fetch-status-error",{httpStatus:c.status});try{g=yield c.json()}catch(x){throw Kr.create("fetch-parse-error",{originalErrorMessage:x?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const D=1e3*Number(_[1]),T=Date.now();return{token:g.token,expireTimeMillis:T+D,issuedAtTimeMillis:T}})).apply(this,arguments)}function cg(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Lu}/projects/${t}/apps/${r}:${$w}?key=${i}`,body:{debug_token:e}}}const vb="firebase-app-check-database",lg=1,Vu="firebase-app-check-store";let hg=null;function n_(n,e){return pg.apply(this,arguments)}function pg(){return(pg=(0,Fe.Z)(function*(n,e){const r=(yield function fg(){return hg||(hg=new Promise((n,e)=>{try{const t=indexedDB.open(vb,lg);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Kr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vu,{keyPath:"compositeKey"})}}catch(t){e(Kr.create("storage-open",{originalErrorMessage:t?.message}))}}),hg)}()).transaction(Vu,"readwrite"),u=r.objectStore(Vu).put({compositeKey:n,value:e});return new Promise((c,g)=>{u.onsuccess=_=>{c()},r.onerror=_=>{var D;g(Kr.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Ud=new $a.Yd("@firebase/app-check");function _g(n,e){return(0,zt.hl)()?function Ww(n,e){return n_(function Zw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ud.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function i_(){return ja().enabled}function wf(){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,Fe.Z)(function*(){const n=ja();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Jw={error:"UNKNOWN_ERROR"};function Xw(n){return zt.US.encodeString(JSON.stringify(n),!1)}function If(n){return vg.apply(this,arguments)}function vg(){return(vg=(0,Fe.Z)(function*(n,e=!1){const t=n.app;ag(t);const r=Dn(t);let u,i=r.token;if(i&&!Uu(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Uu(_)?i=_:yield _g(t,void 0))}if(!e&&i&&Uu(i))return{token:i.token};let g,c=!1;if(i_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vf(cg(t,yield wf()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield _g(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Dn(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Ud.warn(_.message):Ud.error(_),u=_}return i?u?g=Uu(i)?{token:i.token,internalError:u}:Bu(u):(g={token:i.token},r.token=i,yield _g(t,i)):g=Bu(u),c&&function eE(n,e){const t=Dn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g})).apply(this,arguments)}function s_(n){return wg.apply(this,arguments)}function wg(){return(wg=(0,Fe.Z)(function*(n){const e=n.app;ag(e);const{provider:t}=Dn(e);if(i_()){const r=yield wf(),{token:i}=yield vf(cg(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Bd(n,e){const t=Dn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ha(n){const{app:e}=n,t=Dn(e);let r=t.tokenRefresher;r||(r=function Eb(n){const{app:e}=n;return new Hw((0,Fe.Z)(function*(){let r;if(r=Dn(e).token?yield If(n,!0):yield If(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Dn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Yy.RETRIAL_MIN_WAIT,Yy.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Uu(n){return n.expireTimeMillis-Date.now()>0}function Bu(n){return{token:Xw(Jw),error:n}}class o_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Dn(this.app);for(const t of e)Bd(this.app,t.next);return Promise.resolve()}}const po="app-check-internal";!function go(){(0,Rr._registerComponent)(new ku.wA("app-check",n=>function Ib(n,e){return new o_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(po).initialize()})),(0,Rr._registerComponent)(new ku.wA(po,n=>function a_(n){return{getToken:e=>If(n,e),getLimitedUseToken:()=>s_(n),addTokenListener:e=>function Eg(n,e,t,r){const{app:i}=n,u=Dn(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Uu(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),Ha(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Ha(n))}(n,"INTERNAL",e),removeTokenListener:e=>Bd(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rr.registerVersion)("@firebase/app-check","0.8.0")}();class Cf{constructor(){return(0,An.vb)("app-check")}}typeof window<"u"&&window;var cE=O(9260);const Dg=new h.OlP("angularfire2.auth.use-emulator"),lE=new h.OlP("angularfire2.auth.settings"),dE=new h.OlP("angularfire2.auth.tenant-id"),hE=new h.OlP("angularfire2.auth.langugage-code"),fE=new h.OlP("angularfire2.auth.use-device-language"),pE=new h.OlP("angularfire.auth.persistence");let g_=(()=>{class n{constructor(t,r,i,u,c,g,_,D,T,x,L,H){const Y=new gi.x,we=nt(void 0).pipe((0,rg.Q)(c.outsideAngular),vn(()=>u.runOutsideAngular(()=>O.e(568).then(O.bind(O,9568)))),(0,It.U)(()=>(0,fo.on)(t,u,r)),(0,It.U)(_e=>((n,e,t,r,i,u,c,g)=>(0,fo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,u&&_.useDeviceLanguage(),c)for(const[D,T]of Object.entries(c))_.settings[D]=T;return g&&_.setPersistence(g),_},[t,r,i,u,c,g]))(_e,u,g,D,T,x,_,L)),ig({bufferSize:1,refCount:!1}));if(function ca(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{we.pipe(xi()).subscribe();const Ke=we.pipe(vn(pt=>pt.getRedirectResult().then(Gt=>Gt,()=>null)),An.iC,ig({bufferSize:1,refCount:!1})),ut=we.pipe(vn(pt=>new or.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>pt.onAuthStateChanged(Xt=>Gt.next(Xt),Xt=>Gt.error(Xt),()=>Gt.complete()))})))),tt=we.pipe(vn(pt=>new or.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>pt.onIdTokenChanged(Xt=>Gt.next(Xt),Xt=>Gt.error(Xt),()=>Gt.complete()))}))));this.authState=Ke.pipe(Lw(ut),(0,yf.R)(c.outsideAngular),(0,rg.Q)(c.insideAngular)),this.user=Ke.pipe(Lw(tt),(0,yf.R)(c.outsideAngular),(0,rg.Q)(c.insideAngular)),this.idToken=this.user.pipe(vn(pt=>pt?(0,tn.D)(pt.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(vn(pt=>pt?(0,tn.D)(pt.getIdTokenResult()):nt(null))),this.credential=(0,pb.T)(Ke,Y,this.authState.pipe(_i(pt=>!pt))).pipe((0,It.U)(pt=>pt?.user?pt:null),(0,yf.R)(c.outsideAngular),(0,rg.Q)(c.insideAngular))}return(0,fo.pX)(this,we,u,{spy:{apply:(_e,Ke,ut)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&ut.then(tt=>Y.next(tt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fo.Dh),h.LFG(fo.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(An.HU),h.LFG(Dg,8),h.LFG(lE,8),h.LFG(dE,8),h.LFG(hE,8),h.LFG(fE,8),h.LFG(pE,8),h.LFG(Cf,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Cg=(()=>{class n{constructor(t,r,i){this.http=t,this.authFireService=r,this.router=i,this.userSubject=new gi.x,this.roles$=this.authFireService.idTokenResult.pipe((0,It.U)(u=>u?.claims?{admin:!0}:{admin:!1})),console.log(this.userCheck())}authResponse(t,r){const i=this.authFireService.createUserWithEmailAndPassword(t,r),u=(0,tn.D)(i);return u.subscribe(c=>{const T=new hf(c.user.email,c.user.refreshToken,c.user.uid);this.userSubject.next(T)},c=>{this.handleError(c)}),u}login(t,r){const i=this.authFireService.signInWithEmailAndPassword(t,r),u=(0,tn.D)(i);return u.subscribe(c=>{const T=new hf(c.user.email,c.user.refreshToken,c.user.uid);this.userSubject.next(T),localStorage.setItem("userData",JSON.stringify(T))},c=>{this.handleError(c)}),u}logout(){this.authFireService.signOut(),this.userSubject.next(null),this.router.navigate(["/"]),localStorage.removeItem("userData"),window.location.reload()}handleError(t){return Ps(t.error&&t.error.error?t.error.message:"default error!")}autoLogin(){const t=JSON.parse(localStorage.getItem("userData"));if(!t)return!1;const r=new hf(t.email,t.id,t.refreshToken);return this.userSubject.next(r),!0}autoLogout(){localStorage.removeItem("userData"),this.logout()}userCheck(){return!!JSON.parse(localStorage.getItem("userData"))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Sw),h.LFG(g_),h.LFG(gr))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[cy]}),n})();function Lb(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"a",5),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.login())}),h._uU(1,"Login/SignIn"),h.qZA()}}function Vb(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"a",7),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.logout())}),h._uU(1,"Logout"),h.qZA()}}let Ub=(()=>{class n{constructor(t){this.authservice=t,this.title="firebaseApp",this.logString=""}ngOnInit(){this.defineUser()}logout(){this.authservice.logout(),this.userName="NoUser",this.ngOnInit()}login(){if(this.authservice.autoLogin()){const r=JSON.parse(localStorage.getItem("userData"));r&&(this.userName=r.email,this.logBool=!1,this.ngOnInit())}else alert("please login of sign in")}loginlogout(){const t=JSON.parse(localStorage.getItem("userData"));t&&(this.userName=t.email)}defineUser(){const t=JSON.parse(localStorage.getItem("userData"));null!=t?(this.logBool=!0,this.userName=t.email):(this.logBool=!1,this.userName="NoUser")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:20,vars:4,consts:[["id","nav_bar"],["routerLinkActive","active","routerLink","auth",3,"click",4,"ngIf"],["routerLink","*",3,"click",4,"ngIf"],["routerLink","main"],["routerLink","products"],["routerLinkActive","active","routerLink","auth",3,"click"],["id","content"],["routerLink","*",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"ul")(2,"li"),h.YNc(3,Lb,2,0,"a",1),h.qZA(),h.TgZ(4,"li"),h.YNc(5,Vb,2,0,"a",2),h.qZA(),h.TgZ(6,"li")(7,"a",3),h._uU(8,"Main"),h.qZA()(),h.TgZ(9,"li")(10,"a",4),h._uU(11,"Products"),h.qZA()(),h.TgZ(12,"li")(13,"a",5),h.NdJ("click",function(){return r.loginlogout()}),h._uU(14),h.qZA()(),h.TgZ(15,"li")(16,"a"),h._uU(17),h.qZA()()()(),h.TgZ(18,"div",6),h._UZ(19,"app-home"),h.qZA()),2&t&&(h.xp6(3),h.Q6J("ngIf",0==r.logBool),h.xp6(2),h.Q6J("ngIf",1==r.logBool),h.xp6(9),h.Oqu(r.logString),h.xp6(3),h.Oqu(r.userName))},dependencies:[Ui,sf,GC,mE],styles:["#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;list-style-type:none}#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}#content[_ngcontent-%COMP%]{height:300px;margin:3% 10%}"]}),n})();var Bb=O(1389);let yE=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Xc=(()=>{class n extends yE{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Xo=new h.OlP("NgValueAccessor"),Hb={provide:Xo,useExisting:(0,h.Gpc)(()=>el),multi:!0},Gb=new h.OlP("CompositionEventMode");let el=(()=>{class n extends yE{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zb(){const n=z()?z().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Gb,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([Hb]),h.qOj]}),n})();const qb=!1;function $u(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ri=new h.OlP("NgValidators"),Ga=new h.OlP("NgAsyncValidators"),vE=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function v_(n){return $u(n.value)?{required:!0}:null}function E_(n){return $u(n.value)||vE.test(n.value)?null:{email:!0}}function bg(n){return null}function tl(n){return null!=n}function Kb(n){const e=(0,h.QGY)(n)?(0,tn.D)(n):n;if(qb&&!(0,h.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,t)}return e}function Tg(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Zb(n,e){return e.map(t=>t(n))}function D_(n){return n.map(e=>function EE(n){return!n.validate}(e)?e:t=>e.validate(t))}function Mt(n){return null!=n?function Yb(n){if(!n)return null;const e=n.filter(tl);return 0==e.length?null:function(t){return Tg(Zb(t,e))}}(D_(n)):null}function C_(n){return null!=n?function IE(n){if(!n)return null;const e=n.filter(tl);return 0==e.length?null:function(t){return function $b(...n){const e=(0,Mi.jO)(n),{args:t,keys:r}=Pc(n),i=new or.y(u=>{const{length:c}=t;if(!c)return void u.complete();const g=new Array(c);let _=c,D=c;for(let T=0;T<c;T++){let x=!1;(0,xa.Xf)(t[T]).subscribe((0,xr.x)(u,L=>{x||(x=!0,D--),g[T]=L},()=>_--,void 0,()=>{(!_||!x)&&(D||u.next(r?Eu(r,g):g),u.complete())}))}});return e?i.pipe(yi(e)):i}(Zb(t,e).map(Kb)).pipe((0,It.U)(Tg))}}(D_(n)):null}function DE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $d(n){return n?Array.isArray(n)?n:[n]:[]}function rl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qn(n,e){const t=$d(e);return $d(n).forEach(i=>{rl(t,i)||t.push(i)}),t}function Qb(n,e){return $d(e).filter(t=>!rl(n,t))}class b_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=C_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ei extends b_{get formDirective(){return null}get path(){return null}}class Hu extends b_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class T_{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jd=(()=>{class n extends T_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Hu,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),Tf=(()=>{class n extends T_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ei,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();function bE(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Mg=!1,Hd="VALID",xg="INVALID",il="PENDING",Mf="DISABLED";function x_(n){return(R_(n)?n.validators:n)||null}function SE(n,e){return(R_(e)?e.asyncValidators:n)||null}function R_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function N_(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,Mg?function iT(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new h.vHH(1001,Mg?function sT(n,e){return`Cannot find form control ${bE(n,e)}`}(e,t):"")}function xf(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,Mg?function TE(n,e){return`Must supply a value for form control ${bE(n,e)}`}(e,i):"")})}class Rg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hd}get invalid(){return this.status===xg}get pending(){return this.status==il}get disabled(){return this.status===Mf}get enabled(){return this.status!==Mf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qb(e,this._rawAsyncValidators))}hasValidator(e){return rl(this._rawValidators,e)}hasAsyncValidator(e){return rl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=il,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hd||this.status===il)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mf:Hd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=il,this._hasOwnPendingAsyncValidator=!0;const t=Kb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Mf:this.errors?xg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(il)?il:this._anyControlsHaveStatus(xg)?xg:Hd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){R_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Wx(n){return Array.isArray(n)?Mt(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Kx(n){return Array.isArray(n)?C_(n):n||null}(this._rawAsyncValidators)}}class Rf extends Rg{constructor(e,t,r){super(x_(t),SE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xf(this,!0,e),Object.keys(e).forEach(r=>{N_(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class AE extends Rf{}const zd=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Pg}),Pg="always";function Nf(n,e,t=Pg){sl(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ME(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&O_(n,e)})}(n,e),function cT(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&O_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function aT(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Og(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sl(n,e){const t=function nl(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(DE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function CE(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(DE(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Og(e._rawValidators,i),Og(e._rawAsyncValidators,i)}function O_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const pT={provide:Ei,useExisting:(0,h.Gpc)(()=>ol)},Of=(()=>Promise.resolve())();let ol=(()=>{class n extends Ei{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Rf({},Mt(t),C_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Of.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Nf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Of.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Of.then(()=>{const r=this._findContainer(t.path),i=new Rf({});(function k_(n,e){sl(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Of.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Of.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Lg(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ri,10),h.Y36(Ga,10),h.Y36(zd,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([pT]),h.qOj]}),n})();function NE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function PE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kf=class extends Rg{constructor(e=null,t,r){super(x_(t),SE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),R_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=PE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){PE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},U_={provide:Hu,useExisting:(0,h.Gpc)(()=>al)},Vg=(()=>Promise.resolve())();let al=(()=>{class n extends Hu{constructor(t,r,i,u,c,g){super(),this._changeDetectorRef=c,this.callSetDisabledState=g,this.control=new kf,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function L_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===el?t=u:function fT(n){return Object.getPrototypeOf(n.constructor)===Xc}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function F_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Vg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,h.D6c)(r);Vg.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function P_(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ei,9),h.Y36(ri,10),h.Y36(Ga,10),h.Y36(Xo,10),h.Y36(h.sBO,8),h.Y36(zd,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([U_]),h.qOj,h.TTD]}),n})(),ul=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),$_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let cl=(()=>{class n{constructor(){this._validator=bg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const TT={provide:ri,useExisting:(0,h.Gpc)(()=>ll),multi:!0};let ll=(()=>{class n extends cl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=t=>v_}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([TT]),h.qOj]}),n})();const KE={provide:ri,useExisting:(0,h.Gpc)(()=>$g),multi:!0};let $g=(()=>{class n extends cl{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=h.D6c,this.createValidator=t=>E_}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[h._Bn([KE]),h.qOj]}),n})();const ZE={provide:ri,useExisting:(0,h.Gpc)(()=>jg),multi:!0};let jg=(()=>{class n extends cl{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Z_(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function I_(n){return e=>$u(e.value)||!function m_(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[h._Bn([ZE]),h.qOj]}),n})(),RT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[$_]}),n})();class QE extends Rg{constructor(e,t,r){super(x_(t),SE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xf(this,!1,e),e.forEach((r,i)=>{N_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function zg(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ea=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return zg(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Rf(i,u)}record(t,r=null){const i=this._reduceControls(t);return new AE(i,r)}control(t,r,i){let u={};return this.useNonNullable?(zg(r)?u=r:(u.validators=r,u.asyncValidators=i),new kf(t,{...u,nonNullable:!0})):new kf(t,r,i)}array(t,r,i){const u=t.map(c=>this._createControl(c));return new QE(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof kf||t instanceof Rg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zd,useValue:t.callSetDisabledState??Pg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[RT]}),n})();function PT(n,e){if(1&n&&(h.TgZ(0,"div",11)(1,"p"),h._uU(2),h.qZA()()),2&n){const t=h.oxw(2);h.xp6(2),h.Oqu(t.errorHtml)}}function qg(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"form",2,3),h.NdJ("ngSubmit",function(){h.CHM(t);const i=h.MAs(1),u=h.oxw();return h.KtG(u.onSubmit(i))}),h.YNc(2,PT,3,1,"div",4),h.TgZ(3,"div")(4,"label",5),h._uU(5,"E-Mail"),h.qZA(),h._UZ(6,"br")(7,"input",6),h.qZA(),h.TgZ(8,"div")(9,"label",7),h._uU(10,"Password"),h.qZA(),h._UZ(11,"br")(12,"input",8),h.qZA(),h.TgZ(13,"div")(14,"button",9),h._uU(15),h.qZA(),h._uU(16," | "),h.TgZ(17,"button",10),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onLogin())}),h._uU(18),h.qZA()()()}if(2&n){const t=h.MAs(1),r=h.oxw();h.xp6(2),h.Q6J("ngIf",r.errorHtml),h.xp6(12),h.Q6J("disabled",!t.valid),h.xp6(1),h.hij(" ",r.isLoginMode?"Sign Up":"Login"," "),h.xp6(3),h.hij(" ",r.isLoginMode?"Swich Login":"Swich Sign Up"," ")}}let Wg=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.isLoginMode=!0,this.isLoading=!1,this.errorHtml=null,this.log=new h.vpe}ngOnInit(){}onLogin(){this.isLoginMode=!this.isLoginMode}onLogout(){this.log.emit(this.isLoading)}onSubmit(t){let r;const i=t.value.email,u=t.value.password;this.isLoading=!0,this.isLoginMode?(r=this.authService.authResponse(i,u),this.isLoading=!1):r=this.authService.login(i,u),r.subscribe(c=>{window.location.reload()},c=>{this.errorHtml=c.message}),t.reset(),this.isLoading=!1}onLoginSuccessful(){this.router.navigateByUrl("/main")}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Cg),h.Y36(gr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-auth"]],outputs:{log:"log"},decls:2,vars:1,consts:[["id","body_auth"],["id","form_auth",3,"ngSubmit",4,"ngIf"],["id","form_auth",3,"ngSubmit"],["form_auth","ngForm"],["style","background-color:rgb(242, 200, 200); color:rgb(142, 0, 0)",4,"ngIf"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email",""],["for","password"],["type","password","id","password","name","password","ngModel","","required","","minlength","6"],["id","submit_auth","type","submit",3,"disabled"],["id","cancel_auth","type","button",3,"click"],[2,"background-color","rgb(242, 200, 200)","color","rgb(142, 0, 0)"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,qg,19,4,"form",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",!r.isLoading))},dependencies:[Ui,ul,el,jd,Tf,ll,jg,$g,al,ol],styles:["#body_auth[_ngcontent-%COMP%]{width:100%;height:500px;padding:0;background-color:#f0f8ff;display:flex}#form_auth[_ngcontent-%COMP%]{width:100%;align-self:center}#form_auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;margin:15px auto}#submit_auth[_ngcontent-%COMP%], #cancel_auth[_ngcontent-%COMP%]{margin:auto 10px}"]}),n})();function XE(n){return new or.y(function(e){return{unsubscribe:(0,Bb.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class Wd{constructor(e){return e}}class J_{constructor(){return(0,An.vb)("auth")}}const rI=(0,An.u3)(XE,!0);var Je,XT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bs={},Zg=Zg||{},Ut=XT||self;function Bf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Kd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var tv="closure_uid_"+(1e9*Math.random()>>>0),NR=0;function lI(n,e,t){return n.call.apply(n.bind,arguments)}function PR(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ni(n,e,t){return(Ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lI:PR).apply(null,arguments)}function nv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function dl(){this.s=this.s,this.o=this.o}dl.prototype.s=!1,dl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function eS(n){Object.prototype.hasOwnProperty.call(n,tv)&&n[tv]||(n[tv]=++NR)}(this)},dl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tS=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function dI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $f(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Bf(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function Pi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Pi.prototype.h=function(){this.defaultPrevented=!0};var hI=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",()=>{},e),Ut.removeEventListener("test",()=>{},e)}catch{}return n}();function zu(n){return/^[\s\xa0]*$/.test(n)}function jf(){var n=Ut.navigator;return n&&(n=n.userAgent)?n:""}function mo(n){return-1!=jf().indexOf(n)}function fI(n){return fI[" "](n),n}fI[" "]=function(){};var iv,n,pI=mo("Opera"),Zd=mo("Trident")||mo("MSIE"),nS=mo("Edge"),gI=nS||Zd,mI=mo("Gecko")&&!(-1!=jf().toLowerCase().indexOf("webkit")&&!mo("Edge"))&&!(mo("Trident")||mo("MSIE"))&&!mo("Edge"),rS=-1!=jf().toLowerCase().indexOf("webkit")&&!mo("Edge");function Hf(){var n=Ut.document;return n?n.documentMode:void 0}e:{var yI="",_I=(n=jf(),mI?/rv:([^\);]+)(\)|;)/.exec(n):nS?/Edge\/([\d\.]+)/.exec(n):Zd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rS?/WebKit\/(\S+)/.exec(n):pI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_I&&(yI=_I?_I[1]:""),Zd){var vI=Hf();if(null!=vI&&vI>parseFloat(yI)){iv=String(vI);break e}}iv=yI}var iS=Ut.document&&Zd&&(Hf()||parseInt(iv,10))||void 0;function Yg(n,e){if(Pi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(mI){e:{try{fI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yg.$.h.call(this)}}ii(Yg,Pi);var sS={2:"touch",3:"pen",4:"mouse"};Yg.prototype.h=function(){Yg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yd="closure_listenable_"+(1e6*Math.random()|0),EI=0;function kR(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++EI,this.fa=this.ia=!1}function Ki(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ov(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function II(n){const e={};for(const t in n)e[t]=n[t];return e}const oS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ls(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<oS.length;u++)t=oS[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Qg(n){this.src=n,this.g={},this.h=0}function zf(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=tS(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Ki(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uv(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}Qg.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=uv(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new kR(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var cv="closure_lm_"+(1e6*Math.random()|0),Gf={};function lv(n,e,t,r,i){if(r&&r.once)return hv(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)lv(n,e[u],t,r,i);return null}return t=ta(t),n&&n[Yd]?n.O(e,t,Kd(r)?!!r.capture:!!r,i):dv(n,e,t,!1,r,i)}function dv(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Kd(i)?!!i.capture:!!i,g=qf(n);if(g||(n[cv]=g=new Qg(n)),(t=g.add(e,t,r,c,u)).proxy)return t;if(r=function aS(){const e=uS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hI||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(gv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hv(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)hv(n,e[u],t,r,i);return null}return t=ta(t),n&&n[Yd]?n.P(e,t,Kd(r)?!!r.capture:!!r,i):dv(n,e,t,!0,r,i)}function fv(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)fv(n,e[u],t,r,i);else r=Kd(r)?!!r.capture:!!r,t=ta(t),n&&n[Yd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uv(u=n.g[e],t,r,i))&&(Ki(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=qf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uv(e,t,r,i)),(t=-1<n?e[n]:null)&&pv(t))}function pv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Yd])zf(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(gv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qf(e))?(zf(t,n),0==t.h&&(t.src=null,e[cv]=null)):Ki(n)}}}function gv(n){return n in Gf?Gf[n]:Gf[n]="on"+n}function uS(n,e){if(n.fa)n=!0;else{e=new Yg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&pv(n),n=t.call(r,e)}return n}function qf(n){return(n=n[cv])instanceof Qg?n:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(n){return"function"==typeof n?n:(n[yo]||(n[yo]=function(e){return n.handleEvent(e)}),n[yo])}function Nr(){dl.call(this),this.i=new Qg(this),this.S=this,this.J=null}function Pr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Pi(e,n);else if(e instanceof Pi)e.target=e.target||n;else{var i=e;ls(e=new Pi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=Wf(c,r,!0,e)&&i}if(i=Wf(c=e.g=n,r,!0,e)&&i,i=Wf(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Wf(c=e.g=t[u],r,!1,e)&&i}function Wf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var g=c.listener,_=c.la||c.src;c.ia&&zf(n.i,c),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}ii(Nr,dl),Nr.prototype[Yd]=!0,Nr.prototype.removeEventListener=function(n,e,t,r){fv(this,n,e,t,r)},Nr.prototype.N=function(){if(Nr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ki(t[r]);delete n.g[e],n.h--}}this.J=null},Nr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Nr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var mv=Ut.JSON.stringify;function cS(){var n=Jg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var DI=new class FR{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new dS,n=>n.reset());class dS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function CI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function LR(n){Ut.setTimeout(()=>{throw n},0)}let Qd,Kf=!1,Jg=new class lS{constructor(){this.h=this.g=null}add(e,t){const r=DI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},hS=()=>{const n=Ut.Promise.resolve(void 0);Qd=()=>{n.then(yv)}};var yv=()=>{for(var n;n=cS();){try{n.h.call(n.g)}catch(t){LR(t)}var e=DI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Kf=!1};function Zf(n,e){Nr.call(this),this.h=n||1,this.g=e||Ut,this.j=Ni(this.qb,this),this.l=Date.now()}function Xg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function em(n,e,t){if("function"==typeof n)t&&(n=Ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function _v(n){n.g=em(()=>{n.g=null,n.i&&(n.i=!1,_v(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(Zf,Nr),(Je=Zf.prototype).ga=!1,Je.T=null,Je.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pr(this,"tick"),this.ga&&(Xg(this),this.start()))}},Je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.N=function(){Zf.$.N.call(this),Xg(this),delete this.g};class bI extends dl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_v(this)}N(){super.N(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gu(n){dl.call(this),this.h=n,this.g={}}ii(Gu,dl);var Yf=[];function vv(n,e,t,r){Array.isArray(t)||(t&&(Yf[0]=t.toString()),t=Yf);for(var i=0;i<t.length;i++){var u=lv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function TI(n){ov(n.g,function(e,t){this.g.hasOwnProperty(t)&&pv(e)},n),n.g={}}function tm(){this.g=!0}function Qf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return mv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Gu.prototype.N=function(){Gu.$.N.call(this),TI(this)},Gu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tm.prototype.Ea=function(){this.g=!1},tm.prototype.info=function(){};var hl={},AI=null;function wv(){return AI=AI||new Nr}function pS(n){Pi.call(this,hl.Ta,n)}function nm(n){const e=wv();Pr(e,new pS(e))}function gS(n,e){Pi.call(this,hl.STAT_EVENT,n),this.stat=e}function Zi(n){const e=wv();Pr(e,new gS(e,n))}function MI(n,e){Pi.call(this,hl.Ua,n),this.size=e}function qu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}hl.Ta="serverreachability",ii(pS,Pi),hl.STAT_EVENT="statevent",ii(gS,Pi),hl.Ua="timingevent",ii(MI,Pi);var rm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function im(){}function Ev(){}im.prototype.h=null;var Xf,fl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jf(){Pi.call(this,"d")}function Iv(){Pi.call(this,"c")}function Jd(){}function Ku(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Gu(this),this.P=BR,this.V=new Zf(n=gI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mS}function mS(){this.i=null,this.g="",this.h=!1}ii(Jf,Pi),ii(Iv,Pi),ii(Jd,im),Jd.prototype.g=function(){return new XMLHttpRequest},Jd.prototype.i=function(){return{}},Xf=new Jd;var BR=45e3,RI={},Dv={};function sm(n,e,t){n.L=1,n.v=Av(Zu(e)),n.s=t,n.S=!0,NI(n,null)}function NI(n,e){n.G=Date.now(),Xd(n),n.A=Zu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),a(t.i,"t",r),n.C=0,t=n.l.J,n.h=new mS,n.g=lN(n.l,t?e:null,!n.s),0<n.O&&(n.M=new bI(Ni(n.Pa,n,n.g),n.O)),vv(n.U,n.g,"readystatechange",n.nb),e=n.I?II(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),nm(),function VR(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",g=u.split("&"),_=0;_<g.length;_++){var D=g[_].split("=");if(1<D.length){var T=D[0];D=D[1];var x=T.split("_");c=2<=x.length&&"type"==x[1]?c+(T+"=")+D+"&":c+(T+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function PI(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function OI(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=yS(n,t),i==Dv){4==e&&(n.o=4,Zi(14),r=!1),Qf(n.j,n.m,null,"[Incomplete Response]");break}if(i==RI){n.o=4,Zi(15),Qf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Qf(n.j,n.m,i,null),om(n,i)}PI(n)&&i!=Dv&&i!=RI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Zi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),IS(e),e.M=!0,Zi(11))):(Qf(n.j,n.m,t,"[Invalid Chunked Response]"),pl(n),tp(n))}function yS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Dv:(t=Number(e.substring(t,r)),isNaN(t)?RI:(r+=1)+t>e.length?Dv:(e=e.slice(r,r+t),n.C=r+t,e))}function Xd(n){n.Y=Date.now()+n.P,Cv(n,n.P)}function Cv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qu(Ni(n.lb,n),e)}function ep(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function tp(n){0==n.l.H||n.J||oN(n.l,n)}function pl(n){ep(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Xg(n.V),TI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function om(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||R(t.i,n)))if(!n.K&&R(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;BI(t),VI(t)}ES(t),Zi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=qu(Ni(t.ib,t),6e3));if(1>=S(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else np(t,11)}else if((n.K||t.g==n)&&BI(t),!zu(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.K=D[1],t.pa=D[2];const T=D[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const x=D[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const L=D[5];null!=L&&"number"==typeof L&&0<L&&(t.L=r=1.5*L,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const Y=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var u=r.i;u.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(k(u,u.h),u.h=null))}if(r.F){const we=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;we&&(r.Da=we,On(r.I,r.F,we))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=cN(r,r.J?r.pa:null,r.Y),c.K){G(r.i,c);var g=c,_=r.L;_&&g.setTimeout(_),g.B&&(ep(g),Xd(g)),r.g=c}else iN(r);0<t.j.length&&UI(t)}else"stop"!=D[0]&&"close"!=D[0]||np(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?np(t,7):wS(t):"noop"!=D[0]&&t.h&&t.h.Aa(D),t.A=0)}nm()}catch{}}function Tv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Bf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function $R(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Bf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function bv(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Bf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(Je=Ku.prototype).setTimeout=function(n){this.P=n},Je.nb=function(n){n=n.target;const e=this.M;e&&3==Yu(n)?e.l():this.Pa(n)},Je.Pa=function(n){try{if(n==this.g)e:{const T=Yu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||gI||this.g&&(this.h.h||this.g.ja()||JR(this.g)))){this.J||4!=T||7==e||nm(),ep(this);var t=this.g.da();this.ca=t;t:if(PI(this)){var r=JR(this.g);n="";var i=r.length,u=4==Yu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pl(this),tp(this);var c="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function UR(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zu(g)){var D=g;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Zi(12),pl(this),tp(this);break e}Qf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,t)}this.S?(OI(this,T,c),gI&&this.i&&3==T&&(vv(this.U,this.V,"tick",this.mb),this.V.start())):(Qf(this.j,this.m,c,null),om(this,c)),4==T&&pl(this),this.i&&!this.J&&(4==T?oN(this.l,this):(this.i=!1,Xd(this)))}else(function Vk(n){const e={};n=(n.g&&2<=Yu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(zu(n[r]))continue;var t=CI(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function av(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Zi(12)):(this.o=0,Zi(13)),pl(this),tp(this)}}}catch{}},Je.mb=function(){if(this.g){var n=Yu(this.g),e=this.g.ja();this.C<e.length&&(ep(this),OI(this,n,e),this.i&&4!=n&&Xd(this))}},Je.cancel=function(){this.J=!0,pl(this)},Je.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function SI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(nm(),Zi(17)),pl(this),this.o=2,tp(this)):Cv(this,this.Y-n)};var am=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gl){this.h=n.h,Sv(this,n.j),this.s=n.s,this.g=n.g,um(this,n.m),this.l=n.l;var e=n.i,t=new dm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),kI(this,t),this.o=n.o}else n&&(e=String(n).match(am))?(this.h=!1,Sv(this,e[1]||"",!0),this.s=cm(e[2]||""),this.g=cm(e[3]||"",!0),um(this,e[4]),this.l=cm(e[5]||"",!0),kI(this,e[6]||"",!0),this.o=cm(e[7]||"")):(this.h=!1,this.i=new dm(null,this.h))}function Zu(n){return new gl(n)}function Sv(n,e,t){n.j=t?cm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function um(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kI(n,e,t){e instanceof dm?(n.i=e,function d(n,e){e&&!n.j&&(ml(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(s(this,r),a(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=lm(e,GR)),n.i=new dm(e,n.h))}function On(n,e,t){n.i.set(e,t)}function Av(n){return On(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lm(e,FI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lm(e,FI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(lm(t,"/"==t.charAt(0)?zR:HR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lm(t,qR)),n.join("")};var FI=/[#\/\?@]/g,HR=/[#\?:]/g,zR=/[#\?]/g,GR=/[#\?@]/g,qR=/#/g;function dm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ml(n){n.g||(n.g=new Map,n.h=0,n.i&&function _S(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function s(n,e){ml(n),e=l(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function o(n,e){return ml(n),e=l(n,e),n.g.has(e)}function a(n,e,t){s(n,e),0<t.length&&(n.i=null,n.g.set(l(n,e),dI(t)),n.h+=t.length)}function l(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function y(n){this.l=n||I,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ka&&Ut.g.Ka()&&Ut.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=dm.prototype).add=function(n,e){ml(this),this.i=null,n=l(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){ml(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Je.ta=function(){ml(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},Je.Z=function(n){ml(this);let e=[];if("string"==typeof n)o(this,n)&&(e=e.concat(this.g.get(l(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Je.set=function(n,e){return ml(this),this.i=null,o(this,n=l(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var I=10;function b(n){return!!n.h||!!n.g&&n.g.size>=n.j}function S(n){return n.h?1:n.g?n.g.size:0}function R(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function k(n,e){n.g?n.g.add(e):n.h=e}function G(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Q(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return dI(n.i)}y.prototype.cancel=function(){if(this.i=Q(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var me=class{stringify(n){return Ut.JSON.stringify(n,void 0)}parse(n){return Ut.JSON.parse(n,void 0)}};function $e(){this.g=new me}function Ye(n,e,t){const r=t||"";try{Tv(n,function(i,u){let c=i;Kd(i)&&(c=mv(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xt(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function be(n){this.l=n.fc||null,this.j=n.ob||!1}function kt(n,e){Nr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Mn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ii(be,im),be.prototype.g=function(){return new kt(this.l,this.j)},be.prototype.i=function(n){return function(){return n}}({}),ii(kt,Nr);var Mn=0;function cr(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function hm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mv(n)}function Mv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=kt.prototype).open=function(n,e){if(this.readyState!=Mn)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mv(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hm(this)),this.readyState=Mn},Je.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mv(this)),this.g&&(this.readyState=3,Mv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cr(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Je.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hm(this):Mv(this),3==this.readyState&&cr(this)}},Je.Za=function(n){this.g&&(this.response=this.responseText=n,hm(this))},Je.Ya=function(n){this.g&&(this.response=n,hm(this))},Je.ka=function(){this.g&&hm(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ok=Ut.JSON.parse;function Dr(n){Nr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WR,this.L=this.M=!1}ii(Dr,Nr);var WR="",kk=/^https?$/i,Fk=["POST","PUT"];function KR(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZR(n),LI(n)}function ZR(n){n.F||(n.F=!0,Pr(n,"complete"),Pr(n,"error"))}function YR(n){if(n.h&&typeof Zg<"u"&&(!n.C[1]||4!=Yu(n)||2!=n.da()))if(n.v&&4==Yu(n))em(n.La,0,n);else if(Pr(n,"readystatechange"),4==Yu(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(am)[1]||null;!i&&Ut.self&&Ut.self.location&&(i=Ut.self.location.protocol.slice(0,-1)),r=!kk.test(i?i.toLowerCase():"")}t=r}if(t)Pr(n,"complete"),Pr(n,"success");else{n.m=6;try{var u=2<Yu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",ZR(n)}}finally{LI(n)}}}function LI(n,e){if(n.g){QR(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Pr(n,"ready");try{t.onreadystatechange=r}catch{}}}function QR(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function Yu(n){return n.g?n.g.readyState:0}function JR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case WR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function XR(n){let e="";return ov(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function vS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=XR(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):On(n,e,t))}function xv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function eN(n){this.Ga=0,this.j=[],this.l=new tm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xv("baseRetryDelayMs",5e3,n),this.hb=xv("retryDelaySeedMs",1e4,n),this.eb=xv("forwardChannelMaxRetries",2,n),this.xa=xv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new y(n&&n.concurrentRequestLimit),this.Ja=new $e,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wS(n){if(tN(n),3==n.H){var e=n.W++,t=Zu(n.I);if(On(t,"SID",n.K),On(t,"RID",e),On(t,"TYPE","terminate"),Rv(n,t),(e=new Ku(n,n.l,e)).L=2,e.v=Av(Zu(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon)try{t=Ut.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=lN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xd(e)}uN(n)}function VI(n){n.g&&(IS(n),n.g.cancel(),n.g=null)}function tN(n){VI(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),BI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function UI(n){if(!b(n.i)&&!n.m){n.m=!0;var e=n.Na;Qd||hS(),Kf||(Qd(),Kf=!0),Jg.add(e,n),n.C=0}}function nN(n,e){var t;t=e?e.m:n.W++;const r=Zu(n.I);On(r,"SID",n.K),On(r,"RID",t),On(r,"AID",n.V),Rv(n,r),n.o&&n.s&&vS(r,n.o,n.s),t=new Ku(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=rN(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),k(n.i,t),sm(t,r,e)}function Rv(n,e){n.na&&ov(n.na,function(t,r){On(e,r,t)}),n.h&&Tv({},function(t,r){On(e,r,t)})}function rN(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ni(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].g,c.push("ofs="+u)):u=0:c.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let D=i[_].g;const T=i[_].map;if(D-=u,0>D)u=Math.max(0,i[_].g-100),g=!1;else try{Ye(T,c,"req"+D+"_")}catch{r&&r(T)}}if(g){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function iN(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Qd||hS(),Kf||(Qd(),Kf=!0),Jg.add(e,n),n.A=0}}function ES(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=qu(Ni(n.Ma,n),aN(n,n.A)),n.A++,0))}function IS(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function sN(n){n.g=new Ku(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Zu(n.wa);On(e,"RID","rpc"),On(e,"SID",n.K),On(e,"AID",n.V),On(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&On(e,"TO",n.qa),On(e,"TYPE","xmlhttp"),Rv(n,e),n.o&&n.s&&vS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Av(Zu(e)),t.s=null,t.S=!0,NI(t,n)}function BI(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function oN(n,e){var t=null;if(n.g==e){BI(n),IS(n),n.g=null;var r=2}else{if(!R(n.i,e))return;t=e.F,G(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Pr(r=wv(),new MI(r,t)),UI(n)}else iN(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Uk(n,e){return!(S(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=qu(Ni(n.Na,n,e),aN(n,n.C)),n.C++,0)))}(n,e)||2==r&&ES(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:np(n,5);break;case 4:np(n,10);break;case 3:np(n,6);break;default:np(n,2)}}function aN(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function np(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ni(n.pb,n);t||(t=new gl("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||Sv(t,"https"),Av(t)),function ct(n,e){const t=new tm;if(Ut.Image){const r=new Image;r.onload=nv(xt,t,r,"TestLoadImage: loaded",!0,e),r.onerror=nv(xt,t,r,"TestLoadImage: error",!1,e),r.onabort=nv(xt,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=nv(xt,t,r,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Zi(2);n.H=0,n.h&&n.h.za(e),uN(n),tN(n)}function uN(n){if(n.H=0,n.ma=[],n.h){const e=Q(n.i);(0!=e.length||0!=n.j.length)&&($f(n.ma,e),$f(n.ma,n.j),n.i.i.length=0,dI(n.j),n.j.length=0),n.h.ya()}}function cN(n,e,t){var r=t instanceof gl?Zu(t):new gl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),um(r,r.m);else{var i=Ut.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new gl(null);r&&Sv(u,r),e&&(u.g=e),i&&um(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&On(r,t,e),On(r,"VER",n.ra),Rv(n,r),r}function lN(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dr(t&&n.Ha&&!n.va?new be({ob:!0}):n.va)).Oa(n.J),e}function dN(){}function $I(){if(Zd&&!(10<=Number(iS)))throw Error("Environmental error: no available transport.")}function _o(n,e){Nr.call(this),this.g=new eN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!zu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zu(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fm(this)}function hN(n){Jf.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fN(){Iv.call(this),this.status=1}function fm(n){this.g=n}function qa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function DS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=u+((c=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function Cn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(Je=Dr.prototype).Oa=function(n){this.M=n},Je.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xf.g(),this.C=function Wu(n){return n.h||(n.h=n.i())}(this.u?this.u:Xf),this.g.onreadystatechange=Ni(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void KR(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Ut.FormData&&n instanceof Ut.FormData,!(0<=tS(Fk,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QR(this),0<this.B&&((this.L=function Lk(n){return Zd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ni(this.ua,this)):this.A=em(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){KR(this,u)}},Je.ua=function(){typeof Zg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pr(this,"complete"),Pr(this,"abort"),LI(this))},Je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),LI(this,!0)),Dr.$.N.call(this)},Je.La=function(){this.s||(this.G||this.v||this.l?YR(this):this.kb())},Je.kb=function(){YR(this)},Je.isActive=function(){return!!this.g},Je.da=function(){try{return 2<Yu(this)?this.g.status:-1}catch{return-1}},Je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Je.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ok(e)}},Je.Ia=function(){return this.m},Je.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=eN.prototype).ra=8,Je.H=1,Je.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Ku(this,this.l,n);let u=this.s;if(this.U&&(u?(u=II(u),ls(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rN(this,i,e),On(t=Zu(this.I),"RID",n),On(t,"CVER",22),this.F&&On(t,"X-HTTP-Session-Id",this.F),Rv(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(XR(u)))+"&"+e:this.o&&vS(t,this.o,u)),k(this.i,i),this.bb&&On(t,"TYPE","init"),this.P?(On(t,"$req",e),On(t,"SID","null"),i.aa=!0,sm(i,t,null)):sm(i,t,e),this.H=2}}else 3==this.H&&(n?nN(this,n):0==this.j.length||b(this.i)||nN(this))},Je.Ma=function(){if(this.u=null,sN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=qu(Ni(this.jb,this),n)}},Je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zi(10),VI(this),sN(this))},Je.ib=function(){null!=this.v&&(this.v=null,VI(this),ES(this),Zi(19))},Je.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Zi(2)):(this.l.info("Failed to ping google.com"),Zi(1))},Je.isActive=function(){return!!this.h&&this.h.isActive(this)},(Je=dN.prototype).Ba=function(){},Je.Aa=function(){},Je.za=function(){},Je.ya=function(){},Je.isActive=function(){return!0},Je.Va=function(){},$I.prototype.g=function(n,e){return new _o(n,e)},ii(_o,Nr),_o.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Zi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=cN(n,null,n.Y),UI(n)},_o.prototype.close=function(){wS(this.g)},_o.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=mv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&UI(e)},_o.prototype.N=function(){this.g.h=null,delete this.j,wS(this.g),delete this.g,_o.$.N.call(this)},ii(hN,Jf),ii(fN,Iv),ii(fm,dN),fm.prototype.Ba=function(){Pr(this.g,"a")},fm.prototype.Aa=function(n){Pr(this.g,new hN(n))},fm.prototype.za=function(n){Pr(this.g,new fN)},fm.prototype.ya=function(){Pr(this.g,"b")},ii(qa,function Bk(){this.blockSize=-1}),qa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)DS(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){DS(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){DS(this,r),i=0;break}}this.h=i,this.i+=e},qa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var $k={};function CS(n){return-128<=n&&128>n?function rv(n,e){var t=$k;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function Qu(n){if(isNaN(n)||!isFinite(n))return pm;if(0>n)return Oi(Qu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=bS;return new Cn(e,0)}var bS=4294967296,pm=CS(0),TS=CS(1),gN=CS(16777216);function yl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function na(n){return-1==n.h}function Oi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Cn(t,~n.h).add(TS)}function jI(n,e){return n.add(Oi(e))}function HI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Nv(n,e){this.g=n,this.h=e}function zI(n,e){if(yl(e))throw Error("division by zero");if(yl(n))return new Nv(pm,pm);if(na(n))return e=zI(Oi(n),e),new Nv(Oi(e.g),Oi(e.h));if(na(e))return e=zI(n,Oi(e)),new Nv(Oi(e.g),e.h);if(30<n.g.length){if(na(n)||na(e))throw Error("slowDivide_ only works with positive integers.");for(var t=TS,r=e;0>=r.X(n);)t=mN(t),r=mN(r);var i=gm(t,1),u=gm(r,1);for(r=gm(r,2),t=gm(t,2);!yl(r);){var c=u.add(r);0>=c.X(n)&&(i=i.add(t),u=c),r=gm(r,1),t=gm(t,1)}return e=jI(n,i.R(e)),new Nv(i,e)}for(i=pm;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=Qu(t)).R(e);na(c)||0<c.X(n);)c=(u=Qu(t-=r)).R(e);yl(u)&&(u=TS),i=i.add(u),n=jI(n,c)}return new Nv(i,n)}function mN(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Cn(t,n.h)}function gm(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Cn(i,n.h)}(Je=Cn.prototype).ea=function(){if(na(this))return-Oi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:bS+r)*e,e*=bS}return n},Je.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(yl(this))return"0";if(na(this))return"-"+Oi(this).toString(n);for(var e=Qu(Math.pow(n,6)),t=this,r="";;){var i=zI(t,e).g,u=((0<(t=jI(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(yl(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Je.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Je.X=function(n){return na(n=jI(this,n))?-1:yl(n)?0:1},Je.abs=function(){return na(this)?Oi(this):this},Je.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),c=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(u&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},Je.R=function(n){if(yl(this)||yl(n))return pm;if(na(this))return na(n)?Oi(this).R(Oi(n)):Oi(Oi(this).R(n));if(na(n))return Oi(this.R(Oi(n)));if(0>this.X(gN)&&0>n.X(gN))return Qu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,c=65535&this.D(r),g=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,HI(t,2*r+2*i),t[2*r+2*i+1]+=u*_,HI(t,2*r+2*i+1),t[2*r+2*i+1]+=c*g,HI(t,2*r+2*i+1),t[2*r+2*i+2]+=u*g,HI(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Cn(t,0)},Je.gb=function(n){return zI(this,n).h},Je.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Cn(t,this.h&n.h)},Je.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Cn(t,this.h|n.h)},Je.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Cn(t,this.h^n.h)},$I.prototype.createWebChannel=$I.prototype.g,_o.prototype.send=_o.prototype.u,_o.prototype.open=_o.prototype.m,_o.prototype.close=_o.prototype.close,rm.NO_ERROR=0,rm.TIMEOUT=8,rm.HTTP_ERROR=6,xI.COMPLETE="complete",Ev.EventType=fl,fl.OPEN="a",fl.CLOSE="b",fl.ERROR="c",fl.MESSAGE="d",Nr.prototype.listen=Nr.prototype.O,Dr.prototype.listenOnce=Dr.prototype.P,Dr.prototype.getLastError=Dr.prototype.Sa,Dr.prototype.getLastErrorCode=Dr.prototype.Ia,Dr.prototype.getStatus=Dr.prototype.da,Dr.prototype.getResponseJson=Dr.prototype.Wa,Dr.prototype.getResponseText=Dr.prototype.ja,Dr.prototype.send=Dr.prototype.ha,Dr.prototype.setWithCredentials=Dr.prototype.Oa,qa.prototype.digest=qa.prototype.l,qa.prototype.reset=qa.prototype.reset,qa.prototype.update=qa.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=Qu,Cn.fromString=function pN(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Oi(pN(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Qu(Math.pow(e,8)),r=pm,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+u),e);8>u?(u=Qu(Math.pow(e,u)),r=r.R(u).add(Qu(c))):r=(r=r.R(t)).add(Qu(c))}return r};var jk=Bs.createWebChannelTransport=function(){return new $I},Hk=Bs.getStatEventTarget=function(){return wv()},SS=Bs.ErrorCode=rm,zk=Bs.EventType=xI,Gk=Bs.Event=hl,yN=Bs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qk=Bs.FetchXmlHttpFactory=be,GI=Bs.WebChannel=Ev,Wk=Bs.XhrIo=Dr,Kk=Bs.Md5=qa,mm=Bs.Integer=Cn;const _N="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let ym="9.22.1";const eh=new $a.Yd("@firebase/firestore");function AS(){return eh.logLevel}function Le(n,...e){if(eh.logLevel<=$a.in.DEBUG){const t=e.map(MS);eh.debug(`Firestore (${ym}): ${n}`,...t)}}function Or(n,...e){if(eh.logLevel<=$a.in.ERROR){const t=e.map(MS);eh.error(`Firestore (${ym}): ${n}`,...t)}}function Wa(n,...e){if(eh.logLevel<=$a.in.WARN){const t=e.map(MS);eh.warn(`Firestore (${ym}): ${n}`,...t)}}function MS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${ym}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function Et(n,e){n||ot()}function Xe(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class vN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class Yk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qk{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let c=new si;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new si,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const D=c;e.enqueueRetryable((0,Fe.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},_=D=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new si)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et("string"==typeof r.accessToken),new vN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new Ii(e)}}class Jk{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xk{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Jk(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eF{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,Le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.T=t.token,new wN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class EN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tF(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function _m(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mr.fromMillis(Date.now())}static fromDate(e){return mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new mr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new mr(0,0))}static max(){return new Dt(new mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pv{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends Pv{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const nF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends Pv{construct(e,t,r){return new kr(e,t,r)}static isValidIdentifier(e){return nF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new xe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new xe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new xe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(c=!c,i++):"."!==g||c?(r+=g,i++):(u(),i++)}if(u(),c)throw new xe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(t)}static emptyPath(){return new kr([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(ln.fromString(e))}static fromName(e){return new Qe(ln.fromString(e).popFirst(5))}static empty(){return new Qe(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new ln(e.slice()))}}function CN(n){return new vo(n.readTime,n.key,-1)}class vo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vo(Dt.min(),Qe.empty(),-1)}static max(){return new vo(Dt.max(),Qe.empty(),-1)}}function RS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const bN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function th(n){return NS.apply(this,arguments)}function NS(){return NS=(0,Fe.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==bN)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),NS.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,u=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++u,c&&u===i&&t()},_=>r(_))}),c=!0,u===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const u=e.length,c=new Array(u);let g=0;for(let _=0;_<u;_++){const D=_;t(e[D]).next(T=>{c[D]=T,++g,g===u&&r(c)},T=>i(T))}})}static doWhile(e,t){return new ee((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function nh(n){return"IndexedDbTransactionError"===n.name}let wo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Fv(n){return null==n}function Lv(n){return 0===n&&1/n==-1/0}function ON(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $n{constructor(e,t){this.comparator=e,this.root=t||ki.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new YI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new YI(this.root,e,this.comparator,!1)}getReverseIterator(){return new YI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new YI(this.root,e,this.comparator,!0)}}class YI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??ki.RED,this.left=i??ki.EMPTY,this.right=u??ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new ki(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ki(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FN(this.data.getIterator())}getIteratorFrom(e){return new FN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class FN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $s{constructor(e){this.fields=e,e.sort(kr.comparator)}static empty(){return new $s([])}unionWith(e){let t=new Jn(kr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _m(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class LN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class oi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LN("Invalid base64 string: "+i):i}}(e);return new oi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new oi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const AF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ih(n){if(Et(!!n),"string"==typeof n){let e=0;const t=AF.exec(n);if(Et(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _l(n){return"string"==typeof n?oi.fromBase64String(n):oi.fromUint8Array(n)}function QI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function JI(n){const e=n.mapValue.fields.__previous_value__;return QI(e)?JI(e):e}function Vv(n){const e=ih(n.mapValue.fields.__local_write_time__.timestampValue);return new mr(e.seconds,e.nanos)}class MF{constructor(e,t,r,i,u,c,g,_,D){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=D}}class sp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sp&&e.projectId===this.projectId&&e.database===this.database}}const sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?QI(n)?4:$N(n)?9007199254740991:10:ot()}function Xu(n,e){if(n===e)return!0;const t=oh(n);if(t!==oh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vv(n).isEqual(Vv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=ih(r.timestampValue),c=ih(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_l(n.bytesValue).isEqual(_l(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Cr(r.geoPointValue.latitude)===Cr(i.geoPointValue.latitude)&&Cr(r.geoPointValue.longitude)===Cr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Cr(r.integerValue)===Cr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Cr(r.doubleValue),c=Cr(i.doubleValue);return u===c?Lv(u)===Lv(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return _m(n.arrayValue.values||[],e.arrayValue.values||[],Xu);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(ON(u)!==ON(c))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===c[g]||!Xu(u[g],c[g])))return!1;return!0}(n,e);default:return ot()}var i}function Uv(n,e){return void 0!==(n.values||[]).find(t=>Xu(t,e))}function ah(n,e){if(n===e)return 0;const t=oh(n),r=oh(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Cr(i.integerValue||i.doubleValue),g=Cr(u.integerValue||u.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return VN(n.timestampValue,e.timestampValue);case 4:return VN(Vv(n),Vv(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=_l(i),g=_l(u);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),g=u.split("/");for(let _=0;_<c.length&&_<g.length;_++){const D=jt(c[_],g[_]);if(0!==D)return D}return jt(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=jt(Cr(i.latitude),Cr(u.latitude));return 0!==c?c:jt(Cr(i.longitude),Cr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],g=u.values||[];for(let _=0;_<c.length&&_<g.length;++_){const D=ah(c[_],g[_]);if(D)return D}return jt(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===sh.mapValue&&u===sh.mapValue)return 0;if(i===sh.mapValue)return 1;if(u===sh.mapValue)return-1;const c=i.fields||{},g=Object.keys(c),_=u.fields||{},D=Object.keys(_);g.sort(),D.sort();for(let T=0;T<g.length&&T<D.length;++T){const x=jt(g[T],D[T]);if(0!==x)return x;const L=ah(c[g[T]],_[D[T]]);if(0!==L)return L}return jt(g.length,D.length)}(n.mapValue,e.mapValue);default:throw ot()}}function VN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=ih(n),r=ih(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function wm(n){return kS(n)}function kS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ih(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_l(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=kS(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const g of i)c?c=!1:u+=",",u+=`${g}:${kS(r.fields[g])}`;return u+"}"}(n.mapValue):ot();var e}function op(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FS(n){return!!n&&"integerValue"in n}function Bv(n){return!!n&&"arrayValue"in n}function UN(n){return!!n&&"nullValue"in n}function BN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tD(n){return!!n&&"mapValue"in n}function $v(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$v(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$v(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $N(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$v(t)}setAll(e){let t=kr.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}c?r[g.lastSegment()]=$v(c):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());tD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rh(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Fi($v(this.value))}}function zN(n){const e=[];return rh(n.fields,(t,r)=>{const i=new kr([t]);if(tD(r)){const u=zN(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new $s(e)}class Xn{constructor(e,t,r,i,u,c,g){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=c,this.documentState=g}static newInvalidDocument(e){return new Xn(e,0,Dt.min(),Dt.min(),Dt.min(),Fi.empty(),0)}static newFoundDocument(e,t,r,i){return new Xn(e,1,t,Dt.min(),r,i,0)}static newNoDocument(e,t){return new Xn(e,2,t,Dt.min(),Dt.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Dt.min(),Dt.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,t){this.position=e,this.inclusive=t}}function GN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(c.referenceValue),t.key):ah(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function qN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xu(n.position[t],e.position[t]))return!1;return!0}class Em{constructor(e,t="asc"){this.field=e,this.dir=t}}function NF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class WN{}class on extends WN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new PF(e,t,r):"array-contains"===t?new FF(e,r):"in"===t?new XN(e,r):"not-in"===t?new LF(e,r):"array-contains-any"===t?new VF(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new OF(e,r):new kF(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ah(t,this.value)):null!==t&&oh(this.value)===oh(t)&&this.matchesComparison(ah(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bn extends WN{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new bn(e,t)}matches(e){return Im(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Im(n){return"and"===n.op}function VS(n){return function KN(n){for(const e of n.filters)if(e instanceof bn)return!1;return!0}(n)&&Im(n)}function US(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+wm(n.value);if(VS(n))return n.filters.map(e=>US(e)).join(",");{const e=n.filters.map(t=>US(t)).join(",");return`${n.op}(${e})`}}function ZN(n,e){return n instanceof on?(t=n,(r=e)instanceof on&&t.op===r.op&&t.field.isEqual(r.field)&&Xu(t.value,r.value)):n instanceof bn?function(t,r){return r instanceof bn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,c)=>i&&ZN(u,r.filters[c]),!0)}(n,e):void ot();var t,r}function QN(n){return n instanceof on?`${(e=n).field.canonicalString()} ${e.op} ${wm(e.value)}`:n instanceof bn?function(e){return e.op.toString()+" {"+e.getFilters().map(QN).join(" ,")+"}"}(n):"Filter";var e}class PF extends on{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class OF extends on{constructor(e,t){super(e,"in",t),this.keys=JN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kF extends on{constructor(e,t){super(e,"not-in",t),this.keys=JN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class FF extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bv(t)&&Uv(t.arrayValue,this.value)}}class XN extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Uv(this.value.arrayValue,t)}}class LF extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Uv(this.value.arrayValue,t)}}class VF extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Uv(this.value.arrayValue,r))}}class UF{constructor(e,t=null,r=[],i=[],u=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=g,this.dt=null}}function BS(n,e=null,t=[],r=[],i=null,u=null,c=null){return new UF(n,e,t,r,i,u,c)}function ap(n){const e=Xe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>US(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Fv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wm(r)).join(",")),e.dt=t}return e.dt}function jv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qN(n.startAt,e.startAt)&&qN(n.endAt,e.endAt)}function nD(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class vl{constructor(e,t=null,r=[],i=[],u=null,c="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=g,this.endAt=_,this.wt=null,this._t=null}}function Dm(n){return new vl(n)}function rP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $S(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function iD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jS(n){return null!==n.collectionGroup}function up(n){const e=Xe(n);if(null===e.wt){e.wt=[];const t=iD(e),r=$S(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Em(t)),e.wt.push(new Em(kr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Em(kr.keyField(),u))}}}return e.wt}function ds(n){const e=Xe(n);if(!e._t)if("F"===e.limitType)e._t=BS(e.path,e.collectionGroup,up(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of up(e))t.push(new Em(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new uh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new uh(e.startAt.position,e.startAt.inclusive):null;e._t=BS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function HS(n,e){e.getFirstInequalityField(),iD(n);const t=n.filters.concat([e]);return new vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sD(n,e,t){return new vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hv(n,e){return jv(ds(n),ds(e))&&n.limitType===e.limitType}function iP(n){return`${ap(ds(n))}|lt:${n.limitType}`}function zS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>QN(r)).join(", ")}]`),Fv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wm(r)).join(",")),`Target(${t})`}(ds(n))}; limitType=${n.limitType})`}function zv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of up(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const g=GN(i,u,c);return i.inclusive?g<=0:g<0}(t.startAt,up(t),r)||t.endAt&&!function(i,u,c){const g=GN(i,u,c);return i.inclusive?g>=0:g>0}(t.endAt,up(t),r)));var t,r}function oP(n){return(e,t)=>{let r=!1;for(const i of up(n)){const u=BF(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function BF(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(i,u,c){const g=u.data.field(i),_=c.data.field(i);return null!==g&&null!==_?ah(g,_):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class wl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rh(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return kN(this.inner)}size(){return this.innerSize}}const $F=new $n(Qe.comparator);function js(){return $F}const aP=new $n(Qe.comparator);function Gv(...n){let e=aP;for(const t of n)e=e.insert(t.key,t);return e}function uP(n){let e=aP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ec(){return qv()}function cP(){return qv()}function qv(){return new wl(n=>n.toString(),(n,e)=>n.isEqual(e))}const jF=new $n(Qe.comparator),HF=new Jn(Qe.comparator);function Zt(...n){let e=HF;for(const t of n)e=e.add(t);return e}const zF=new Jn(jt);function lP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lv(e)?"-0":e}}function dP(n){return{integerValue:""+n}}function hP(n,e){return function SN(n){return"number"==typeof n&&Number.isInteger(n)&&!Lv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?dP(e):lP(n,e)}class oD{constructor(){this._=void 0}}function GF(n,e,t){return n instanceof Cm?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&QI(i)&&(i=JI(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof cp?pP(n,e):n instanceof lp?gP(n,e):function(r,i){const u=fP(r,i),c=mP(u)+mP(r.gt);return FS(u)&&FS(r.gt)?dP(c):lP(r.serializer,c)}(n,e)}function qF(n,e,t){return n instanceof cp?pP(n,e):n instanceof lp?gP(n,e):t}function fP(n,e){return n instanceof bm?FS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Cm extends oD{}class cp extends oD{constructor(e){super(),this.elements=e}}function pP(n,e){const t=yP(e);for(const r of n.elements)t.some(i=>Xu(i,r))||t.push(r);return{arrayValue:{values:t}}}class lp extends oD{constructor(e){super(),this.elements=e}}function gP(n,e){let t=yP(e);for(const r of n.elements)t=t.filter(i=>!Xu(i,r));return{arrayValue:{values:t}}}class bm extends oD{constructor(e,t){super(),this.serializer=e,this.gt=t}}function mP(n){return Cr(n.integerValue||n.doubleValue)}function yP(n){return Bv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class KF{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function aD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class uD{}function _P(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Sm(n.key,lr.none()):new Tm(n.key,n.data,lr.none());{const t=n.data,r=Fi.empty();let i=new Jn(kr.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new El(n.key,r,new $s(i.toArray()),lr.none())}}function ZF(n,e,t){n instanceof Tm?function(r,i,u){const c=r.value.clone(),g=EP(r.fieldTransforms,i,u.transformResults);c.setAll(g),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof El?function(r,i,u){if(!aD(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=EP(r.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(wP(r)),g.setAll(c),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kv(n,e,t,r){return n instanceof Tm?function(i,u,c,g){if(!aD(i.precondition,u))return c;const _=i.value.clone(),D=IP(i.fieldTransforms,g,u);return _.setAll(D),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof El?function(i,u,c,g){if(!aD(i.precondition,u))return c;const _=IP(i.fieldTransforms,g,u),D=u.data;return D.setAll(wP(i)),D.setAll(_),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,aD(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function YF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=fP(r.transform,i||null);null!=u&&(null===t&&(t=Fi.empty()),t.set(r.field,u))}return t||null}function vP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_m(t,r,(i,u)=>function WF(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cp&&r instanceof cp||t instanceof lp&&r instanceof lp?_m(t.elements,r.elements,Xu):t instanceof bm&&r instanceof bm?Xu(t.gt,r.gt):t instanceof Cm&&r instanceof Cm);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Tm extends uD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class El extends uD{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function EP(n,e,t){const r=new Map;Et(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,g=e.data.field(u.field);r.set(u.field,qF(c,g,t[i]))}return r}function IP(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,GF(u,c,e))}return r}class Sm extends uD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qS extends uD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&ZF(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Kv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cP();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let g=this.applyToLocalView(c,u.mutatedFields);g=t.has(i.key)?null:g;const _=_P(c,g);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&_m(this.mutations,e.mutations,(t,r)=>vP(t,r))&&_m(this.baseMutations,e.baseMutations,(t,r)=>vP(t,r))}}class KS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Et(e.mutations.length===r.length);let i=jF;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new KS(e,t,r,i)}}class ZS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class QF{constructor(e,t,r){this.alias=e,this.yt=t,this.fieldPath=r}}class JF{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zr,dn;function DP(n){switch(n){default:return ot();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function CP(n){if(void 0===n)return Or("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Zr.OK:return ae.OK;case Zr.CANCELLED:return ae.CANCELLED;case Zr.UNKNOWN:return ae.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return ae.INTERNAL;case Zr.UNAVAILABLE:return ae.UNAVAILABLE;case Zr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Zr.NOT_FOUND:return ae.NOT_FOUND;case Zr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Zr.ABORTED:return ae.ABORTED;case Zr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Zr.DATA_LOSS:return ae.DATA_LOSS;default:return ot()}}(dn=Zr||(Zr={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class YS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cD}static getOrCreateInstance(){return null===cD&&(cD=new YS),cD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let cD=null;const XF=new mm([4294967295,4294967295],0);function TP(n){const e=function bP(){return new TextEncoder}().encode(n),t=new Kk;return t.update(e),new Uint8Array(t.digest())}function SP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new mm([t,r],0),new mm([i,u],0)]}class QS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zv(`Invalid padding: ${t}`);if(r<0)throw new Zv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Zv(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Zv(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=mm.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(mm.fromNumber(r)));return 1===i.compare(XF)&&(i=new mm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=TP(e),[r,i]=SP(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new QS(u,i,t);return r.forEach(g=>c.insert(g)),c}insert(e){if(0===this.It)return;const t=TP(e),[r,i]=SP(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Zv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yv{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Qv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Yv(Dt.min(),i,new $n(jt),js(),Zt())}}class Qv{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qv(r,t,Zt(),Zt(),Zt())}}class lD{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class AP{constructor(e,t){this.targetId=e,this.Vt=t}}class MP{constructor(e,t,r=oi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xP{constructor(){this.St=0,this.Dt=NP(),this.Ct=oi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zt(),t=Zt(),r=Zt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new Qv(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=NP()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class eL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=js(),this.zt=RP(),this.Wt=new $n(jt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const c=u.target;if(nD(c))if(0===i){const g=new Qe(c.path);this.Yt(r,g,Xn.newNoDocument(g,Dt.min()))}else Et(1===i);else{const g=this.ie(r);if(g!==i){const _=this.re(e,g);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=YS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,T,x){var L,H,Y,we,_e,Ke;const ut={localCacheCount:T,existenceFilterCount:x.count},tt=x.unchangedNames;return tt&&(ut.bloomFilter={applied:0===D,hashCount:null!==(L=tt?.hashCount)&&void 0!==L?L:0,bitmapLength:null!==(we=null===(Y=null===(H=tt?.bits)||void 0===H?void 0:H.bitmap)||void 0===Y?void 0:Y.length)&&void 0!==we?we:0,padding:null!==(Ke=null===(_e=tt?.bits)||void 0===_e?void 0:_e.padding)&&void 0!==Ke?Ke:0}),ut}(_,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:g=0}=r;let _,D;try{_=_l(u).toUint8Array()}catch(T){if(T instanceof LN)return Wa("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{D=new QS(_,c,g)}catch(T){return Wa(T instanceof Zv?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===D.It?1:i!==t-this.oe(e.targetId,D)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const c=this.Gt.ue(),g=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,c)=>{const g=this.se(c);if(g){if(u.current&&nD(g.target)){const _=new Qe(g.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,Xn.newNoDocument(_,e))}u.Mt&&(t.set(c,u.Ot()),u.Ft())}});let r=Zt();this.zt.forEach((u,c)=>{let g=!0;c.forEachWhile(_=>{const D=this.se(_);return!D||"TargetPurposeLimboResolution"===D.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,c)=>c.setReadTime(e));const i=new Yv(e,t,this.Wt,this.jt,r);return this.jt=js(),this.zt=RP(),this.Wt=new $n(jt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new xP,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Jn(jt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xP),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function RP(){return new $n(Qe.comparator)}function NP(){return new $n(Qe.comparator)}const tL={asc:"ASCENDING",desc:"DESCENDING"},nL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rL={and:"AND",or:"OR"};class iL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function JS(n,e){return n.useProto3Json||Fv(e)?e:{value:e}}function Am(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sL(n,e){return Am(n,e.toTimestamp())}function Fr(n){return Et(!!n),Dt.fromTimestamp(function(e){const t=ih(e);return new mr(t.seconds,t.nanos)}(n))}function XS(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function OP(n){const e=ln.fromString(n);return Et(HP(e)),e}function Jv(n,e){return XS(n.databaseId,e.path)}function tc(n,e){const t=OP(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(FP(t))}function eA(n,e){return XS(n.databaseId,e)}function Xv(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FP(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function LP(n,e,t){return{name:Jv(n,e),fields:t.value.mapValue.fields}}function e0(n,e){let t;if(e instanceof Tm)t={update:LP(n,e.key,e.value)};else if(e instanceof Sm)t={delete:Jv(n,e.key)};else if(e instanceof El)t={update:LP(n,e.key,e.data),updateMask:fL(e.fieldMask)};else{if(!(e instanceof qS))return ot();t={verify:Jv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Cm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof cp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof lp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bm)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:sL(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function UP(n,e){return{documents:[eA(n,e.path)]}}function nA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=eA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=eA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return jP(bn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(_){if(0!==_.length)return _.map(D=>{return{field:ch((T=D).field),direction:lL(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=JS(n,e.limit);var g,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function BP(n){let e=function kP(n){const e=OP(n);return 4===e.length?ln.emptyPath():FP(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Et(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const x=$P(T);return x instanceof bn&&VS(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Em(Mm((x=T).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let g=null;t.limit&&(g=function(T){let x;return x="object"==typeof T?T.value:T,Fv(x)?null:x}(t.limit));let _=null;var T;t.startAt&&(_=new uh((T=t.startAt).values||[],!!T.before));let D=null;return t.endAt&&(D=function(T){return new uh(T.values||[],!T.before)}(t.endAt)),function nP(n,e,t,r,i,u,c,g){return new vl(n,e,t,r,i,u,c,g)}(e,i,c,u,g,"F",_,D)}function $P(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mm(e.unaryFilter.field);return on.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Mm(e.unaryFilter.field);return on.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mm(e.unaryFilter.field);return on.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mm(e.unaryFilter.field);return on.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?on.create(Mm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return bn.create(e.compositeFilter.filters.map(t=>$P(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function lL(n){return tL[n]}function dL(n){return nL[n]}function hL(n){return rL[n]}function ch(n){return{fieldPath:n.canonicalString()}}function Mm(n){return kr.fromServerFormat(n.fieldPath)}function jP(n){return n instanceof on?function(e){if("=="===e.op){if(BN(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NAN"}};if(UN(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(BN(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NOT_NAN"}};if(UN(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(e.field),op:dL(e.op),value:e.value}}}(n):n instanceof bn?function(e){const t=e.getFilters().map(r=>jP(r));return 1===t.length?t[0]:{compositeFilter:{op:hL(e.op),filters:t}}}(n):ot()}function fL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Il{constructor(e,t,r,i,u=Dt.min(),c=Dt.min(),g=oi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zP{constructor(e){this.fe=e}}function rA(n){const e=BP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?sD(e,e.limit,"L"):e}class pp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Cr(e.integerValue));else if("doubleValue"in e){const r=Cr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Lv(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(_l(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?$N(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}pp.Ve=new pp;class IL{constructor(){this.rn=new cA}addToCollectionParentIndex(e,t){return this.rn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(vo.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class cA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jn(ln.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(ln.comparator)).toArray()}}new Uint8Array(0);class Qi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qi(e,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qi.DEFAULT_COLLECTION_PERCENTILE=10,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qi.DEFAULT=new Qi(41943040,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qi.DISABLED=new Qi(-1,0,0);class mp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new mp(0)}static Mn(){return new mp(-1)}}class AL{constructor(){this.changes=new wl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class m1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Kv(r.mutation,i,$s.empty(),mr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const i=ec();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=Gv();return u.forEach((g,_)=>{c=c.insert(g,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ec();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,i){let u=js();const c=qv(),g=qv();return t.forEach((_,D)=>{const T=r.get(D.key);i.has(D.key)&&(void 0===T||T.mutation instanceof El)?u=u.insert(D.key,D):void 0!==T?(c.set(D.key,T.mutation.getFieldMask()),Kv(T.mutation,D,T.mutation.getFieldMask(),mr.now())):c.set(D.key,$s.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((D,T)=>c.set(D,T)),t.forEach((D,T)=>{var x;return g.set(D,new RL(T,null!==(x=c.get(D))&&void 0!==x?x:null))}),g))}recalculateAndSaveOverlays(e,t){const r=qv();let i=new $n((c,g)=>c-g),u=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(_=>{const D=t.get(_);if(null===D)return;let T=r.get(_)||$s.empty();T=g.applyToLocalView(D,T),r.set(_,T);const x=(i.get(g.batchId)||Zt()).add(_);i=i.insert(g.batchId,x)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),D=_.key,T=_.value,x=cP();T.forEach(L=>{if(!u.has(L)){const H=_P(t.get(L),r.get(L));null!==H&&x.set(L,H),u=u.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,D,x))}return ee.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ee.resolve(ec());let g=-1,_=u;return c.next(D=>ee.forEach(D,(T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(L=>{_=_.insert(T,L)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,_,D,Zt())).next(T=>({batchId:g,changes:uP(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let i=Gv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Gv();return this.indexManager.getCollectionParents(e,i).next(c=>ee.forEach(c,g=>{const _=(D=t,T=g.child(i),new vl(T,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(D=>{D.forEach((T,x)=>{u=u.insert(T,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((g,_)=>{const D=_.getKey();null===u.get(D)&&(u=u.insert(D,Xn.newInvalidDocument(D)))});let c=Gv();return u.forEach((g,_)=>{const D=i.get(g);void 0!==D&&Kv(D.mutation,_,$s.empty(),mr.now()),zv(t,_)&&(c=c.insert(g,_))}),c})}}class NL{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ee.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Fr(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:rA(r.bundledQuery),readTime:Fr(r.readTime)}),ee.resolve();var r}}class PL{constructor(){this.overlays=new $n(Qe.comparator),this.ls=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ec();return ee.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=ec(),u=t.length+1,c=new Qe(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const _=g.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new $n((D,T)=>D-T);const c=this.overlays.getIterator();for(;c.hasNext();){const D=c.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let T=u.get(D.largestBatchId);null===T&&(T=ec(),u=u.insert(D.largestBatchId,T)),T.set(D.getKey(),D)}}const g=ec(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,T)=>g.set(D,T)),!(g.size()>=i)););return ee.resolve(g)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new ZS(t,r));let u=this.ls.get(t);void 0===u&&(u=Zt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class lA{constructor(){this.fs=new Jn(Ci.ds),this.ws=new Jn(Ci._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ci(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Qe(new ln([])),r=new Ci(t,e),i=new Ci(t,e+1),u=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),u.push(c.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new ln([])),r=new Ci(t,e),i=new Ci(t,e+1);let u=Zt();return this.ws.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Ci(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||jt(e.As,t.As)}static _s(e,t){return jt(e.As,t.As)||Qe.comparator(e.key,t.key)}}class OL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Jn(Ci.ds)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const c=new WS(u,t,r,i);this.mutationQueue.push(c);for(const g of i)this.Rs=this.Rs.add(new Ci(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),i=new Ci(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],c=>{const g=this.Ps(c.As);u.push(g)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(jt);return t.forEach(i=>{const u=new Ci(i,0),c=new Ci(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],g=>{r=r.add(g.As)})}),ee.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const c=new Ci(new Qe(u),0);let g=new Jn(jt);return this.Rs.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(g=g.add(_.As)),!0)},c),ee.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Et(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,i=>{const u=new Ci(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ci(t,0),i=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ee.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kL{constructor(e){this.Ds=e,this.docs=new $n(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=js();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Xn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=js();const c=t.path,g=new Qe(c.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:D,value:{document:T}}=_.getNext();if(!c.isPrefixOf(D.path))break;D.path.length>c.length+1||RS(CN(T),r)<=0||(i.has(T.key)||zv(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,i){ot()}Cs(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FL(this)}getSize(e){return ee.resolve(this.size)}}class FL extends AL{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class LL{constructor(e){this.persistence=e,this.xs=new wl(t=>ap(t),jv),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new lA,this.targetCount=0,this.Ms=mp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ee.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new mp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Fn(t),ee.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),ee.waitFor(u).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ks.containsKey(t))}}class dA{constructor(e,t){this.$s={},this.overlays={},this.Os=new wo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new LL(this),this.indexManager=new IL,this.remoteDocumentCache=new kL(r=>this.referenceDelegate.Ls(r)),this.serializer=new zP(t),this.qs=new NL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new OL(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new VL(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return ee.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class VL extends sF{constructor(e){super(),this.currentSequenceNumber=e}}class vD{constructor(e){this.persistence=e,this.Qs=new lA,this.js=null}static zs(e){return new vD(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ws,r=>{const i=Qe.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,Dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ee.or([()=>ee.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class gA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Zt(),i=Zt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new gA(e,t.fromCache,r,i)}}class _1{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(rP(t))return ee.resolve(null);let r=ds(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=sD(t,null,"F"),r=ds(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Zt(...u);return this.Ui.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const D=this.ji(t,g);return this.zi(t,D,c,_.readTime)?this.Ki(e,sD(t,null,"F")):this.Wi(e,D,t,_)}))})))}Gi(e,t,r,i){return rP(t)||i.isEqual(Dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const c=this.ji(t,u);return this.zi(t,c,r,i)?this.Qi(e,t):(AS()<=$a.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zS(t)),this.Wi(e,c,t,function DN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new mr(t+1,0):new mr(t,r));return new vo(i,Qe.empty(),e)}(i,-1)))})}ji(e,t){let r=new Jn(oP(e));return t.forEach((i,u)=>{zv(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return AS()<=$a.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",zS(t)),this.Ui.getDocumentsMatchingQuery(e,t,vo.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class BL{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new $n(jt),this.Yi=new wl(u=>ap(u),jv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function w1(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,Fe.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],g=[];let _=Zt();for(const D of i){c.push(D.batchId);for(const T of D.mutations)_=_.add(T.key)}for(const D of u){g.push(D.batchId);for(const T of D.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(D=>({er:D,removedBatchIds:c,addedBatchIds:g}))})})}),mA.apply(this,arguments)}function E1(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function HL(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pm(n,e,t){return yA.apply(this,arguments)}function yA(){return yA=(0,Fe.Z)(function*(n,e,t){const r=Xe(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!nh(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),yA.apply(this,arguments)}function ID(n,e,t){const r=Xe(n);let i=Dt.min(),u=Zt();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,_,D){const T=Xe(g),x=T.Yi.get(D);return void 0!==x?ee.resolve(T.Ji.get(x)):T.Bs.getTargetData(_,D)}(r,c,ds(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,g.targetId).next(_=>{u=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Dt.min(),t?u:Zt())).next(g=>(function b1(n,e,t){let r=n.Xi.get(e)||Dt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function sP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ir:u})))}class IA{constructor(){this.activeTargetIds=function GS(){return zF}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A1{constructor(){this.Hr=new IA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new IA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qL{Yr(e){}shutdown(){}}class M1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bD=null;function CA(){return null===bD?bD=268435456+Math.round(2147483648*Math.random()):bD++,"0x"+bD.toString(16)}const WL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KL{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ji="WebChannelConnection";class ZL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const c=CA(),g=this.To(e,t);Le("RestConnection",`Sending RPC '${e}' ${c}:`,g,r);const _={};return this.Eo(_,i,u),this.Ao(e,g,_,r).then(D=>(Le("RestConnection",`Received RPC '${e}' ${c}: `,D),D),D=>{throw Wa("RestConnection",`RPC '${e}' ${c} failed with error: `,D,"url: ",g,"request:",r),D})}vo(e,t,r,i,u,c){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ym,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${WL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=CA();return new Promise((c,g)=>{const _=new Wk;_.setWithCredentials(!0),_.listenOnce(zk.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case SS.NO_ERROR:const T=_.getResponseJson();Le(Ji,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),c(T);break;case SS.TIMEOUT:Le(Ji,`RPC '${e}' ${u} timed out`),g(new xe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case SS.HTTP_ERROR:const x=_.getStatus();if(Le(Ji,`RPC '${e}' ${u} failed with status:`,x,"response text:",_.getResponseText()),x>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const H=L?.error;if(H&&H.status&&H.message){const Y=function(we){const _e=we.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(_e)>=0?_e:ae.UNKNOWN}(H.status);g(new xe(Y,H.message))}else g(new xe(ae.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new xe(ae.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Le(Ji,`RPC '${e}' ${u} completed.`)}});const D=JSON.stringify(i);Le(Ji,`RPC '${e}' ${u} sending request:`,i),_.send(t,"POST",D,r,15)})}Ro(e,t,r){const i=CA(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=jk(),g=Hk(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(_.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(_.xmlHttpFactory=new qk({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const T=u.join("");Le(Ji,`Creating RPC '${e}' stream ${i}: ${T}`,_);const x=c.createWebChannel(T,_);let L=!1,H=!1;const Y=new KL({ro:_e=>{H?Le(Ji,`Not sending because RPC '${e}' stream ${i} is closed:`,_e):(L||(Le(Ji,`Opening RPC '${e}' stream ${i} transport.`),x.open(),L=!0),Le(Ji,`RPC '${e}' stream ${i} sending:`,_e),x.send(_e))},oo:()=>x.close()}),we=(_e,Ke,ut)=>{_e.listen(Ke,tt=>{try{ut(tt)}catch(pt){setTimeout(()=>{throw pt},0)}})};return we(x,GI.EventType.OPEN,()=>{H||Le(Ji,`RPC '${e}' stream ${i} transport opened.`)}),we(x,GI.EventType.CLOSE,()=>{H||(H=!0,Le(Ji,`RPC '${e}' stream ${i} transport closed`),Y.wo())}),we(x,GI.EventType.ERROR,_e=>{H||(H=!0,Wa(Ji,`RPC '${e}' stream ${i} transport errored:`,_e),Y.wo(new xe(ae.UNAVAILABLE,"The operation could not be completed")))}),we(x,GI.EventType.MESSAGE,_e=>{var Ke;if(!H){const ut=_e.data[0];Et(!!ut);const pt=ut.error||(null===(Ke=ut[0])||void 0===Ke?void 0:Ke.error);if(pt){Le(Ji,`RPC '${e}' stream ${i} received error:`,pt);const Gt=pt.status;let Xt=function(Io){const Zm=Zr[Io];if(void 0!==Zm)return CP(Zm)}(Gt),bi=pt.message;void 0===Xt&&(Xt=ae.INTERNAL,bi="Unknown error status: "+Gt+" with message "+pt.message),H=!0,Y.wo(new xe(Xt,bi)),x.close()}else Le(Ji,`RPC '${e}' stream ${i} received:`,ut),Y._o(ut)}}),we(g,Gk.STAT_EVENT,_e=>{_e.stat===yN.PROXY?Le(Ji,`RPC '${e}' stream ${i} detected buffering proxy`):_e.stat===yN.NOPROXY&&Le(Ji,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Y.fo()},0),Y}}function TD(){return typeof document<"u"?document:null}function l0(n){return new iL(n,!0)}class bA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class R1{constructor(e,t,r,i,u,c,g,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Fe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Fe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Fe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new xe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Fe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YL extends R1{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function aL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),i=e.targetChange.targetIds||[],u=function(_,D){return _.useProto3Json?(Et(void 0===D||"string"==typeof D),oi.fromBase64String(D||"")):(Et(void 0===D||D instanceof Uint8Array),oi.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(_){const D=void 0===_.code?ae.UNKNOWN:CP(_.code);return new xe(D,_.message||"")}(c);t=new MP(r,i,u,g||null)}else if("documentChange"in e){const r=e.documentChange,i=tc(n,r.document.name),u=Fr(r.document.updateTime),c=r.document.createTime?Fr(r.document.createTime):Dt.min(),g=new Fi({mapValue:{fields:r.document.fields}}),_=Xn.newFoundDocument(i,u,c,g);t=new lD(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=tc(n,r.document),u=r.readTime?Fr(r.readTime):Dt.min(),c=Xn.newNoDocument(i,u);t=new lD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=tc(n,r.document);t=new lD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:i=0,unchangedNames:u}=r,c=new JF(i,u);t=new AP(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Dt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Dt.min():u.readTime?Fr(u.readTime):Dt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Xv(this.serializer),t.addTarget=function(i,u){let c;const g=u.target;if(c=nD(g)?{documents:UP(i,g)}:{query:nA(i,g)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=PP(i,u.resumeToken);const _=JS(i,u.expectedCount);null!==_&&(c.expectedCount=_)}else if(u.snapshotVersion.compareTo(Dt.min())>0){c.readTime=Am(i,u.snapshotVersion.toTimestamp());const _=JS(i,u.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function cL(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Xv(this.serializer),t.removeTarget=e,this.Wo(t)}}class QL extends R1{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function uL(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(r,i){let u=Fr(r.updateTime?r.updateTime:i);return u.isEqual(Dt.min())&&(u=Fr(i)),new KF(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.cu(r,t)}return Et(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Xv(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>e0(this.serializer,r))};this.Wo(t)}}class JL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(ae.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.vo(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(ae.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}function TA(){return TA=(0,Fe.Z)(function*(n,e,t){var r;const i=Xe(n),{request:u,du:c}=function(T,x,L){const H=nA(T,x),Y={},we=[];let _e=0;return L.forEach(Ke=>{const ut="aggregate_"+_e++;Y[ut]=Ke.alias,"count"===Ke.yt?we.push({alias:ut,count:{}}):"avg"===Ke.yt?we.push({alias:ut,avg:{field:ch(Ke.fieldPath)}}):"sum"===Ke.yt&&we.push({alias:ut,sum:{field:ch(Ke.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:we,structuredQuery:H.structuredQuery},parent:H.parent},du:Y}}(i.serializer,ds(e),t),g=u.parent;i.connection.po||delete u.parent;const _=(yield i.vo("RunAggregationQuery",g,u,1)).filter(T=>!!T.result);Et(1===_.length);const D=null===(r=_[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(D).reduce((T,x)=>(T[c[x]]=D[x],T),{})}),TA.apply(this,arguments)}class e2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Or(t),this.mu=!1):Le("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class t2{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,Fe.Z)(function*(){var _;fh(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Fe.Z)(function*(D){const T=Xe(D);T.vu.add(4),yield Om(T),T.bu.set("Unknown"),T.vu.delete(4),yield d0(T)}),function(D){return _.apply(this,arguments)})(c))}))}),this.bu=new e2(r,i)}}function d0(n){return SA.apply(this,arguments)}function SA(){return SA=(0,Fe.Z)(function*(n){if(fh(n))for(const e of n.Ru)yield e(!0)}),SA.apply(this,arguments)}function Om(n){return AA.apply(this,arguments)}function AA(){return AA=(0,Fe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),AA.apply(this,arguments)}function SD(n,e){const t=Xe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),RA(t)?xA(t):Fm(t).Ko()&&MA(t,e))}function h0(n,e){const t=Xe(n),r=Fm(t);t.Au.delete(e),r.Ko()&&N1(t,e),0===t.Au.size&&(r.Ko()?r.jo():fh(t)&&t.bu.set("Unknown"))}function MA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fm(n).su(e)}function N1(n,e){n.Vu.qt(e),Fm(n).iu(e)}function xA(n){n.Vu=new eL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Fm(n).start(),n.bu.gu()}function RA(n){return fh(n)&&!Fm(n).Uo()&&n.Au.size>0}function fh(n){return 0===Xe(n).vu.size}function P1(n){n.Vu=void 0}function n2(n){return NA.apply(this,arguments)}function NA(){return NA=(0,Fe.Z)(function*(n){n.Au.forEach((e,t)=>{MA(n,e)})}),NA.apply(this,arguments)}function r2(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,Fe.Z)(function*(n,e){P1(n),RA(n)?(n.bu.Iu(e),xA(n)):n.bu.set("Unknown")}),PA.apply(this,arguments)}function i2(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,Fe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof MP&&2===e.state&&e.cause)try{yield(r=(0,Fe.Z)(function*(i,u){const c=u.cause;for(const g of u.targetIds)i.Au.has(g)&&(yield i.remoteSyncer.rejectListen(g,c),i.Au.delete(g),i.Vu.removeTarget(g))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield AD(n,r)}else if(e instanceof lD?n.Vu.Ht(e):e instanceof AP?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Dt.min()))try{const r=yield E1(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.Vu.ce(u);return c.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const D=i.Au.get(_);D&&i.Au.set(_,D.withResumeToken(g.resumeToken,u))}}),c.targetMismatches.forEach((g,_)=>{const D=i.Au.get(g);if(!D)return;i.Au.set(g,D.withResumeToken(oi.EMPTY_BYTE_STRING,D.snapshotVersion)),N1(i,g);const T=new Il(D.target,g,_,D.sequenceNumber);MA(i,T)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield AD(n,r)}var r}),OA.apply(this,arguments)}function AD(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,Fe.Z)(function*(n,e,t){if(!nh(e))throw e;n.vu.add(1),yield Om(n),n.bu.set("Offline"),t||(t=()=>E1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Fe.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield d0(n)}))}),kA.apply(this,arguments)}function O1(n,e){return e().catch(t=>AD(n,t,e))}function km(n){return FA.apply(this,arguments)}function FA(){return FA=(0,Fe.Z)(function*(n){const e=Xe(n),t=ph(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;s2(e);)try{const i=yield HL(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,o2(e,i)}catch(i){yield AD(e,i)}k1(e)&&F1(e)}),FA.apply(this,arguments)}function s2(n){return fh(n)&&n.Eu.length<10}function o2(n,e){n.Eu.push(e);const t=ph(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function k1(n){return fh(n)&&!ph(n).Uo()&&n.Eu.length>0}function F1(n){ph(n).start()}function a2(n){return LA.apply(this,arguments)}function LA(){return LA=(0,Fe.Z)(function*(n){ph(n).hu()}),LA.apply(this,arguments)}function u2(n){return VA.apply(this,arguments)}function VA(){return VA=(0,Fe.Z)(function*(n){const e=ph(n);for(const t of n.Eu)e.uu(t.mutations)}),VA.apply(this,arguments)}function c2(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,Fe.Z)(function*(n,e,t){const r=n.Eu.shift(),i=KS.from(r,e,t);yield O1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield km(n)}),UA.apply(this,arguments)}function l2(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,Fe.Z)(function*(n,e){var t;e&&ph(n).ou&&(yield(t=(0,Fe.Z)(function*(r,i){if(DP(u=i.code)&&u!==ae.ABORTED){const c=r.Eu.shift();ph(r).Qo(),yield O1(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield km(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),k1(n)&&F1(n)}),BA.apply(this,arguments)}function L1(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Fe.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=fh(t);t.vu.add(3),yield Om(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield d0(t)}),$A.apply(this,arguments)}function HA(){return HA=(0,Fe.Z)(function*(n,e){const t=Xe(n);e?(t.vu.delete(2),yield d0(t)):e||(t.vu.add(2),yield Om(t),t.bu.set("Unknown"))}),HA.apply(this,arguments)}function Fm(n){return n.Su||(n.Su=function(e,t,r){const i=Xe(e);return i.fu(),new YL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:n2.bind(null,n),ao:r2.bind(null,n),nu:i2.bind(null,n)}),n.Ru.push(function(){var e=(0,Fe.Z)(function*(t){t?(n.Su.Qo(),RA(n)?xA(n):n.bu.set("Unknown")):(yield n.Su.stop(),P1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ph(n){return n.Du||(n.Du=function(e,t,r){const i=Xe(e);return i.fu(),new QL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:a2.bind(null,n),ao:l2.bind(null,n),au:u2.bind(null,n),cu:c2.bind(null,n)}),n.Ru.push(function(){var e=(0,Fe.Z)(function*(t){t?(n.Du.Qo(),yield km(n)):(yield n.Du.stop(),n.Eu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class zA{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,g=new zA(e,t,c,i,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(n,e){if(Or("AsyncQueue",`${e}: ${n}`),nh(n))return new xe(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Vm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=Gv(),this.sortedSet=new $n(this.comparator)}static emptySet(e){return new Vm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Vm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class V1{constructor(){this.Cu=new $n(Qe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Um{constructor(e,t,r,i,u,c,g,_,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new Um(e,t,Vm.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class d2{constructor(){this.Nu=void 0,this.listeners=[]}}class h2{constructor(){this.queries=new wl(e=>iP(e),Hv),this.onlineState="Unknown",this.ku=new Set}}function GA(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,Fe.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new d2),i)try{u.Nu=yield t.onListen(r)}catch(c){const g=Lm(c,`Initialization of query '${zS(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&ZA(t)}),qA.apply(this,arguments)}function WA(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,Fe.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),KA.apply(this,arguments)}function f2(n,e){const t=Xe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const g of c.listeners)g.$u(i)&&(r=!0);c.Nu=i}}r&&ZA(t)}function p2(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function ZA(n){n.ku.forEach(e=>{e.next()})}class YA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Um(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Um.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class $1{constructor(e){this.key=e}}class j1{constructor(e){this.key=e}}class H1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zt(),this.mutatedKeys=Zt(),this.tc=oP(e),this.ec=new Vm(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new V1,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,D="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,x)=>{const L=i.get(T),H=zv(this.query,x)?x:null,Y=!!L&&this.mutatedKeys.has(L.key),we=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let _e=!1;L&&H?L.data.isEqual(H.data)?Y!==we&&(r.track({type:3,doc:H}),_e=!0):this.rc(L,H)||(r.track({type:2,doc:H}),_e=!0,(_&&this.tc(H,_)>0||D&&this.tc(H,D)<0)&&(g=!0)):!L&&H?(r.track({type:0,doc:H}),_e=!0):L&&!H&&(r.track({type:1,doc:L}),_e=!0,(_||D)&&(g=!0)),_e&&(H?(c=c.add(H),u=we?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{ec:c,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((D,T)=>function(x,L){const H=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return H(x)-H(L)}(D.type,T.type)||this.tc(D.doc,T.doc)),this.oc(r);const c=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,_=g!==this.Xu;return this.Xu=g,0!==u.length||_?{snapshot:new Um(this.query,e.ec,i,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new V1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new j1(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new $1(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Zt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Um.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class y2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _2{constructor(e){this.key=e,this.fc=!1}}class v2{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new wl(g=>iP(g),Hv),this._c=new Map,this.mc=new Set,this.gc=new $n(Qe.comparator),this.yc=new Map,this.Ic=new lA,this.Tc={},this.Ec=new Map,this.Ac=mp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function w2(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,Fe.Z)(function*(n,e){const t=function wM(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D2.bind(null,e),e.dc.nu=f2.bind(null,e.eventManager),e.dc.Pc=p2.bind(null,e.eventManager),e}(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const c=yield function Nm(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,ee.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Il(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,ds(e)),g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield function JA(n,e,t,r,i){return XA.apply(this,arguments)}(t,e,r,"current"===g,c.resumeToken),t.isPrimaryClient&&SD(t.remoteStore,c)}return i}),QA.apply(this,arguments)}function XA(){return XA=(0,Fe.Z)(function*(n,e,t,r,i){n.Rc=(x,L,H)=>{return(Y=(0,Fe.Z)(function*(we,_e,Ke,ut){let tt=_e.view.sc(Ke);tt.zi&&(tt=yield ID(we.localStore,_e.query,!1).then(({documents:Xt})=>_e.view.sc(Xt,tt)));const pt=ut&&ut.targetChanges.get(_e.targetId),Gt=_e.view.applyChanges(tt,we.isPrimaryClient,pt);return cM(we,_e.targetId,Gt.cc),Gt.snapshot}),function(we,_e,Ke,ut){return Y.apply(this,arguments)})(n,x,L,H);var Y};const u=yield ID(n.localStore,e,!0),c=new H1(e,u.ir),g=c.sc(u.documents),_=Qv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),D=c.applyChanges(g,n.isPrimaryClient,_);cM(n,t,D.cc);const T=new y2(e,t,c);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),XA.apply(this,arguments)}function E2(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,Fe.Z)(function*(n,e){const t=Xe(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!Hv(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),h0(t.remoteStore,r.targetId),Bm(t,r.targetId)}).catch(th))):(Bm(t,r.targetId),yield Pm(t.localStore,r.targetId,!0))}),eM.apply(this,arguments)}function tM(){return tM=(0,Fe.Z)(function*(n,e,t){const r=function EM(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b2.bind(null,e),e}(n);try{const i=yield function(u,c){const g=Xe(u),_=mr.now(),D=c.reduce((L,H)=>L.add(H.key),Zt());let T,x;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let H=js(),Y=Zt();return g.Zi.getEntries(L,D).next(we=>{H=we,H.forEach((_e,Ke)=>{Ke.isValidDocument()||(Y=Y.add(_e))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,H)).next(we=>{T=we;const _e=[];for(const Ke of c){const ut=YF(Ke,T.get(Ke.key).overlayedDocument);null!=ut&&_e.push(new El(Ke.key,ut,zN(ut.value.mapValue),lr.exists(!0)))}return g.mutationQueue.addMutationBatch(L,_,_e,c)}).next(we=>{x=we;const _e=we.applyToLocalDocumentSet(T,Y);return g.documentOverlayCache.saveOverlays(L,we.batchId,_e)})}).then(()=>({batchId:x.batchId,changes:uP(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,g){let _=u.Tc[u.currentUser.toKey()];_||(_=new $n(jt)),_=_.insert(c,g),u.Tc[u.currentUser.toKey()]=_}(r,i.batchId,t),yield Dl(r,i.changes),yield km(r.remoteStore)}catch(i){const u=Lm(i,"Failed to persist write");t.reject(u)}}),tM.apply(this,arguments)}function z1(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,Fe.Z)(function*(n,e){const t=Xe(n);try{const r=yield function jL(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const g=[];e.targetChanges.forEach((T,x)=>{const L=i.get(x);if(!L)return;g.push(t.Bs.removeMatchingKeys(u,T.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(u,T.addedDocuments,x)));let H=L.withSequenceNumber(u.currentSequenceNumber);var Y,we,_e;null!==e.targetMismatches.get(x)?H=H.withResumeToken(oi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,r)),i=i.insert(x,H),we=H,_e=T,(0===(Y=L).resumeToken.approximateByteSize()||we.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,H))});let _=js(),D=Zt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(function I1(n,e,t){let r=Zt(),i=Zt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=js();return t.forEach((g,_)=>{const D=u.get(g);_.isFoundDocument()!==D.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(e.removeEntry(g,_.readTime),c=c.insert(g,_)):!D.isValidDocument()||_.version.compareTo(D.version)>0||0===_.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(_),c=c.insert(g,_)):Le("LocalStore","Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",_.version)}),{nr:c,sr:i}})}(u,c,e.documentUpdates).next(T=>{_=T.nr,D=T.sr})),!r.isEqual(Dt.min())){const T=t.Bs.getLastRemoteSnapshotVersion(u).next(x=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(T)}return ee.waitFor(g).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,D)).next(()=>_)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.yc.get(u);c&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?Et(c.fc):i.removedDocuments.size>0&&(Et(c.fc),c.fc=!1))}),yield Dl(t,r,e)}catch(r){yield th(r)}}),nM.apply(this,arguments)}function G1(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,c)=>{const g=c.view.Mu(e);g.snapshot&&i.push(g.snapshot)}),function(u,c){const g=Xe(u);g.onlineState=c;let _=!1;g.queries.forEach((D,T)=>{for(const x of T.listeners)x.Mu(c)&&(_=!0)}),_&&ZA(g)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function D2(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=(0,Fe.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let c=new $n(Qe.comparator);c=c.insert(u,Xn.newNoDocument(u,Dt.min()));const g=Zt().add(u),_=new Yv(Dt.min(),new Map,new $n(jt),c,g);yield z1(r,_),r.gc=r.gc.remove(u),r.yc.delete(e),lM(r)}else yield Pm(r.localStore,e,!1).then(()=>Bm(r,e,t)).catch(th)}),rM.apply(this,arguments)}function C2(n,e){return iM.apply(this,arguments)}function iM(){return iM=(0,Fe.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=yield function $L(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,g,_,D){const T=_.batch,x=T.keys();let L=ee.resolve();return x.forEach(H=>{L=L.next(()=>D.getEntry(g,H)).next(Y=>{const we=_.docVersions.get(H);Et(null!==we),Y.version.compareTo(we)<0&&(T.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),D.addEntry(Y)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(g,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=Zt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(g=g.add(c.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);uM(t,r,null),aM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Dl(t,i)}catch(i){yield th(i)}}),iM.apply(this,arguments)}function b2(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=(0,Fe.Z)(function*(n,e,t){const r=Xe(n);try{const i=yield function(u,c){const g=Xe(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return g.mutationQueue.lookupMutationBatch(_,c).next(T=>(Et(null!==T),D=T.keys(),g.mutationQueue.removeMutationBatch(_,T))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,D,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,D)).next(()=>g.localDocuments.getDocuments(_,D))})}(r.localStore,e);uM(r,e,t),aM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Dl(r,i)}catch(i){yield th(i)}}),sM.apply(this,arguments)}function aM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function uM(n,e,t){const r=Xe(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Bm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||q1(n,r)})}function q1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(h0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),lM(n))}function cM(n,e,t){for(const r of t)r instanceof $1?(n.Ic.addReference(r.key,e),S2(n,r)):r instanceof j1?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||q1(n,r.key)):ot()}function S2(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.mc.add(r),lM(n))}function lM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(ln.fromString(e)),r=n.Ac.next();n.yc.set(r,new _2(t)),n.gc=n.gc.insert(t,r),SD(n.remoteStore,new Il(ds(Dm(t.path)),r,"TargetPurposeLimboResolution",wo.ct))}}function Dl(n,e,t){return dM.apply(this,arguments)}function dM(){return dM=(0,Fe.Z)(function*(n,e,t){const r=Xe(n),i=[],u=[],c=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,_)=>{c.push(r.Rc(_,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D?.fromCache?"not-current":"current"),D){i.push(D);const T=gA.Li(_.targetId,D);u.push(T)}}))}),yield Promise.all(c),r.dc.nu(i),yield(g=(0,Fe.Z)(function*(_,D){const T=Xe(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ee.forEach(D,L=>ee.forEach(L.Fi,H=>T.persistence.referenceDelegate.addReference(x,L.targetId,H)).next(()=>ee.forEach(L.Bi,H=>T.persistence.referenceDelegate.removeReference(x,L.targetId,H)))))}catch(x){if(!nh(x))throw x;Le("LocalStore","Failed to update sequence numbers: "+x)}for(const x of D){const L=x.targetId;if(!x.fromCache){const H=T.Ji.get(L),we=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);T.Ji=T.Ji.insert(L,we)}}}),function(_,D){return g.apply(this,arguments)})(r.localStore,u))}),dM.apply(this,arguments)}function A2(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,Fe.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield w1(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(g=>{g.reject(new xe(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Dl(t,r.er)}var i}),hM.apply(this,arguments)}function M2(n,e){const t=Xe(n),r=t.yc.get(e);if(r&&r.fc)return Zt().add(r.key);{let i=Zt();const u=t._c.get(e);if(!u)return i;for(const c of u){const g=t.wc.get(c);i=i.unionWith(g.view.nc)}return i}}class MD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Fe.Z)(function*(){t.serializer=l0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function v1(n,e,t,r){return new BL(n,e,t,r)}(this.persistence,new _1,e.initialUser,this.serializer)}createPersistence(e){return new dA(vD.zs,this.serializer)}createSharedClientState(e){return new A1}terminate(){var e=this;return(0,Fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $m{initialize(e,t){var r=this;return(0,Fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>G1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=A2.bind(null,r.syncEngine),yield function jA(n,e){return HA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new h2}createDatastore(e){const t=l0(e.databaseInfo.databaseId),r=new ZL(e.databaseInfo);return new JL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=g=>G1(this.syncEngine,g,0),c=M1.D()?new M1:new qL,new t2(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,g,_,D){const T=new v2(r,i,u,c,g,_);return D&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Fe.Z)(function*(t){const r=Xe(t);Le("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Om(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class xD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class B2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Fe.Z)(function*(u,c){const g=Xe(u),_=Xv(g.serializer)+"/documents",D={documents:c.map(H=>Jv(g.serializer,H))},T=yield g.vo("BatchGetDocuments",_,D,c.length),x=new Map;T.forEach(H=>{const Y=function oL(n,e){return"found"in e?function(t,r){Et(!!r.found);const i=tc(t,r.found.name),u=Fr(r.found.updateTime),c=r.found.createTime?Fr(r.found.createTime):Dt.min(),g=new Fi({mapValue:{fields:r.found.fields}});return Xn.newFoundDocument(i,u,c,g)}(n,e):"missing"in e?function(t,r){Et(!!r.missing),Et(!!r.readTime);const i=tc(t,r.missing),u=Fr(r.readTime);return Xn.newNoDocument(i,u)}(n,e):ot()}(g.serializer,H);x.set(Y.key.toString(),Y)});const L=[];return c.forEach(H=>{const Y=x.get(H.toString());Et(!!Y),L.push(Y)}),L}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Qe.fromPath(i);e.mutations.push(new qS(u,e.precondition(u)))}),yield(r=(0,Fe.Z)(function*(i,u){const c=Xe(i),g=Xv(c.serializer)+"/documents",_={writes:u.map(D=>e0(c.serializer,D))};yield c.Io("Commit",g,_)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?lr.exists(!1):lr.updateTime(t):lr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new xe(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lr.updateTime(t)}return lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $2{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new bA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Fe.Z)(function*(){const t=new B2(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Uc(u)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Fv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!DP(t)}return!1}}class j2{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ii.UNAUTHENTICATED,this.clientId=EN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Fe.Z)(function*(g){Le("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Lm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function RD(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,Fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Fe.Z)(function*(u){r.isEqual(u)||(yield w1(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),IM.apply(this,arguments)}function DM(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,Fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function bM(n){return TM.apply(this,arguments)}(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>L1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>L1(e.remoteStore,u)),n._onlineComponents=e}),CM.apply(this,arguments)}function TM(){return TM=(0,Fe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield RD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function J1(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Wa("Error using user provided cache. Falling back to memory cache: "+t),yield RD(n,new MD)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield RD(n,new MD);return n._offlineComponents}),TM.apply(this,arguments)}function ND(n){return SM.apply(this,arguments)}function SM(){return SM=(0,Fe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield DM(n,n._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield DM(n,new $m))),n._onlineComponents}),SM.apply(this,arguments)}function tO(n){return ND(n).then(e=>e.datastore)}function jm(n){return MM.apply(this,arguments)}function MM(){return MM=(0,Fe.Z)(function*(n){const e=yield ND(n),t=e.eventManager;return t.onListen=w2.bind(null,e.syncEngine),t.onUnlisten=E2.bind(null,e.syncEngine),t}),MM.apply(this,arguments)}function iO(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const sO=new Map;function xM(n,e,t){if(!t)throw new xe(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oO(n){if(!Qe.isDocumentKey(n))throw new xe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aO(n){if(Qe.isDocumentKey(n))throw new xe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OD(n);throw new xe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class cO{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Q2(n,e,t,r){if(!0===e&&!0===r)throw new xe(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Zk;switch(t.type){case"firstParty":return new Xk(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sO.get(e);t&&(Le("ComponentProvider","Removing Datastore"),sO.delete(e),t.terminate())}(this),Promise.resolve()}}class Lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lr(this.firestore,e,this._key)}}class Li{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class nc extends Li{constructor(e,t,r){super(e,t,Dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lr(this.firestore,null,new Qe(e))}withConverter(e){return new nc(this.firestore,e,this._path)}}function lO(n,e,...t){if(n=(0,zt.m9)(n),xM("collection","path",e),n instanceof f0){const r=ln.fromString(e,...t);return aO(r),new nc(n,null,r)}{if(!(n instanceof Lr||n instanceof nc))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return aO(r),new nc(n.firestore,null,r)}}function dO(n,e,...t){if(n=(0,zt.m9)(n),1===arguments.length&&(e=EN.A()),xM("doc","path",e),n instanceof f0){const r=ln.fromString(e,...t);return oO(r),new Lr(n,null,new Qe(r))}{if(!(n instanceof Lr||n instanceof nc))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return oO(r),new Lr(n.firestore,n instanceof nc?n.converter:null,new Qe(r))}}class X2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bA(this,"async_queue_retry"),this.Xc=()=>{const t=TD();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=TD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=TD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new si;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Fe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!nh(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=zA.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,Fe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function RM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class er extends f0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new X2,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fO(this),this._firestoreClient.terminate()}}function kD(n,e){const t="object"==typeof n?n:(0,Rr.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Rr._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,zt.P0)("firestore");u&&function J2(n,e,t,r={}){var i;const u=(n=cn(n,f0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Wa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,g;if("string"==typeof r.mockUserToken)c=r.mockUserToken,g=Ii.MOCK_USER;else{c=(0,zt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new xe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ii(_)}n._authCredentials=new Yk(new vN(c,g))}}(i,...u)}return i}function Yr(n){return n._firestoreClient||fO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fO(n){var e,t,r;const i=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new MF(n._databaseId,g,n._persistenceKey,(D=i).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,iO(D.experimentalLongPollingOptions),D.useFetchStreams));var g,D;n._firestoreClient=new j2(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class p0{constructor(e="count",t){this._aggregateType=e,this._internalFieldPath=t,this.type="AggregateField"}}class tV{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class _p{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _p(oi.fromBase64String(e))}catch(t){throw new xe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _p(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class NM{constructor(e){this._methodName=e}}class PM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const nV=/^__.*__$/;class rV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new El(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tm(e,this.data,t,this.fieldTransforms)}}class mO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new El(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class FD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new FD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return UD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(yO(this.ca)&&nV.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class iV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||l0(e)}ya(e,t,r,i=!1){return new FD({ca:e,methodName:t,ga:r,path:kr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(n){const e=n._freezeSettings(),t=l0(n._databaseId);return new iV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LD(n,e,t,r,i,u={}){const c=n.ya(u.merge||u.mergeFields?2:0,e,t,i);LM("Data must be an object, but it was:",c,r);const g=wO(r,c);let _,D;if(u.merge)_=new $s(c.fieldMask),D=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const x of u.mergeFields){const L=m0(e,x,t);if(!c.contains(L))throw new xe(ae.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);IO(T,L)||T.push(L)}_=new $s(T),D=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,D=c.fieldTransforms;return new rV(new Fi(g),_,D)}class g0 extends NM{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g0}}function kM(n,e,t,r){const i=n.ya(1,e,t);LM("Data must be an object, but it was:",i,r);const u=[],c=Fi.empty();rh(r,(_,D)=>{const T=VD(e,_,t);D=(0,zt.m9)(D);const x=i.da(T);if(D instanceof g0)u.push(T);else{const L=Ep(D,x);null!=L&&(u.push(T),c.set(T,L))}});const g=new $s(u);return new mO(c,g,i.fieldTransforms)}function FM(n,e,t,r,i,u){const c=n.ya(1,e,t),g=[m0(e,r,t)],_=[i];if(u.length%2!=0)throw new xe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)g.push(m0(e,u[L])),_.push(u[L+1]);const D=[],T=Fi.empty();for(let L=g.length-1;L>=0;--L)if(!IO(D,g[L])){const H=g[L];let Y=_[L];Y=(0,zt.m9)(Y);const we=c.da(H);if(Y instanceof g0)D.push(H);else{const _e=Ep(Y,we);null!=_e&&(D.push(H),T.set(H,_e))}}const x=new $s(D);return new mO(T,x,c.fieldTransforms)}function vO(n,e,t,r=!1){return Ep(t,n.ya(r?4:3,e))}function Ep(n,e){if(EO(n=(0,zt.m9)(n)))return LM("Unsupported field value:",e,n),wO(n,e);if(n instanceof NM)return function(t,r){if(!yO(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let g=Ep(c,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hP(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=mr.fromDate(t);return{timestampValue:Am(r.serializer,i)}}if(t instanceof mr){const i=new mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Am(r.serializer,i)}}if(t instanceof PM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _p)return{bytesValue:PP(r.serializer,t._byteString)};if(t instanceof Lr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:XS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${OD(t)}`)}(n,e)}function wO(n,e){const t={};return kN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rh(n,(r,i)=>{const u=Ep(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function EO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mr||n instanceof PM||n instanceof _p||n instanceof Lr||n instanceof NM)}function LM(n,e,t){if(!EO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function m0(n,e,t){if((e=(0,zt.m9)(e))instanceof vp)return e._internalPath;if("string"==typeof e)return VD(n,e);throw UD("Field path arguments must be of type string or ",n,!1,void 0,t)}const uV=new RegExp("[~\\*/\\[\\]]");function VD(n,e,t){if(e.search(uV)>=0)throw UD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vp(...e.split("."))._internalPath}catch{throw UD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function UD(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||c)&&(_+=" (found",u&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new xe(ae.INVALID_ARGUMENT,g+n+_)}function IO(n,e){return n.some(t=>t.isEqual(e))}class y0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cV extends y0{data(){return super.data()}}function BD(n,e){return"string"==typeof e?VD(n,e):e instanceof vp?e._internalPath:e._delegate._internalPath}function DO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VM{}class $D extends VM{}function jD(n,e,...t){let r=[];e instanceof VM&&r.push(e),r=r.concat(t),function(i){const u=i.filter(g=>g instanceof Hm).length,c=i.filter(g=>g instanceof _0).length;if(u>1||u>0&&c>0)throw new xe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class _0 extends $D{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _0(e,t,r)}_apply(e){const t=this._parse(e);return SO(e._query,t),new Li(e.firestore,e.converter,HS(e._query,t))}_parse(e){const t=wp(e.firestore);return function(i,u,c,g,_,D,T){let x;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new xe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){TO(T,D);const L=[];for(const H of T)L.push(bO(g,i,H));x={arrayValue:{values:L}}}else x=bO(g,i,T)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||TO(T,D),x=vO(c,"where",T,"in"===D||"not-in"===D);return on.create(_,D,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function UM(n,e,t){const r=e,i=BD("where",n);return _0._create(i,r,t)}class Hm extends VM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const c=i.getFlattenedFilters();for(const g of c)SO(u,g),u=HS(u,g)}(e._query,t),new Li(e.firestore,e.converter,HS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BM extends $D{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new BM(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new xe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Em(i,u);return function(g,_){if(null===$S(g)){const D=iD(g);null!==D&&AO(0,D,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new vl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class HD extends $D{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new HD(e,t,r)}_apply(e){return new Li(e.firestore,e.converter,sD(e._query,this._limit,this._limitType))}}class zD extends $D{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new zD(e,t,r)}_apply(e){const t=function CO(n,e,t,r){if(t[0]=(0,zt.m9)(t[0]),t[0]instanceof y0)return function(i,u,c,g,_){if(!g)throw new xe(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const D=[];for(const T of up(i))if(T.field.isKeyField())D.push(op(u,g.key));else{const x=g.data.field(T.field);if(QI(x))throw new xe(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=T.field.canonicalString();throw new xe(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}D.push(x)}return new uh(D,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=wp(n.firestore);return function(u,c,g,_,D,T){const x=u.explicitOrderBy;if(D.length>x.length)throw new xe(ae.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let H=0;H<D.length;H++){const Y=D[H];if(x[H].field.isKeyField()){if("string"!=typeof Y)throw new xe(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Y}`);if(!jS(u)&&-1!==Y.indexOf("/"))throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Y}' contains a slash.`);const we=u.path.child(ln.fromString(Y));if(!Qe.isDocumentKey(we))throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${we}' is not because it contains an odd number of segments.`);const _e=new Qe(we);L.push(op(c,_e))}else{const we=vO(g,_,Y);L.push(we)}}return new uh(L,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}(e,this.type,this._docOrFields,this._inclusive);return new Li(e.firestore,e.converter,(i=t,new vl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}function bO(n,e,t){if("string"==typeof(t=(0,zt.m9)(t))){if(""===t)throw new xe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&-1!==t.indexOf("/"))throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!Qe.isDocumentKey(r))throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return op(n,new Qe(r))}if(t instanceof Lr)return op(n,t._key);throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OD(t)}.`)}function TO(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SO(n,e){if(e.isInequality()){const r=iD(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new xe(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=$S(n);null!==u&&AO(0,i,u)}const t=function(r,i){for(const u of r)for(const c of u.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function AO(n,e,t){if(!t.isEqual(e))throw new xe(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class xO{convertValue(e,t="none"){switch(oh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return rh(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new PM(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=JI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vv(e));default:return null}}convertTimestamp(e){const t=ih(e);return new mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);Et(HP(r));const i=new sp(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return i.isEqual(t)||Or(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function qD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class fV extends xO{constructor(e){super(),this.firestore=e}convertBytes(e){return new _p(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lr(this.firestore,null,t)}}class Ip{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zm extends y0{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new WD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class WD extends zm{data(e={}){return super.data(e)}}class Gm{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ip(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new WD(this._firestore,this._userDataWriter,r.key,r,new Ip(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new WD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ip(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const g=new WD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ip(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==c.type&&(_=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),D=u.indexOf(c.doc.key)),{type:gV(c.type),doc:g,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}class gh extends xO{constructor(e){super(),this.firestore=e}convertBytes(e){return new _p(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lr(this.firestore,null,t)}}function $M(n,...e){var t,r,i;n=(0,zt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||RM(e[c])||(u=e[c],c++);const g={includeMetadataChanges:u.includeMetadataChanges};if(RM(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,D,T;if(n instanceof Lr)D=cn(n.firestore,er),T=Dm(n._key.path),_={next:x=>{e[c]&&e[c](function jM(n,e,t){const r=t.docs.get(e._key),i=new gh(n);return new zm(n,i,e._key,r,new Ip(t.hasPendingWrites,t.fromCache),e.converter)}(D,n,x))},error:e[c+1],complete:e[c+2]};else{const x=cn(n,Li);D=cn(x.firestore,er),T=x._query;const L=new gh(D);_={next:H=>{e[c]&&e[c](new Gm(D,L,x,H))},error:e[c+1],complete:e[c+2]},DO(n._query)}return function(x,L,H,Y){const we=new xD(Y),_e=new YA(L,we,H);return x.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return GA(yield jm(x),_e)})),()=>{we.Dc(),x.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return WA(yield jm(x),_e)}))}}(Yr(D),T,g,_)}function v0(n,e){return function(t,r){const i=new si;return t.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function I2(n,e,t){return tM.apply(this,arguments)}(yield function AM(n){return ND(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Yr(n),e)}const MV={maxAttempts:5};function mh(n,e){if((n=(0,zt.m9)(n)).firestore!==e)throw new xe(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class RV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wp(e)}get(e){const t=mh(e,this._firestore),r=new fV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const u=i[0];if(u.isFoundDocument())return new y0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new y0(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=mh(e,this._firestore),u=qD(i.converter,t,r),c=LD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=mh(e,this._firestore);let c;return c="string"==typeof(t=(0,zt.m9)(t))||t instanceof vp?FM(this._dataReader,"Transaction.update",u._key,t,r,i):kM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=mh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mh(e,this._firestore),r=new gh(this._firestore);return super.get(e).then(i=>new zm(this._firestore,r,t._key,i._document,new Ip(!1,!1),t.converter))}}!function(n,e=!0){ym=Rr.SDK_VERSION,(0,Rr._registerComponent)(new ku.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new er(new Qk(t.getProvider("auth-internal")),new eF(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new xe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sp(g.options.projectId,_)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Rr.registerVersion)(_N,"3.12.1",n),(0,Rr.registerVersion)(_N,"3.12.1","esm2017")}();var PV={includeMetadataChanges:!1};function BV(n,e){return void 0===e&&(e={}),function UV(n){return function HM(n,e){return void 0===e&&(e=PV),new or.y(function(t){return{unsubscribe:$M(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,It.U)(function(e){return e.docs}))}(n).pipe((0,It.U)(function(t){return t.map(function(r){return function NO(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class w0{constructor(e){return e}}const FO="firestore",qM=new h.OlP("angularfire2.firestore-instances");function HV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new w0(r)}}const zV={provide:class $V{constructor(){return(0,An.vb)(FO)}},deps:[[new h.FiY,qM]]},GV={provide:w0,useFactory:function jV(n,e){const t=(0,An.JM)(FO,n,e);return t&&new w0(t)},deps:[[new h.FiY,qM],Od]};let qV=(()=>{class n{constructor(){(0,Ou.KN)("angularfire",An.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[GV,zV]}),n})();function WV(n,...e){return{ngModule:qV,providers:[{provide:qM,useFactory:HV(n),multi:!0,deps:[h.R0b,h.zs3,An.HU,Vw,[new h.FiY,J_],[new h.FiY,Cf],...e]}]}}const E0=(0,An.u3)(BV,!0),Za=(0,An.u3)(lO,!0),KD=(0,An.u3)(dO,!0),KV=(0,An.u3)(kD,!0);let I0=(()=>{class n{constructor(t){this.db=t,this.admissionIssue=!1,this.oldDataToUpdate={courseId:"",courseName:"",courseDate:"",courseDescription:""}}ngOnInit(){this.deleteCoursesWithLessons()}getUsersDataByName(t){let r=Za(this.db,t);return E0(r)}observeReturen(){let t=Za(this.db,"courses");return E0(t)}getCourses(){let t=Za(this.db,"courses");return E0(t)}deleteCoursesWithLessons(){var t=this;kD(),Za(this.db,"courses"),function NV(n,e,t){n=cn(n,er);const r=Object.assign(Object.assign({},MV),t);return function(i){if(i.maxAttempts<1)throw new xe(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,c){const g=new si;return i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){const _=yield tO(i);new $2(i.asyncQueue,_,c,u,g).run()})),g.promise}(Yr(n),i=>e(new RV(n,i)),r)}(this.db,function(){var g=(0,Fe.Z)(function*(_){console.log(_);const D=KD(t.db,"courses"),T=_.get(D);console.log(T)});return function(_){return g.apply(this,arguments)}}()).then(g=>{console.log(g)});let c=Za(this.db,"courses","","lessons");return E0(c).pipe((0,Pn.b)(g=>{console.log(g)}))}createCourse(t,r){var i=this;return(0,Fe.Z)(function*(){const u=Za(i.db,"courses");let g=(yield function wV(n){return function EV(n,e){const t=cn(n.firestore,er),r=Yr(t),i=function(u,c){const g=[];for(const _ in u)Object.prototype.hasOwnProperty.call(u,_)&&g.push(c(u[_],_));return g}(e,(u,c)=>new QF(c,u._aggregateType,u._internalFieldPath));return function(u,c,g){const _=new si;return u.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){try{const D=yield tO(u);_.resolve(function XL(n,e,t){return TA.apply(this,arguments)}(D,c,g))}catch(D){_.reject(D)}})),_.promise}(r,n._query,i).then(u=>function(c,g,_){const D=new gh(c);return new tV(g,D,_)}(t,n,u))}(n,{count:new p0("count")})}(u)).data().count+1;const _=KD(Za(i.db,"id")).id;return t.courseId=_,t.id=g,t.coursePath=r,function vV(n,e){const t=cn(n.firestore,er),r=dO(n),i=qD(n.converter,e);return v0(t,[LD(wp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}(Za(i.db,"courses"),t)})()}deleteCourse(t){let r,i=kD();return $M(jD(Za(i,"courses"),UM("courseId","==",t.courseId)),_=>{_.docs.forEach(D=>{r=D.id}),null==r?alert("This document is not exist."):function _V(n){return v0(cn(n.firestore,er),[new Sm(n._key,lr.none())])}(KD(this.db,"courses",r)).then(()=>{console.log("delete is successful."),this.ngOnInit()}).catch(D=>{console.log(D)})})}updateCourse(t,r){let i=r.courseId,u=kD();$M(jD(Za(u,"courses"),UM("courseId","==",i)),_=>{let D="";return _.docs.forEach(x=>{D=x.id}),function yV(n,e,t,...r){n=cn(n,Lr);const i=cn(n.firestore,er),u=wp(i);let c;return c="string"==typeof(e=(0,zt.m9)(e))||e instanceof vp?FM(u,"updateDoc",n._key,e,t,r):kM(u,"updateDoc",n._key,e),v0(i,[c.toMutation(n._key,lr.exists(!0))])}(KD(this.db,"courses",D),t)})}getWithPagination(t){var r=this;return(0,Fe.Z)(function*(){r.getCourses();const i=Za(r.db,"courses");null==t&&(t=0);const u=jD(i,function lV(n,e="asc"){const t=e,r=BD("orderBy",n);return BM._create(r,t)}("id","asc"),function hV(...n){return zD._create("startAfter",n,!1)}(2*t),function dV(n){return function uO(n,e){if(e<=0)throw new xe(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),HD._create("limit",n,"F")}(2));return yield function mV(n){n=cn(n,Li);const e=cn(n.firestore,er),t=Yr(e),r=new gh(e);return DO(n._query),function rO(n,e,t={}){const r=new si;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(i,u,c,g,_){const D=new xD({next:x=>{u.enqueueAndForget(()=>WA(i,T)),x.fromCache&&"server"===g.source?_.reject(new xe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),T=new YA(c,D,{includeMetadataChanges:!0,Ku:!0});return GA(i,T)}(yield jm(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Gm(e,r,n,i))}(u)})()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(w0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",9),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2).$implicit,u=h.oxw();return h.KtG(u.onDelete(i))}),h._uU(1,"Delete"),h.qZA()}}function YV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div"),h.YNc(1,ZV,2,0,"button",7),h.TgZ(2,"button",8),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.onUpdate(i))}),h._uU(3,"Update"),h.qZA()()}if(2&n){const t=e.ngIf;h.xp6(1),h.Q6J("ngIf",t.admin)}}function QV(n,e){if(1&n&&(h.TgZ(0,"li")(1,"div"),h._UZ(2,"img",5),h.qZA(),h._uU(3),h.YNc(4,YV,4,1,"div",6),h.ALo(5,"async"),h.qZA()),2&n){const t=e.$implicit,r=h.oxw();h.xp6(2),h.Q6J("src",t.coursePath,h.LSH),h.xp6(1),h.hij(" ",t.courseName+" -- "+t.courseDescrption+" ---"+t.courseDate," "),h.xp6(1),h.Q6J("ngIf",h.lcZ(5,3,r.user.roles$))}}function JV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li")(1,"button",10),h.NdJ("click",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.countOfList(i))}),h._uU(2),h.qZA()()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t)}}let XV=(()=>{class n{constructor(t,r,i){this.serviceFirebase=t,this.router=r,this.user=i,this.arr=[],this.coursesCount=[],this.permission=!1}ngOnInit(){this.getCoursesToDom(),this.getCoursesWithPage()}getCoursesToDom(){this.serviceFirebase.getCourses().subscribe(r=>{let i=0;i=r.length%2==0?r.length/2:Math.trunc(r.length/2+1),this.coursesCount=[];for(let u=1;u<i+1;u++)this.coursesCount.push(u)},r=>{console.log(r),alert("Not permission to show list!")})}onDelete(t){this.serviceFirebase.deleteCourse(t)}onUpdate(t){this.serviceFirebase.oldDataToUpdate=t,localStorage.setItem("updatedata",JSON.stringify(t)),this.router.navigateByUrl("/update")}getCoursesWithPage(t){this.serviceFirebase.getWithPagination(t).then(i=>{this.arr=[],i.forEach(u=>{this.arr.push(u.data())})})}countOfList(t){this.getCoursesWithPage(t.target.innerText-1)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(I0),h.Y36(gr),h.Y36(Cg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-products"]],decls:9,vars:2,consts:[["id","form"],["routerLink","/inputForm"],["id","productsList"],[4,"ngFor","ngForOf"],["id","lists"],[2,"width","100px",3,"src"],[4,"ngIf"],["style","background-color: rgb(208, 89, 89); color:white;",3,"click",4,"ngIf"],[2,"background-color","green","color","white","margin-left","5px",3,"click"],[2,"background-color","rgb(208, 89, 89)","color","white",3,"click"],[3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"a",1),h._uU(2,"Add Data"),h.qZA(),h.TgZ(3,"div",2)(4,"ul"),h.YNc(5,QV,6,5,"li",3),h.qZA(),h.TgZ(6,"div",4)(7,"ul"),h.YNc(8,JV,3,1,"li",3),h.qZA()()()()),2&t&&(h.xp6(5),h.Q6J("ngForOf",r.arr),h.xp6(3),h.Q6J("ngForOf",r.coursesCount))},dependencies:[Hs,Ui,sf,ts],styles:["#form[_ngcontent-%COMP%]{margin:10px 50px}#form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{list-style-type:none;text-decoration:none}#lists[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;display:flex}#lists[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:3px}#productsList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:20px;list-style-type:none}"]}),n})();function eU(n,e){if(1&n&&(h.TgZ(0,"p"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Oqu(t.course+" - "+t.address+" - "+t.full_name)}}function tU(n,e){if(1&n&&(h.TgZ(0,"p"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Oqu("lesson about angular with "+t.lesson)}}const nU=function(){return{background:"gray"}},rU=function(){return{background:"green"}};let iU=(()=>{class n{constructor(t,r){this.fs=t,this.fService=r,this.userDatabase=[],this.lessonsArr=[],this.arr=[]}ngOnInit(){}onSubmitForm(t){console.log(t.value),t.reset()}onGetData(t){this.fService.getUsersDataByName(t).subscribe(r=>{console.log(r)})}onGetAngularLessons(){let r=jD(lO(this.fs,"users/8D8jqYzGkqqJ3Asi2WVq/lessons"),UM("lesson","==","routes"));return E0(r).subscribe(i=>{this.lessonsArr=[],this.arr=[],i.forEach(u=>{this.lessonsArr.push(u)}),console.log(i)})}onObserve(){const t=new or.y(r=>{r.next(()=>{console.log("start ..."),this.fService.observeReturen()})}).subscribe(r=>{console.log(r),this.fService.observeReturen()});console.log(t)}onLocalData(){}onAddData(){}onDeleteData(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(w0),h.Y36(I0))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-main"]],decls:31,vars:6,consts:[[3,"ngSubmit"],["f","ngForm"],["for","username"],["name","username","type","text","ngModel","","required",""],["for","password"],["name","password","type","text","ngModel","","required",""],["type","submit",2,"background-color","green","color","whitesmoke",3,"disabled","ngStyle"],[2,"background-color","brown","color","whitesmoke"],["type","text"],["inputData",""],[3,"click"],[4,"ngFor","ngForOf"]],template:function(t,r){if(1&t){const i=h.EpF();h.TgZ(0,"div")(1,"p"),h._uU(2,"data information"),h.qZA(),h.TgZ(3,"form",0,1),h.NdJ("ngSubmit",function(){h.CHM(i);const c=h.MAs(4);return h.KtG(r.onSubmitForm(c))}),h.TgZ(5,"label",2),h._uU(6,"User Name"),h.qZA(),h._UZ(7,"br")(8,"input",3)(9,"br"),h.TgZ(10,"label",4),h._uU(11,"Password"),h.qZA(),h._UZ(12,"br")(13,"input",5)(14,"br")(15,"hr"),h.TgZ(16,"button",6),h._uU(17," Adding user"),h.qZA(),h.TgZ(18,"button",7),h._uU(19,"Cancel"),h.qZA()(),h._UZ(20,"input",8,9),h.TgZ(22,"button",10),h.NdJ("click",function(){h.CHM(i);const c=h.MAs(21);return h.KtG(r.onGetData(c.value))}),h._uU(23,"Get Data ..."),h.qZA(),h.TgZ(24,"button",10),h.NdJ("click",function(){return r.onGetAngularLessons()}),h._uU(25,"Angular lessons"),h.qZA(),h.TgZ(26,"button",10),h.NdJ("click",function(){return r.onObserve()}),h._uU(27,"obsService"),h.qZA(),h.YNc(28,eU,2,1,"p",11),h._UZ(29,"p"),h.YNc(30,tU,2,1,"p",11),h.qZA()}if(2&t){const i=h.MAs(4);h.xp6(16),h.Q6J("disabled",i.invalid)("ngStyle",i.invalid?h.DdM(4,nU):h.DdM(5,rU)),h.xp6(12),h.Q6J("ngForOf",r.arr),h.xp6(2),h.Q6J("ngForOf",r.lessonsArr)}},dependencies:[Hs,Bi,ul,el,jd,Tf,ll,al,ol],styles:["div[_ngcontent-%COMP%]{padding:10px}button[_ngcontent-%COMP%]{margin:0 10px 10px;width:150px}"]}),n})();class sU{intercept(e,t){const r=e.clone({headers:e.headers.append("auth","xyz")});return t.handle(r)}}class oU{intercept(e,t){return t.handle(e).pipe((0,Pn.b)(r=>{}))}}var aU=O(4986),cU=O(3942);const LO="firebasestorage.googleapis.com",VO="storageBucket";class yr extends zt.ZR{constructor(e,t,r=0){super(WM(e),`Firebase Storage: ${t} (${WM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return WM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var jn=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(jn||(jn={})),jn))();function WM(n){return"storage/"+n}function KM(){return new yr(jn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function UO(){return new yr(jn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BO(){return new yr(jn.CANCELED,"User canceled the upload/download.")}function $O(){return new yr(jn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qm(n){return new yr(jn.INVALID_ARGUMENT,n)}function jO(){return new yr(jn.APP_DELETED,"The Firebase app was deleted.")}function HO(n){return new yr(jn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function D0(n,e){return new yr(jn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function C0(n){throw new yr(jn.INTERNAL_ERROR,"Internal error: "+n)}class Xi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Xi.makeFromUrl(e,t)}catch{return new Xi(e,"")}if(""===r.path)return r;throw function vU(n){return new yr(jn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+i+"(/(.*))?$","i");function D(pt){pt.path_=decodeURIComponent(pt.path)}const x=t.replace(/[.]/g,"\\."),tt=[{regex:g,indices:{bucket:1,path:3},postModify:function u(pt){"/"===pt.path.charAt(pt.path.length-1)&&(pt.path_=pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${t===LO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let pt=0;pt<tt.length;pt++){const Gt=tt[pt],Xt=Gt.regex.exec(e);if(Xt){let Io=Xt[Gt.indices.path];Io||(Io=""),r=new Xi(Xt[Gt.indices.bucket],Io),Gt.postModify(r);break}}if(null==r)throw function _U(n){return new yr(jn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class CU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZD(n){return"string"==typeof n||n instanceof String}function zO(n){return ZM()&&n instanceof Blob}function ZM(){return typeof Blob<"u"&&!(0,zt.UG)()}function YM(n,e,t,r){if(r<e)throw qm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw qm(`Invalid value for '${n}'. Expected ${t} or less.`)}function Cl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function GO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var yh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(yh||(yh={})),yh))();function qO(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||i||u}class xU{constructor(e,t,r,i,u,c,g,_,D,T,x,L=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=_,this.timeout_=D,this.progressCallback_=T,this.connectionFactory_=x,this.retry=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,Y)=>{this.resolve_=H,this.reject_=Y,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,c=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());!function SU(n){return void 0!==n}(_)?u():u(_)}catch(_){c(_)}else if(null!==g){const _=KM();_.serverResponse=g.getErrorText(),c(this.errorCallback_?this.errorCallback_(g,_):_)}else c(i.canceled?this.appDelete_?jO():BO():UO())};this.canceled_?t(0,new YD(!1,null,!0)):this.backoffId_=function bU(n,e,t){let r=1,i=null,u=null,c=!1,g=0;function _(){return 2===g}let D=!1;function T(..._e){D||(D=!0,e.apply(null,_e))}function x(_e){i=setTimeout(()=>{i=null,n(H,_())},_e)}function L(){u&&clearTimeout(u)}function H(_e,...Ke){if(D)return void L();if(_e)return L(),void T.call(null,_e,...Ke);if(_()||c)return L(),void T.call(null,_e,...Ke);let tt;r<64&&(r*=2),1===g?(g=2,tt=0):tt=1e3*(r+Math.random()),x(tt)}let Y=!1;function we(_e){Y||(Y=!0,L(),!D&&(null!==i?(_e||(g=2),clearTimeout(i),x(0)):_e||(g=1)))}return x(0),u=setTimeout(()=>{c=!0,we(!0)},t),we}((r,i)=>{if(i)return void r(!1,new YD(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const c=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const g=u.getErrorCode()===yh.NO_ERROR,_=u.getStatus();if(!g||qO(_,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===yh.ABORT;return void r(!1,new YD(!1,null,T))}const D=-1!==this.successCodes_.indexOf(_);r(!0,new YD(D,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function TU(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class YD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function LU(...n){const e=function FU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(ZM())return new Blob(n);throw new yr(jn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class QM{constructor(e,t){this.data=e,this.contentType=t||null}}function JM(n,e){switch(n){case Eo.RAW:return new QM(WO(e));case Eo.BASE64:case Eo.BASE64URL:return new QM(KO(n,e));case Eo.DATA_URL:return new QM(function $U(n){const e=new ZO(n);return e.base64?KO(Eo.BASE64,e.rest):function BU(n){let e;try{e=decodeURIComponent(n)}catch{throw D0(Eo.DATA_URL,"Malformed data URL.")}return WO(e)}(e.rest)}(e),function jU(n){return new ZO(n).contentType}(e))}throw KM()}function WO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function KO(n,e){switch(n){case Eo.BASE64:{const i=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(i||u)throw D0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Eo.BASE64URL:{const i=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(i||u)throw D0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function UU(n){if(typeof atob>"u")throw function DU(n){return new yr(jn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:D0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class ZO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw D0(Eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function HU(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class rc{constructor(e,t){let r=0,i="";zO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(zO(this.data_)){const i=function VU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new rc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new rc(r,!0)}}static getBlob(...e){if(ZM()){const t=e.map(r=>r instanceof rc?r.data_:r);return new rc(LU.apply(null,t))}{const t=e.map(c=>ZD(c)?JM(Eo.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let u=0;return t.forEach(c=>{for(let g=0;g<c.length;g++)i[u++]=c[g]}),new rc(i,!0)}}uploadData(){return this.data_}}function XM(n){let e;try{e=JSON.parse(n)}catch{return null}return function MU(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function YO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function qU(n,e){return e}class hs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||qU}}let QD=null;function b0(){if(QD)return QD;const n=[];n.push(new hs("bucket")),n.push(new hs("generation")),n.push(new hs("metageneration")),n.push(new hs("name","fullPath",!0));const t=new hs("name");t.xform=function e(u,c){return function WU(n){return!ZD(n)||n.length<2?n:YO(n)}(c)},n.push(t);const i=new hs("size");return i.xform=function r(u,c){return void 0!==c?Number(c):c},n.push(i),n.push(new hs("timeCreated")),n.push(new hs("updated")),n.push(new hs("md5Hash",null,!0)),n.push(new hs("cacheControl",null,!0)),n.push(new hs("contentDisposition",null,!0)),n.push(new hs("contentEncoding",null,!0)),n.push(new hs("contentLanguage",null,!0)),n.push(new hs("contentType",null,!0)),n.push(new hs("metadata","customMetadata",!0)),QD=n,QD}function QO(n,e,t){const r=XM(e);return null===r?null:function ZU(n,e,t){const r={type:"file"},i=t.length;for(let u=0;u<i;u++){const c=t[u];r[c.local]=c.xform(r,e[c.server])}return function KU(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Xi(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function ex(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const u=e[i];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const JO="prefixes",XO="items";class ic{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sc(n){if(!n)throw KM()}function JD(n,e){return function t(r,i){const u=QO(n,i,e);return sc(null!==u),u}}function Wm(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function mU(){return new yr(jn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function gU(){return new yr(jn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function pU(n){return new yr(jn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function yU(n){return new yr(jn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function T0(n){const e=Wm(n);return function t(r,i){let u=e(r,i);return 404===r.getStatus()&&(u=function fU(n){return new yr(jn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=i.serverResponse,u}}function ek(n,e,t){const i=Cl(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new ic(i,"GET",JD(n,t),c);return g.errorHandler=T0(e),g}function tB(n,e,t,r,i){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),i&&(u.maxResults=i);const g=Cl(e.bucketOnlyServerUrl(),n.host,n._protocol),D=n.maxOperationRetryTime,T=new ic(g,"GET",function XU(n,e){return function t(r,i){const u=function JU(n,e,t){const r=XM(t);return null===r?null:function QU(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[JO])for(const i of t[JO]){const u=i.replace(/\/$/,""),c=n._makeStorageReference(new Xi(e,u));r.prefixes.push(c)}if(t[XO])for(const i of t[XO]){const u=n._makeStorageReference(new Xi(e,i.name));r.items.push(u)}return r}(n,e,r)}(n,e,i);return sc(null!==u),u}}(n,e.bucket),D);return T.urlParams=u,T.errorHandler=Wm(e),T}function nk(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function sB(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class XD{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function tx(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{sc(!1)}return sc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const cB={STATE_CHANGED:"state_changed"},fs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nx(n){switch(n){case"running":case"pausing":case"canceling":return fs.RUNNING;case"paused":return fs.PAUSED;case"success":return fs.SUCCESS;case"canceled":return fs.CANCELED;default:return fs.ERROR}}class lB{constructor(e,t,r){if(function AU(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Km(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let sk=null;class dB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw C0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const u in i)i.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,i[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw C0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw C0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw C0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw C0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class hB extends dB{initXhr(){this.xhr_.responseType="text"}}function Ya(){return sk?sk():new hB}class ok{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=b0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(jn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(qO(i.status,[])){if(!u)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=UO()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(jn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,u)=>{this._resolve=i,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function oB(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),c=nk(e,r,i),g={name:c.fullPath},_=Cl(u,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},x=ex(c,t),Y=new ic(_,"POST",function H(we){let _e;tx(we);try{_e=we.getResponseHeader("X-Goog-Upload-URL")}catch{sc(!1)}return sc(ZD(_e)),_e},n.maxUploadRetryTime);return Y.urlParams=g,Y.headers=T,Y.body=x,Y.errorHandler=Wm(e),Y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ya,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function aB(n,e,t,r){const _=new ic(t,"POST",function u(D){const T=tx(D,["active","final"]);let x=null;try{x=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch{sc(!1)}x||sc(!1);const L=Number(x);return sc(!isNaN(L)),new XD(L,r.size(),"final"===T)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Wm(e),_}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(i,Ya,t,r);this._request=u,u.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new XD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,u)=>{let c;try{c=function uB(n,e,t,r,i,u,c,g){const _=new XD(0,0);if(c?(_.current=c.current,_.total=c.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function EU(){return new yr(jn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const D=_.total-_.current;let T=D;i>0&&(T=Math.min(T,i));const x=_.current;let H="";H=0===T?"finalize":D===T?"upload, finalize":"upload";const Y={"X-Goog-Upload-Command":H,"X-Goog-Upload-Offset":`${_.current}`},we=r.slice(x,x+T);if(null===we)throw $O();const tt=new ic(t,"POST",function _e(pt,Gt){const Xt=tx(pt,["active","final"]),bi=_.current+T,Io=r.size();let Zm;return Zm="final"===Xt?JD(e,u)(pt,Gt):null,new XD(bi,Io,"final"===Xt,Zm)},e.maxUploadRetryTime);return tt.headers=Y,tt.body=we.uploadData(),tt.progressCallback=g||null,tt.errorHandler=Wm(n),tt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const g=this._ref.storage._makeRequest(c,Ya,i,u,!1);this._request=g,g.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=ek(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ya,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function rk(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},_=function g(){let tt="";for(let pt=0;pt<2;pt++)tt+=Math.random().toString().slice(2);return tt}();c["Content-Type"]="multipart/related; boundary="+_;const D=nk(e,r,i),T=ex(D,t),H=rc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===H)throw $O();const Y={name:D.fullPath},we=Cl(u,n.host,n._protocol),Ke=n.maxUploadRetryTime,ut=new ic(we,"POST",JD(n,t),Ke);return ut.urlParams=Y,ut.headers=c,ut.body=H.uploadData(),ut.errorHandler=Wm(e),ut}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ya,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=BO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=nx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const u=new lB(t||void 0,r||void 0,i||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(nx(this._state)){case fs.SUCCESS:Km(this._resolve.bind(null,this.snapshot))();break;case fs.CANCELED:case fs.ERROR:Km(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(nx(this._state)){case fs.RUNNING:case fs.PAUSED:e.next&&Km(e.next.bind(e,this.snapshot))();break;case fs.SUCCESS:e.complete&&Km(e.complete.bind(e))();break;default:e.error&&Km(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Dp{constructor(e,t){this._service=e,this._location=t instanceof Xi?t:Xi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Dp(e,t)}get root(){const e=new Xi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YO(this._location.path)}get storage(){return this._service}get parent(){const e=function zU(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Xi(this._location.bucket,e);return new Dp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw HO(e)}}function uk(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Fe.Z)(function*(n,e,t){const i=yield ck(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield uk(n,e,i.nextPageToken))}),rx.apply(this,arguments)}function ck(n,e){null!=e&&"number"==typeof e.maxResults&&YM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=tB(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ya)}function CB(n){n._throwIfRoot("getDownloadURL");const e=function nB(n,e,t){const i=Cl(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new ic(i,"GET",function eB(n,e){return function t(r,i){const u=QO(n,i,e);return sc(null!==u),function YU(n,e,t,r){const i=XM(e);if(null===i||!ZD(i.downloadTokens))return null;const u=i.downloadTokens;if(0===u.length)return null;const c=encodeURIComponent;return u.split(",").map(D=>{const x=n.fullPath;return Cl("/b/"+c(n.bucket)+"/o/"+c(x),t,r)+GO({alt:"media",token:D})})[0]}(u,i,n.host,n._protocol)}}(n,t),c);return g.errorHandler=T0(e),g}(n.storage,n._location,b0());return n.storage.makeRequestWithTokens(e,Ya).then(t=>{if(null===t)throw function IU(){return new yr(jn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function lk(n,e){const t=function GU(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Xi(n._location.bucket,t);return new Dp(n.storage,r)}function dk(n,e){if(n instanceof ix){const t=n;if(null==t._bucket)throw function wU(){return new yr(jn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VO+"' property when initializing the app?")}();const r=new Dp(t,t._bucket);return null!=e?dk(r,e):r}return void 0!==e?lk(n,e):n}function AB(n,e){if(e&&function TB(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ix)return function SB(n,e){return new Dp(n,e)}(n,e);throw qm("To use ref(service, url), the first argument must be a Storage instance.")}return dk(n,e)}function hk(n,e){const t=e?.[VO];return null==t?null:Xi.makeFromBucketSpec(t,n)}class ix{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=LO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Xi.makeFromBucketSpec(i,this._host):hk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Xi.makeFromBucketSpec(this._url,e):hk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Fe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Fe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dp(this,e)}_makeRequest(e,t,r,i,u=!0){if(this._deleted)return new CU(jO());{const c=function kU(n,e,t,r,i,u,c=!0){const g=GO(n.urlParams),_=n.url+g,D=Object.assign({},n.headers);return function PU(n,e){e&&(n["X-Firebase-GMPID"]=e)}(D,e),function RU(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(D,t),function NU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(D,u),function OU(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(D,r),new xU(_,n.method,D,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,u);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,Fe.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const fk="@firebase/storage";function mk(n,e){return AB(n=(0,zt.m9)(n),e)}function VB(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new ix(t,r,i,e,Rr.SDK_VERSION)}!function UB(){(0,Rr._registerComponent)(new ku.wA("storage",VB,"PUBLIC").setMultipleInstances(!0)),(0,Rr.registerVersion)(fk,"0.11.2",""),(0,Rr.registerVersion)(fk,"0.11.2","esm2017")}();class eC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _k{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new eC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new eC(r,this,this._ref))},t)}on(e,t,r,i){let u;return t&&(u="function"==typeof t?c=>t(new eC(c,this,this._ref)):{next:t.next?c=>t.next(new eC(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,i||void 0)}}class vk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new bl(e,this._service))}get items(){return this._delegate.items.map(e=>new bl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class bl{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function LB(n,e){return lk(n,e)}(this._delegate,e);return new bl(t,this.storage)}get root(){return new bl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new bl(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new _k(function xB(n,e,t){return function vB(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ok(n,new rc(e),t)}(n=(0,zt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Eo.RAW,r){this._throwIfRoot("putString");const i=JM(t,e),u=Object.assign({},r);return null==u.contentType&&null!=i.contentType&&(u.contentType=i.contentType),new _k(new ok(this._delegate,new rc(i.data,!0),u),this)}listAll(){return function OB(n){return function EB(n){const e={prefixes:[],items:[]};return uk(n,e).then(()=>e)}(n=(0,zt.m9)(n))}(this._delegate).then(e=>new vk(e,this.storage))}list(e){return function PB(n,e){return ck(n=(0,zt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new vk(t,this.storage))}getMetadata(){return function RB(n){return function IB(n){n._throwIfRoot("getMetadata");const e=ek(n.storage,n._location,b0());return n.storage.makeRequestWithTokens(e,Ya)}(n=(0,zt.m9)(n))}(this._delegate)}updateMetadata(e){return function NB(n,e){return function DB(n,e){n._throwIfRoot("updateMetadata");const t=function rB(n,e,t,r){const u=Cl(e.fullServerUrl(),n.host,n._protocol),g=ex(t,r),D=n.maxOperationRetryTime,T=new ic(u,"PATCH",JD(n,r),D);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=g,T.errorHandler=T0(e),T}(n.storage,n._location,e,b0());return n.storage.makeRequestWithTokens(t,Ya)}(n=(0,zt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function kB(n){return CB(n=(0,zt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function FB(n){return function bB(n){n._throwIfRoot("deleteObject");const e=function iB(n,e){const r=Cl(e.fullServerUrl(),n.host,n._protocol),g=new ic(r,"DELETE",function c(_,D){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=T0(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ya)}(n=(0,zt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw HO(e)}}class wk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Ek(e))throw qm("ref() expected a child path but got a URL, use refFromURL instead.");return new bl(mk(this._delegate,e),this)}refFromURL(e){if(!Ek(e))throw qm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xi.makeFromUrl(e,this._delegate.host)}catch{throw qm("refFromUrl() expected a valid full URL but got an invalid one.")}return new bl(mk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function yk(n,e,t,r={}){!function MB(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,zt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function Ek(n){return/^[A-Za-z]+:\/\//.test(n)}function HB(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new wk(t,r)}function Ik(n){const e=function GB(n){return new or.y(e=>{const t=c=>e.next(c);t(n.snapshot);const u=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){u()}}).pipe(function uU(n,e=aU.z){return(0,qr.e)((t,r)=>{let i=null,u=null,c=null;const g=()=>{if(i){i.unsubscribe(),i=null;const D=u;u=null,r.next(D)}};function _(){const D=c+n,T=e.now();if(T<D)return i=this.schedule(void 0,D-T),void r.add(i);g()}t.subscribe((0,xr.x)(r,D=>{u=D,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{g(),r.complete()},void 0,()=>{u=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,It.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function tC(n){return{getDownloadURL:()=>nt(void 0).pipe(An.fc,vn(()=>n.getDownloadURL()),An.iC),getMetadata:()=>nt(void 0).pipe(An.fc,vn(()=>n.getMetadata()),An.iC),delete:()=>(0,tn.D)(n.delete()),child:e=>tC(n.child(e)),updateMetadata:e=>(0,tn.D)(n.updateMetadata(e)),put:(e,t)=>Ik(n.put(e,t)),putString:(e,t,r)=>Ik(n.putString(e,t,r)),list:e=>(0,tn.D)(n.list(e)),listAll:()=>(0,tn.D)(n.listAll())}}!function zB(n){const e={TaskState:fs,TaskEvent:cB,StringFormat:Eo,Storage:wk,Reference:bl};n.INTERNAL.registerComponent(new ku.wA("storage-compat",HB,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(cU.Z);const qB=new h.OlP("angularfire2.storageBucket"),WB=new h.OlP("angularfire2.storage.maxUploadRetryTime"),KB=new h.OlP("angularfire2.storage.maxOperationRetryTime"),ZB=new h.OlP("angularfire2.storage.use-emulator");let Dk=(()=>{class n{constructor(t,r,i,u,c,g,_,D,T,x){const L=(0,fo.on)(t,c,r);this.storage=(0,fo.cc)(`${L.name}.storage.${i}`,"AngularFireStorage",L.name,()=>{const H=c.runOutsideAngular(()=>L.storage(i||void 0)),Y=T;return Y&&H.useEmulator(...Y),_&&H.setMaxUploadRetryTime(_),D&&H.setMaxOperationRetryTime(D),H},[_,D])}ref(t){return tC(this.storage.ref(t))}refFromURL(t){return tC(this.storage.refFromURL(t))}upload(t,r,i){return tC(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fo.Dh),h.LFG(fo.xv,8),h.LFG(qB,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(An.HU),h.LFG(WB,8),h.LFG(KB,8),h.LFG(ZB,8),h.LFG(Cf,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),QB=(()=>{class n{constructor(){cE.Z.registerVersion("angularfire",An.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Dk],imports:[YB]}),n})();const Ck_firebase={apiKey:"AIzaSyBWDl4DyscEGeARJgm1MQmaxCj0WwB_cYM",authDomain:"fir-app-83ca0.firebaseapp.com",projectId:"fir-app-83ca0",storageBucket:"fir-app-83ca0.appspot.com",messagingSenderId:"296875108390",appId:"1:296875108390:web:56afb6afb5794c45a3dee7"},sx=(0,It.U)(n=>!!n);let ox=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,u)=>{const c=i.data.authGuardPipe||(()=>sx);return rI(this.auth).pipe(Os(1),c(i,u),(0,It.U)(g=>"boolean"==typeof g?g:Array.isArray(g)?this.router.createUrlTree(g):this.router.parseUrl(g)))}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(gr),h.LFG(Wd))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XB=(()=>{class n{constructor(){(0,Ou.KN)("angularfire",An.q4.full,"auth-guard")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ox]}),n})();function e$(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"progress",13),h.TgZ(2,"span"),h._uU(3),h.ALo(4,"percent"),h.qZA()()),2&n){const t=e.ngIf;h.xp6(1),h.Q6J("value",t),h.xp6(2),h.Oqu(h.lcZ(4,2,t/100))}}function t$(n,e){if(1&n&&h._UZ(0,"img",14),2&n){const t=h.oxw();h.Q6J("src",t.iconUrl,h.LSH)}}const n$=function(){return{"background-color":"gray"}},r$=function(){return{"background-color":"green"}};let i$=(()=>{class n{constructor(t,r,i,u,c){this.fb=t,this.fs=r,this.router=i,this.serviceFirebase=u,this.storage=c}ngOnInit(){}onCreateCourse(t){const r=t.value;this.router.navigateByUrl("/products"),this.fs.createCourse(r,this.iconUrl).catch(i=>{console.log(i),alert("Missing or insufficient permissions!")})}onUploadFile(t){const r=t.target.files[0];console.log(r.name);const i=`courses/images/${r.name}`,u=this.storage.upload(i,r,{cacheControl:"max-age=259200,public"});this.percantage=u.percentageChanges(),u.snapshotChanges().pipe(Gi(()=>this.storage.ref(i).getDownloadURL()),(0,Pn.b)(c=>this.iconUrl=c),vi(c=>(console.log(c),alert("could not create thumbnail url."),Ps(c)))).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ea),h.Y36(I0),h.Y36(gr),h.Y36(I0),h.Y36(Dk))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-input-form"]],decls:38,vars:8,consts:[["id","formContent"],[3,"ngSubmit"],["f","ngForm"],["for","courseName"],["name","courseName","type","text","ngModel","","required",""],["for","courseDescrption"],["name","courseDescrption","type","text","ngModel","","required",""],["for","courseDate"],[4,"ngIf"],["name","courseDate","type","date","ngModel","","required",""],["type","file","ngModel","","name","uploadFile",3,"change"],["style","width:100px",3,"src",4,"ngIf"],["type","submit",3,"disabled","ngStyle"],[3,"value"],[2,"width","100px",3,"src"]],template:function(t,r){if(1&t){const i=h.EpF();h.TgZ(0,"div",0)(1,"p"),h._uU(2,"Information"),h.qZA(),h.TgZ(3,"form",1,2),h.NdJ("ngSubmit",function(){h.CHM(i);const c=h.MAs(4);return h.KtG(r.onCreateCourse(c))}),h.TgZ(5,"label",3),h._uU(6,"Course Name"),h.qZA(),h._UZ(7,"br")(8,"input",4)(9,"br")(10,"br"),h.TgZ(11,"label",5),h._uU(12,"Course Description"),h.qZA(),h._UZ(13,"br")(14,"input",6)(15,"br")(16,"br"),h.TgZ(17,"label",7),h._uU(18,"Course Date"),h.qZA(),h._UZ(19,"br"),h.YNc(20,e$,5,4,"div",8),h.ALo(21,"async"),h._UZ(22,"br")(23,"input",9)(24,"br")(25,"br"),h.TgZ(26,"input",10),h.NdJ("change",function(c){return r.onUploadFile(c)}),h.qZA(),h._UZ(27,"br")(28,"br"),h.YNc(29,t$,1,1,"img",11),h._UZ(30,"br")(31,"br")(32,"hr"),h.TgZ(33,"button",12),h._uU(34,"Submit"),h.qZA(),h.TgZ(35,"button"),h._uU(36,"Cancel"),h.qZA()(),h._UZ(37,"br"),h.qZA()}if(2&t){const i=h.MAs(4);h.xp6(20),h.Q6J("ngIf",h.lcZ(21,4,r.percantage)),h.xp6(9),h.Q6J("ngIf",r.iconUrl),h.xp6(4),h.Q6J("disabled",i.invalid)("ngStyle",i.invalid?h.DdM(6,n$):h.DdM(7,r$))}},dependencies:[Ui,Bi,ul,el,jd,Tf,ll,al,ol,ts,wh],styles:["#formContent[_ngcontent-%COMP%]{margin:10px 50px}#formContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto 10px;width:150px}"]}),n})();const s$=function(){return{"background-color":"gray"}},o$=function(){return{"background-color":"green"}};let a$=(()=>{class n{constructor(t,r){this.router=t,this.serviceFirebase=r,this.oldDataToUpdate={courseId:"",courseName:"",courseDate:"",courseDescription:""}}ngOnInit(){}onUpdateCourse(t){let r=localStorage.getItem(JSON.parse('"updatedata"')),i=JSON.parse(r);this.oldDataToUpdate=i,this.serviceFirebase.updateCourse(t.value,i),this.router.navigateByUrl("/products"),localStorage.removeItem("updatedata")}onCancel(){this.router.navigateByUrl("/products"),localStorage.removeItem("updatedata")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gr),h.Y36(I0))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-update"]],decls:27,vars:7,consts:[["id","body"],[3,"ngSubmit"],["f","ngForm"],["for","courseName"],["name","courseName","type","text","ngModel","","required","",3,"placeholder"],["for","courseDescrption"],["name","courseDescrption","type","text","ngModel","","required","",3,"placeholder"],["for","courseDate"],["name","courseDate","type","date","ngModel","","required","",3,"placeholder"],["type","submit",3,"disabled","ngStyle"],[2,"background-color","rgb(190, 66, 66)","color","white",3,"click"]],template:function(t,r){if(1&t){const i=h.EpF();h.TgZ(0,"div",0)(1,"p"),h._uU(2,"Update Course Information"),h.qZA(),h.TgZ(3,"form",1,2),h.NdJ("ngSubmit",function(){h.CHM(i);const c=h.MAs(4);return h.KtG(r.onUpdateCourse(c))}),h.TgZ(5,"label",3),h._uU(6,"Course Name"),h.qZA(),h._UZ(7,"br")(8,"input",4)(9,"br")(10,"br"),h.TgZ(11,"label",5),h._uU(12,"Course Description"),h.qZA(),h._UZ(13,"br")(14,"input",6)(15,"br")(16,"br"),h.TgZ(17,"label",7),h._uU(18,"Course Date"),h.qZA(),h._UZ(19,"br")(20,"input",8)(21,"br")(22,"br"),h.TgZ(23,"button",9),h._uU(24,"Update"),h.qZA(),h.TgZ(25,"button",10),h.NdJ("click",function(){return r.onCancel()}),h._uU(26,"Cancel"),h.qZA()()()}if(2&t){const i=h.MAs(4);h.xp6(8),h.s9C("placeholder",r.oldDataToUpdate.courseName),h.xp6(6),h.s9C("placeholder",r.oldDataToUpdate.courseDescription),h.xp6(6),h.s9C("placeholder",r.oldDataToUpdate.courseDate),h.xp6(3),h.Q6J("disabled",i.invalid)("ngStyle",i.invalid?h.DdM(5,s$):h.DdM(6,o$))}},dependencies:[Bi,ul,el,jd,Tf,ll,al,ol],styles:["#body[_ngcontent-%COMP%]{margin:15px}button[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}"]}),n})(),bk=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){let i=this.authService.userCheck();return console.log(i),!!i||this.router.createUrlTree(["/auth"])}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Cg),h.LFG(gr))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u$=[{path:"",component:mE,children:[{path:"auth",component:Wg},{path:"main",component:iU,canActivate:[bk]},{path:"products",component:XV,canActivate:[bk]},{path:"inputForm",component:i$},{path:"update",component:a$}]}];let c$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[Ub]}),n.\u0275inj=h.cJS({providers:[{provide:jy,useClass:oU,multi:!0},{provide:jy,useClass:sU,multi:!0},ox],imports:[Bo,df,NT,kw,fo.hO.initializeApp(Ck_firebase),QB,XB,WV(()=>KV()),Px(()=>Zy(Ck_firebase)),kw,mw.forRoot(u$)]}),n})();xh().bootstrapModule(c$).catch(n=>console.error(n))},9751:(vt,Ce,O)=>{O.d(Ce,{y:()=>ye});var h=O(2961),V=O(727),z=O(8822),ie=O(9635),te=O(2416),ne=O(576),ge=O(2806);let ye=(()=>{class Z{constructor(De){De&&(this._subscribe=De)}lift(De){const qe=new Z;return qe.source=this,qe.operator=De,qe}subscribe(De,qe,it){const de=function B(Z){return Z&&Z instanceof h.Lv||function j(Z){return Z&&(0,ne.m)(Z.next)&&(0,ne.m)(Z.error)&&(0,ne.m)(Z.complete)}(Z)&&(0,V.Nn)(Z)}(De)?De:new h.Hp(De,qe,it);return(0,ge.x)(()=>{const{operator:Te,source:Ne}=this;de.add(Te?Te.call(de,Ne):Ne?this._subscribe(de):this._trySubscribe(de))}),de}_trySubscribe(De){try{return this._subscribe(De)}catch(qe){De.error(qe)}}forEach(De,qe){return new(qe=pe(qe))((it,de)=>{const Te=new h.Hp({next:Ne=>{try{De(Ne)}catch(Ue){de(Ue),Te.unsubscribe()}},error:de,complete:it});this.subscribe(Te)})}_subscribe(De){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(De)}[z.L](){return this}pipe(...De){return(0,ie.U)(De)(this)}toPromise(De){return new(De=pe(De))((qe,it)=>{let de;this.subscribe(Te=>de=Te,Te=>it(Te),()=>qe(de))})}}return Z.create=je=>new Z(je),Z})();function pe(Z){var je;return null!==(je=Z??te.v.Promise)&&void 0!==je?je:Promise}},7579:(vt,Ce,O)=>{O.d(Ce,{x:()=>ge});var h=O(9751),V=O(727);const ie=(0,O(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=O(8737),ne=O(2806);let ge=(()=>{class pe extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const Z=new ye(this,this);return Z.operator=B,Z}_throwIfClosed(){if(this.closed)throw new ie}next(B){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(B)}})}error(B){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:Z}=this;for(;Z.length;)Z.shift().error(B)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:Z,isStopped:je,observers:De}=this;return Z||je?V.Lc:(this.currentObservers=null,De.push(B),new V.w0(()=>{this.currentObservers=null,(0,te.P)(De,B)}))}_checkFinalizedStatuses(B){const{hasError:Z,thrownError:je,isStopped:De}=this;Z?B.error(je):De&&B.complete()}asObservable(){const B=new h.y;return B.source=this,B}}return pe.create=(j,B)=>new ye(j,B),pe})();class ye extends ge{constructor(j,B){super(),this.destination=j,this.source=B}next(j){var B,Z;null===(Z=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===Z||Z.call(B,j)}error(j){var B,Z;null===(Z=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===Z||Z.call(B,j)}complete(){var j,B;null===(B=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===B||B.call(j)}_subscribe(j){var B,Z;return null!==(Z=null===(B=this.source)||void 0===B?void 0:B.subscribe(j))&&void 0!==Z?Z:V.Lc}}},2961:(vt,Ce,O)=>{O.d(Ce,{Hp:()=>it,Lv:()=>Z});var h=O(576),V=O(727),z=O(2416),ie=O(7849);function te(){}const ne=pe("C",void 0,void 0);function pe(Ee,ve,Ae){return{kind:Ee,value:ve,error:Ae}}var j=O(3410),B=O(2806);class Z extends V.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,V.Nn)(ve)&&ve.add(this)):this.destination=Ue}static create(ve,Ae,Be){return new it(ve,Ae,Be)}next(ve){this.isStopped?Ne(function ye(Ee){return pe("N",Ee,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Ne(function ge(Ee){return pe("E",void 0,Ee)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Ne(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function De(Ee,ve){return je.call(Ee,ve)}class qe{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(ve)}catch(Be){de(Be)}}error(ve){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(ve)}catch(Be){de(Be)}else de(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ae){de(Ae)}}}class it extends Z{constructor(ve,Ae,Be){let Oe;if(super(),(0,h.m)(ve)||!ve)Oe={next:ve??void 0,error:Ae??void 0,complete:Be??void 0};else{let re;this&&z.v.useDeprecatedNextContext?(re=Object.create(ve),re.unsubscribe=()=>this.unsubscribe(),Oe={next:ve.next&&De(ve.next,re),error:ve.error&&De(ve.error,re),complete:ve.complete&&De(ve.complete,re)}):Oe=ve}this.destination=new qe(Oe)}}function de(Ee){z.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Ee):(0,ie.h)(Ee)}function Ne(Ee,ve){const{onStoppedNotification:Ae}=z.v;Ae&&j.z.setTimeout(()=>Ae(Ee,ve))}const Ue={closed:!0,next:te,error:function Te(Ee){throw Ee},complete:te}},727:(vt,Ce,O)=>{O.d(Ce,{Lc:()=>ne,w0:()=>te,Nn:()=>ge});var h=O(576);const z=(0,O(3888).d)(pe=>function(B){pe(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((Z,je)=>`${je+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ie=O(8737);class te{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const De of B)De.remove(this);else B.remove(this);const{initialTeardown:Z}=this;if((0,h.m)(Z))try{Z()}catch(De){j=De instanceof z?De.errors:[De]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const De of je)try{ye(De)}catch(qe){j=j??[],qe instanceof z?j=[...j,...qe.errors]:j.push(qe)}}if(j)throw new z(j)}}add(j){var B;if(j&&j!==this)if(this.closed)ye(j);else{if(j instanceof te){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(j)}}_hasParent(j){const{_parentage:B}=this;return B===j||Array.isArray(B)&&B.includes(j)}_addParent(j){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(j),B):B?[B,j]:j}_removeParent(j){const{_parentage:B}=this;B===j?this._parentage=null:Array.isArray(B)&&(0,ie.P)(B,j)}remove(j){const{_finalizers:B}=this;B&&(0,ie.P)(B,j),j instanceof te&&j._removeParent(this)}}te.EMPTY=(()=>{const pe=new te;return pe.closed=!0,pe})();const ne=te.EMPTY;function ge(pe){return pe instanceof te||pe&&"closed"in pe&&(0,h.m)(pe.remove)&&(0,h.m)(pe.add)&&(0,h.m)(pe.unsubscribe)}function ye(pe){(0,h.m)(pe)?pe():pe.unsubscribe()}},2416:(vt,Ce,O)=>{O.d(Ce,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Ce,O)=>{O.d(Ce,{E:()=>V});const V=new(O(9751).y)(te=>te.complete())},8996:(vt,Ce,O)=>{O.d(Ce,{D:()=>ve});var h=O(8421),V=O(5363),z=O(9468),ne=O(9751),ye=O(2202),pe=O(576),j=O(9672);function Z(Ae,Be){if(!Ae)throw new Error("Iterable cannot be null");return new ne.y(Oe=>{(0,j.f)(Oe,Be,()=>{const re=Ae[Symbol.asyncIterator]();(0,j.f)(Oe,Be,()=>{re.next().then(et=>{et.done?Oe.complete():Oe.next(et.value)})},0,!0)})})}var je=O(3670),De=O(8239),qe=O(1144),it=O(6495),de=O(2206),Te=O(4532),Ne=O(3260);function ve(Ae,Be){return Be?function Ee(Ae,Be){if(null!=Ae){if((0,je.c)(Ae))return function ie(Ae,Be){return(0,h.Xf)(Ae).pipe((0,z.R)(Be),(0,V.Q)(Be))}(Ae,Be);if((0,qe.z)(Ae))return function ge(Ae,Be){return new ne.y(Oe=>{let re=0;return Be.schedule(function(){re===Ae.length?Oe.complete():(Oe.next(Ae[re++]),Oe.closed||this.schedule())})})}(Ae,Be);if((0,De.t)(Ae))return function te(Ae,Be){return(0,h.Xf)(Ae).pipe((0,z.R)(Be),(0,V.Q)(Be))}(Ae,Be);if((0,de.D)(Ae))return Z(Ae,Be);if((0,it.T)(Ae))return function B(Ae,Be){return new ne.y(Oe=>{let re;return(0,j.f)(Oe,Be,()=>{re=Ae[ye.h](),(0,j.f)(Oe,Be,()=>{let et,bt;try{({value:et,done:bt}=re.next())}catch(rt){return void Oe.error(rt)}bt?Oe.complete():Oe.next(et)},0,!0)}),()=>(0,pe.m)(re?.return)&&re.return()})}(Ae,Be);if((0,Ne.L)(Ae))return function Ue(Ae,Be){return Z((0,Ne.Q)(Ae),Be)}(Ae,Be)}throw(0,Te.z)(Ae)}(Ae,Be):(0,h.Xf)(Ae)}},8421:(vt,Ce,O)=>{O.d(Ce,{Xf:()=>je});var h=O(655),V=O(1144),z=O(8239),ie=O(9751),te=O(3670),ne=O(2206),ge=O(4532),ye=O(6495),pe=O(3260),j=O(576),B=O(7849),Z=O(8822);function je(Ee){if(Ee instanceof ie.y)return Ee;if(null!=Ee){if((0,te.c)(Ee))return function De(Ee){return new ie.y(ve=>{const Ae=Ee[Z.L]();if((0,j.m)(Ae.subscribe))return Ae.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,V.z)(Ee))return function qe(Ee){return new ie.y(ve=>{for(let Ae=0;Ae<Ee.length&&!ve.closed;Ae++)ve.next(Ee[Ae]);ve.complete()})}(Ee);if((0,z.t)(Ee))return function it(Ee){return new ie.y(ve=>{Ee.then(Ae=>{ve.closed||(ve.next(Ae),ve.complete())},Ae=>ve.error(Ae)).then(null,B.h)})}(Ee);if((0,ne.D)(Ee))return Te(Ee);if((0,ye.T)(Ee))return function de(Ee){return new ie.y(ve=>{for(const Ae of Ee)if(ve.next(Ae),ve.closed)return;ve.complete()})}(Ee);if((0,pe.L)(Ee))return function Ne(Ee){return Te((0,pe.Q)(Ee))}(Ee)}throw(0,ge.z)(Ee)}function Te(Ee){return new ie.y(ve=>{(function Ue(Ee,ve){var Ae,Be,Oe,re;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,h.KL)(Ee);!(Be=yield Ae.next()).done;)if(ve.next(Be.value),ve.closed)return}catch(et){Oe={error:et}}finally{try{Be&&!Be.done&&(re=Ae.return)&&(yield re.call(Ae))}finally{if(Oe)throw Oe.error}}ve.complete()})})(Ee,ve).catch(Ae=>ve.error(Ae))})}},6451:(vt,Ce,O)=>{O.d(Ce,{T:()=>ne});var h=O(8189),V=O(8421),z=O(515),ie=O(7669),te=O(8996);function ne(...ge){const ye=(0,ie.yG)(ge),pe=(0,ie._6)(ge,1/0),j=ge;return j.length?1===j.length?(0,V.Xf)(j[0]):(0,h.J)(pe)((0,te.D)(j,ye)):z.E}},5403:(vt,Ce,O)=>{O.d(Ce,{x:()=>V});var h=O(2961);function V(ie,te,ne,ge,ye){return new z(ie,te,ne,ge,ye)}class z extends h.Lv{constructor(te,ne,ge,ye,pe,j){super(te),this.onFinalize=pe,this.shouldUnsubscribe=j,this._next=ne?function(B){try{ne(B)}catch(Z){te.error(Z)}}:super._next,this._error=ye?function(B){try{ye(B)}catch(Z){te.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(B){te.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},4004:(vt,Ce,O)=>{O.d(Ce,{U:()=>z});var h=O(4482),V=O(5403);function z(ie,te){return(0,h.e)((ne,ge)=>{let ye=0;ne.subscribe((0,V.x)(ge,pe=>{ge.next(ie.call(te,pe,ye++))}))})}},8189:(vt,Ce,O)=>{O.d(Ce,{J:()=>z});var h=O(5577),V=O(4671);function z(ie=1/0){return(0,h.z)(V.y,ie)}},5577:(vt,Ce,O)=>{O.d(Ce,{z:()=>ye});var h=O(4004),V=O(8421),z=O(4482),ie=O(9672),te=O(5403),ge=O(576);function ye(pe,j,B=1/0){return(0,ge.m)(j)?ye((Z,je)=>(0,h.U)((De,qe)=>j(Z,De,je,qe))((0,V.Xf)(pe(Z,je))),B):("number"==typeof j&&(B=j),(0,z.e)((Z,je)=>function ne(pe,j,B,Z,je,De,qe,it){const de=[];let Te=0,Ne=0,Ue=!1;const Ee=()=>{Ue&&!de.length&&!Te&&j.complete()},ve=Be=>Te<Z?Ae(Be):de.push(Be),Ae=Be=>{De&&j.next(Be),Te++;let Oe=!1;(0,V.Xf)(B(Be,Ne++)).subscribe((0,te.x)(j,re=>{je?.(re),De?ve(re):j.next(re)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Te--;de.length&&Te<Z;){const re=de.shift();qe?(0,ie.f)(j,qe,()=>Ae(re)):Ae(re)}Ee()}catch(re){j.error(re)}}))};return pe.subscribe((0,te.x)(j,ve,()=>{Ue=!0,Ee()})),()=>{it?.()}}(Z,je,pe,B)))}},5363:(vt,Ce,O)=>{O.d(Ce,{Q:()=>ie});var h=O(9672),V=O(4482),z=O(5403);function ie(te,ne=0){return(0,V.e)((ge,ye)=>{ge.subscribe((0,z.x)(ye,pe=>(0,h.f)(ye,te,()=>ye.next(pe),ne),()=>(0,h.f)(ye,te,()=>ye.complete(),ne),pe=>(0,h.f)(ye,te,()=>ye.error(pe),ne)))})}},3099:(vt,Ce,O)=>{O.d(Ce,{B:()=>te});var h=O(8421),V=O(7579),z=O(2961),ie=O(4482);function te(ge={}){const{connector:ye=(()=>new V.x),resetOnError:pe=!0,resetOnComplete:j=!0,resetOnRefCountZero:B=!0}=ge;return Z=>{let je,De,qe,it=0,de=!1,Te=!1;const Ne=()=>{De?.unsubscribe(),De=void 0},Ue=()=>{Ne(),je=qe=void 0,de=Te=!1},Ee=()=>{const ve=je;Ue(),ve?.unsubscribe()};return(0,ie.e)((ve,Ae)=>{it++,!Te&&!de&&Ne();const Be=qe=qe??ye();Ae.add(()=>{it--,0===it&&!Te&&!de&&(De=ne(Ee,B))}),Be.subscribe(Ae),!je&&it>0&&(je=new z.Hp({next:Oe=>Be.next(Oe),error:Oe=>{Te=!0,Ne(),De=ne(Ue,pe,Oe),Be.error(Oe)},complete:()=>{de=!0,Ne(),De=ne(Ue,j),Be.complete()}}),(0,h.Xf)(ve).subscribe(je))})(Z)}}function ne(ge,ye,...pe){if(!0===ye)return void ge();if(!1===ye)return;const j=new z.Hp({next:()=>{j.unsubscribe(),ge()}});return(0,h.Xf)(ye(...pe)).subscribe(j)}},9468:(vt,Ce,O)=>{O.d(Ce,{R:()=>V});var h=O(4482);function V(z,ie=0){return(0,h.e)((te,ne)=>{ne.add(z.schedule(()=>te.subscribe(ne),ie))})}},8505:(vt,Ce,O)=>{O.d(Ce,{b:()=>te});var h=O(576),V=O(4482),z=O(5403),ie=O(4671);function te(ne,ge,ye){const pe=(0,h.m)(ne)||ge||ye?{next:ne,error:ge,complete:ye}:ne;return pe?(0,V.e)((j,B)=>{var Z;null===(Z=pe.subscribe)||void 0===Z||Z.call(pe);let je=!0;j.subscribe((0,z.x)(B,De=>{var qe;null===(qe=pe.next)||void 0===qe||qe.call(pe,De),B.next(De)},()=>{var De;je=!1,null===(De=pe.complete)||void 0===De||De.call(pe),B.complete()},De=>{var qe;je=!1,null===(qe=pe.error)||void 0===qe||qe.call(pe,De),B.error(De)},()=>{var De,qe;je&&(null===(De=pe.unsubscribe)||void 0===De||De.call(pe)),null===(qe=pe.finalize)||void 0===qe||qe.call(pe)}))}):ie.y}},4408:(vt,Ce,O)=>{O.d(Ce,{o:()=>te});var h=O(727);class V extends h.w0{constructor(ge,ye){super()}schedule(ge,ye=0){return this}}const z={setInterval(ne,ge,...ye){const{delegate:pe}=z;return pe?.setInterval?pe.setInterval(ne,ge,...ye):setInterval(ne,ge,...ye)},clearInterval(ne){const{delegate:ge}=z;return(ge?.clearInterval||clearInterval)(ne)},delegate:void 0};var ie=O(8737);class te extends V{constructor(ge,ye){super(ge,ye),this.scheduler=ge,this.work=ye,this.pending=!1}schedule(ge,ye=0){var pe;if(this.closed)return this;this.state=ge;const j=this.id,B=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(B,j,ye)),this.pending=!0,this.delay=ye,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(B,this.id,ye),this}requestAsyncId(ge,ye,pe=0){return z.setInterval(ge.flush.bind(ge,this),pe)}recycleAsyncId(ge,ye,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ye;null!=ye&&z.clearInterval(ye)}execute(ge,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ge,ye);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,ye){let j,pe=!1;try{this.work(ge)}catch(B){pe=!0,j=B||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ge,scheduler:ye}=this,{actions:pe}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(pe,this),null!=ge&&(this.id=this.recycleAsyncId(ye,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Ce,O)=>{O.d(Ce,{v:()=>z});var h=O(6063);class V{constructor(te,ne=V.now){this.schedulerActionCtor=te,this.now=ne}schedule(te,ne=0,ge){return new this.schedulerActionCtor(this,te).schedule(ge,ne)}}V.now=h.l.now;class z extends V{constructor(te,ne=V.now){super(te,ne),this.actions=[],this._active=!1}flush(te){const{actions:ne}=this;if(this._active)return void ne.push(te);let ge;this._active=!0;do{if(ge=te.execute(te.state,te.delay))break}while(te=ne.shift());if(this._active=!1,ge){for(;te=ne.shift();)te.unsubscribe();throw ge}}}},4986:(vt,Ce,O)=>{O.d(Ce,{z:()=>z});var h=O(4408);const z=new(O(7565).v)(h.o)},6063:(vt,Ce,O)=>{O.d(Ce,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(vt,Ce,O)=>{O.d(Ce,{z:()=>h});const h={setTimeout(V,z,...ie){const{delegate:te}=h;return te?.setTimeout?te.setTimeout(V,z,...ie):setTimeout(V,z,...ie)},clearTimeout(V){const{delegate:z}=h;return(z?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(vt,Ce,O)=>{O.d(Ce,{h:()=>V});const V=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ce,O)=>{O.d(Ce,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(vt,Ce,O)=>{O.d(Ce,{_6:()=>ne,jO:()=>ie,yG:()=>te});var h=O(576);function z(ge){return ge[ge.length-1]}function ie(ge){return(0,h.m)(z(ge))?ge.pop():void 0}function te(ge){return function V(ge){return ge&&(0,h.m)(ge.schedule)}(z(ge))?ge.pop():void 0}function ne(ge,ye){return"number"==typeof z(ge)?ge.pop():ye}},8737:(vt,Ce,O)=>{function h(V,z){if(V){const ie=V.indexOf(z);0<=ie&&V.splice(ie,1)}}O.d(Ce,{P:()=>h})},3888:(vt,Ce,O)=>{function h(V){const ie=V(te=>{Error.call(te),te.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}O.d(Ce,{d:()=>h})},2806:(vt,Ce,O)=>{O.d(Ce,{O:()=>ie,x:()=>z});var h=O(2416);let V=null;function z(te){if(h.v.useDeprecatedSynchronousErrorHandling){const ne=!V;if(ne&&(V={errorThrown:!1,error:null}),te(),ne){const{errorThrown:ge,error:ye}=V;if(V=null,ge)throw ye}}else te()}function ie(te){h.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=te)}},9672:(vt,Ce,O)=>{function h(V,z,ie,te=0,ne=!1){const ge=z.schedule(function(){ie(),ne?V.add(this.schedule(null,te)):this.unsubscribe()},te);if(V.add(ge),!ne)return ge}O.d(Ce,{f:()=>h})},4671:(vt,Ce,O)=>{function h(V){return V}O.d(Ce,{y:()=>h})},1144:(vt,Ce,O)=>{O.d(Ce,{z:()=>h});const h=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(vt,Ce,O)=>{O.d(Ce,{D:()=>V});var h=O(576);function V(z){return Symbol.asyncIterator&&(0,h.m)(z?.[Symbol.asyncIterator])}},576:(vt,Ce,O)=>{function h(V){return"function"==typeof V}O.d(Ce,{m:()=>h})},3670:(vt,Ce,O)=>{O.d(Ce,{c:()=>z});var h=O(8822),V=O(576);function z(ie){return(0,V.m)(ie[h.L])}},6495:(vt,Ce,O)=>{O.d(Ce,{T:()=>z});var h=O(2202),V=O(576);function z(ie){return(0,V.m)(ie?.[h.h])}},8239:(vt,Ce,O)=>{O.d(Ce,{t:()=>V});var h=O(576);function V(z){return(0,h.m)(z?.then)}},3260:(vt,Ce,O)=>{O.d(Ce,{L:()=>ie,Q:()=>z});var h=O(655),V=O(576);function z(te){return(0,h.FC)(this,arguments,function*(){const ge=te.getReader();try{for(;;){const{value:ye,done:pe}=yield(0,h.qq)(ge.read());if(pe)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ye)}}finally{ge.releaseLock()}})}function ie(te){return(0,V.m)(te?.getReader)}},4482:(vt,Ce,O)=>{O.d(Ce,{A:()=>V,e:()=>z});var h=O(576);function V(ie){return(0,h.m)(ie?.lift)}function z(ie){return te=>{if(V(te))return te.lift(function(ne){try{return ie(ne,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(vt,Ce,O)=>{O.d(Ce,{U:()=>z,z:()=>V});var h=O(4671);function V(...ie){return z(ie)}function z(ie){return 0===ie.length?h.y:1===ie.length?ie[0]:function(ne){return ie.reduce((ge,ye)=>ye(ge),ne)}}},7849:(vt,Ce,O)=>{O.d(Ce,{h:()=>z});var h=O(2416),V=O(3410);function z(ie){V.z.setTimeout(()=>{const{onUnhandledError:te}=h.v;if(!te)throw ie;te(ie)})}},4532:(vt,Ce,O)=>{function h(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ce,{z:()=>h})},655:(vt,Ce,O)=>{function ie(ue,he){var Ie={};for(var Se in ue)Object.prototype.hasOwnProperty.call(ue,Se)&&he.indexOf(Se)<0&&(Ie[Se]=ue[Se]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(Se=Object.getOwnPropertySymbols(ue);Ge<Se.length;Ge++)he.indexOf(Se[Ge])<0&&Object.prototype.propertyIsEnumerable.call(ue,Se[Ge])&&(Ie[Se[Ge]]=ue[Se[Ge]])}return Ie}function Z(ue,he,Ie,Se){return new(Ie||(Ie=Promise))(function(ke,Me){function lt(_t){try{gt(Se.next(_t))}catch(Jt){Me(Jt)}}function wn(_t){try{gt(Se.throw(_t))}catch(Jt){Me(Jt)}}function gt(_t){_t.done?ke(_t.value):function Ge(ke){return ke instanceof Ie?ke:new Ie(function(Me){Me(ke)})}(_t.value).then(lt,wn)}gt((Se=Se.apply(ue,he||[])).next())})}function Ee(ue){return this instanceof Ee?(this.v=ue,this):new Ee(ue)}function ve(ue,he,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,Se=Ie.apply(ue,he||[]),ke=[];return Ge={},Me("next"),Me("throw"),Me("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function Me(an){Se[an]&&(Ge[an]=function(gn){return new Promise(function(Vr,Hn){ke.push([an,gn,Vr,Hn])>1||lt(an,gn)})})}function lt(an,gn){try{!function wn(an){an.value instanceof Ee?Promise.resolve(an.value.v).then(gt,_t):Jt(ke[0][2],an)}(Se[an](gn))}catch(Vr){Jt(ke[0][3],Vr)}}function gt(an){lt("next",an)}function _t(an){lt("throw",an)}function Jt(an,gn){an(gn),ke.shift(),ke.length&&lt(ke[0][0],ke[0][1])}}function Be(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,he=ue[Symbol.asyncIterator];return he?he.call(ue):(ue=function it(ue){var he="function"==typeof Symbol&&Symbol.iterator,Ie=he&&ue[he],Se=0;if(Ie)return Ie.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Se>=ue.length&&(ue=void 0),{value:ue&&ue[Se++],done:!ue}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Ie={},Se("next"),Se("throw"),Se("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Se(ke){Ie[ke]=ue[ke]&&function(Me){return new Promise(function(lt,wn){!function Ge(ke,Me,lt,wn){Promise.resolve(wn).then(function(gt){ke({value:gt,done:lt})},Me)}(lt,wn,(Me=ue[ke](Me)).done,Me.value)})}}}O.d(Ce,{FC:()=>ve,KL:()=>Be,_T:()=>ie,mG:()=>Z,qq:()=>Ee})},4650:(vt,Ce,O)=>{O.d(Ce,{$8M:()=>Da,$WT:()=>vr,$Z:()=>yw,AFp:()=>jf,ALo:()=>Y_,AaK:()=>ye,CHM:()=>dc,CRH:()=>VT,CZH:()=>zu,CqO:()=>pg,D6c:()=>On,DdM:()=>Z_,EJc:()=>iv,EpF:()=>Kw,F4k:()=>n_,FYo:()=>by,FiY:()=>io,GfV:()=>Y0,Gpc:()=>B,JOm:()=>Ct,KtG:()=>fa,LFG:()=>en,LSH:()=>fy,Lbi:()=>Zd,Lck:()=>_T,MAs:()=>qw,MMx:()=>G_,MR2:()=>wC,NdJ:()=>gg,OlP:()=>Qt,Oqu:()=>p_,P3R:()=>$0,PXZ:()=>lS,Q6J:()=>Xy,QGY:()=>t_,Qsj:()=>AC,R0b:()=>ls,RDi:()=>sC,Rgc:()=>Gg,SBq:()=>Ad,Sil:()=>wI,Suo:()=>LT,TTD:()=>Ol,TgZ:()=>lg,X6Q:()=>tm,XFs:()=>dt,Xpm:()=>li,Xts:()=>gy,Y36:()=>Pd,YKP:()=>j_,YNc:()=>vf,Yjl:()=>$t,Yz7:()=>_t,Z0I:()=>Vr,ZZ4:()=>bv,_Bn:()=>$_,_UZ:()=>dg,_Vd:()=>Sd,_c5:()=>um,_uU:()=>cE,aQg:()=>am,c2e:()=>mI,cJS:()=>an,cg1:()=>Tg,dDg:()=>pv,dqk:()=>un,eFA:()=>Qd,eJc:()=>sI,ekj:()=>Df,eoX:()=>gv,f3M:()=>Ln,g9A:()=>pI,h0i:()=>Gd,hGG:()=>kI,hij:()=>Dg,iGM:()=>FT,ifc:()=>fe,ip1:()=>hI,jDz:()=>VE,kL8:()=>EE,lG2:()=>St,lcZ:()=>xT,lqb:()=>Kc,lri:()=>hv,n5z:()=>Dc,oAB:()=>X,oxw:()=>_g,q4F:()=>Q0,qLn:()=>tf,qOj:()=>ig,qZA:()=>Vu,rWj:()=>fv,s9C:()=>wf,sBO:()=>fS,s_b:()=>Wg,soG:()=>Hf,tb:()=>Wf,tp0:()=>It,uIk:()=>$a,vHH:()=>de,vpe:()=>ea,wAp:()=>Mt,xp6:()=>uw,z2F:()=>Gu,zSh:()=>Ru,zs3:()=>xd});var h=O(7579),V=O(727),z=O(9751),ie=O(6451),te=O(3099);function ne(s){for(let o in s)if(s[o]===ne)return o;throw Error("Could not find renamed property on target object.")}function ge(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=ne({__forward_ref__:ne});function B(s){return s.__forward_ref__=B,s.toString=function(){return ye(this())},s}function Z(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===B}function De(s){return s&&!!s.\u0275providers}const it="https://g.co/ng/security#xss";class de extends Error{constructor(o,a){super(Te(o,a)),this.code=o}}function Te(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Ne(s){return"string"==typeof s?s:null==s?"":String(s)}function Be(s,o){throw new de(-201,!1)}function ke(s,o){null==s&&function Me(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function _t(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function an(s){return{providers:s.providers||[],imports:s.imports||[]}}function gn(s){return Hn(s,Vi)||Hn(s,ra)}function Vr(s){return null!==gn(s)}function Hn(s,o){return s.hasOwnProperty(o)?s[o]:null}function _r(s){return s&&(s.hasOwnProperty(ps)||s.hasOwnProperty(dr))?s[ps]:null}const Vi=ne({\u0275prov:ne}),ps=ne({\u0275inj:ne}),ra=ne({ngInjectableDef:ne}),dr=ne({ngInjectorDef:ne});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let gs;function tr(s){const o=gs;return gs=s,o}function Ur(s,o,a){const l=gn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&dt.Optional?null:void 0!==o?o:void Be(ye(s))}const un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ai={},Br="__NG_DI_FLAG__",kn="ngTempTokenPath",ui="ngTokenPath",Fn=/\n/gm,br="\u0275",pn="__source";let ms;function Yt(s){const o=ms;return ms=s,o}function ci(s,o=dt.Default){if(void 0===ms)throw new de(-203,!1);return null===ms?Ur(s,void 0,o):ms.get(s,o&dt.Optional?null:void 0,o)}function en(s,o=dt.Default){return(function Qa(){return gs}()||ci)(Z(s),o)}function Ln(s,o=dt.Default){return en(s,$r(o))}function $r(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function zn(s){const o=[];for(let a=0;a<s.length;a++){const l=Z(s[a]);if(Array.isArray(l)){if(0===l.length)throw new de(900,!1);let d,p=dt.Default;for(let y=0;y<l.length;y++){const I=l[y],b=jr(I);"number"==typeof b?-1===b?d=I.token:p|=b:d=I}o.push(en(d,p))}else o.push(en(l))}return o}function Si(s,o){return s[Br]=o,s.prototype[Br]=o,s}function jr(s){return s[Br]}function F(s){return{toString:s}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),fe=(()=>{return(s=fe||(fe={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",fe;var s})();const J={},Pe=[],Tt=ne({\u0275cmp:ne}),nn=ne({\u0275dir:ne}),Vn=ne({\u0275pipe:ne}),fn=ne({\u0275mod:ne}),mn=ne({\u0275fac:ne}),Wt=ne({__NG_ELEMENT_ID__:ne});let Sr=0;function li(s){return F(()=>{const o=Ja(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||fe.Emulated,id:"c"+Sr++,styles:s.styles||Pe,_:null,schemas:s.schemas||null,tView:null};_h(a);const l=s.dependencies;return a.directiveDefs=ys(l,!1),a.pipeDefs=ys(l,!0),a})}function Co(s){return mt(s)||rn(s)}function ce(s){return null!==s}function X(s){return F(()=>({type:s.type,bootstrap:s.bootstrap||Pe,declarations:s.declarations||Pe,imports:s.imports||Pe,exports:s.exports||Pe,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ft(s,o){if(null==s)return J;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,o&&(o[d]=p)}return a}function St(s){return F(()=>{const o=Ja(s);return _h(o),o})}function $t(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function mt(s){return s[Tt]||null}function rn(s){return s[nn]||null}function Kt(s){return s[Vn]||null}function vr(s){const o=mt(s)||rn(s)||Kt(s);return null!==o&&o.standalone}function nr(s,o){const a=s[fn]||null;if(!a&&!0===o)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return a}function Ja(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Pe,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ft(s.inputs,o),outputs:ft(s.outputs)}}function _h(s){s.features?.forEach(o=>o(s))}function ys(s,o){if(!s)return null;const a=o?Kt:Co;return()=>("function"==typeof s?s():s).map(l=>a(l)).filter(ce)}const rr=0,Ze=1,Bt=2,yn=3,sn=4,_s=5,ir=6,Hs=7,Tn=8,ia=9,Ui=10,Lt=11,Xa=12,di=13,sa=14,vs=15,Gn=16,zs=17,Gs=18,Xr=19,Bi=20,wr=21,hn=22,oc=1,oa=2,bo=7,ws=8,ts=9,hr=10;function Ar(s){return Array.isArray(s)&&"object"==typeof s[oc]}function Ai(s){return Array.isArray(s)&&!0===s[oc]}function qs(s){return 0!=(4&s.flags)}function eu(s){return s.componentOffset>-1}function aa(s){return 1==(1&s.flags)}function Hr(s){return!!s.template}function Es(s){return 0!=(256&s[Bt])}function ns(s,o){return s.hasOwnProperty(mn)?s[mn]:null}class Pl{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ol(){return tu}function tu(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ds),Ch}function Ch(){const s=nu(this),o=s?.current;if(o){const a=s.previous;if(a===J)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Ds(s,o,a,l){const d=this.declaredInputs[a],p=nu(s)||function kl(s,o){return s[ac]=o}(s,{previous:J,current:null}),y=p.current||(p.current={}),I=p.previous,b=I[d];y[d]=new Pl(b&&b.currentValue,o,I===J),s[l]=o}Ol.ngInherit=!0;const ac="__ngSimpleChanges__";function nu(s){return s[ac]||null}const En=function(s,o,a){};function qn(s){for(;Array.isArray(s);)s=s[rr];return s}function Ys(s,o){return qn(o[s])}function fr(s,o){return qn(o[s.index])}function iu(s,o){return s.data[o]}function Mr(s,o){return s[o]}function sr(s,o){const a=o[s];return Ar(a)?a:a[rr]}function Cs(s){return 64==(64&s[Bt])}function rs(s,o){return null==o?null:s[o]}function ha(s){s[Gs]=0}function Mo(s,o){s[_s]+=o;let a=s,l=s[yn];for(;null!==l&&(1===o&&1===a[_s]||-1===o&&0===a[_s]);)l[_s]+=o,a=l,l=l[yn]}const Nt={lFrame:ga(null),bindingsEnabled:!0};function Ll(){return Nt.bindingsEnabled}function le(){return Nt.lFrame.lView}function Pt(){return Nt.lFrame.tView}function dc(s){return Nt.lFrame.contextLView=s,s[Tn]}function fa(s){return Nt.lFrame.contextLView=null,s}function xn(){let s=Ul();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ul(){return Nt.lFrame.currentTNode}function fi(s,o){const a=Nt.lFrame;a.currentTNode=s,a.isParent=o}function ou(){return Nt.lFrame.isParent}function pr(){const s=Nt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function is(){return Nt.lFrame.bindingIndex++}function Hl(s,o){const a=Nt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Rn(o)}function Rn(s){Nt.lFrame.currentDirectiveIndex=s}function pa(){return Nt.lFrame.currentQueryIndex}function zl(s){Nt.lFrame.currentQueryIndex=s}function uu(s){const o=s[Ze];return 2===o.type?o.declTNode:1===o.type?s[ir]:null}function Gl(s,o,a){if(a&dt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&dt.Host||(d=uu(p),null===d||(p=p[vs],10&d.type))););if(null===d)return!1;o=d,s=p}const l=Nt.lFrame=hc();return l.currentTNode=o,l.lView=s,!0}function No(s){const o=hc(),a=s[Ze];Nt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function hc(){const s=Nt.lFrame,o=null===s?null:s.child;return null===o?ga(s):o}function ga(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function fc(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const cu=fc;function ql(){const s=fc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Er(){return Nt.lFrame.selectedIndex}function Hi(s){Nt.lFrame.selectedIndex=s}function _n(){const s=Nt.lFrame;return iu(s.tView,s.selectedIndex)}function lu(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:R}=p;y&&(s.contentHooks??(s.contentHooks=[])).push(-a,y),I&&((s.contentHooks??(s.contentHooks=[])).push(a,I),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,I)),b&&(s.viewHooks??(s.viewHooks=[])).push(-a,b),S&&((s.viewHooks??(s.viewHooks=[])).push(a,S),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,S)),null!=R&&(s.destroyHooks??(s.destroyHooks=[])).push(a,R)}}function mc(s,o,a){ma(s,o,3,a)}function Yl(s,o,a,l){(3&s[Bt])===a&&ma(s,o,a,l)}function Ql(s,o){let a=s[Bt];(3&a)===o&&(a&=2047,a+=1,s[Bt]=a)}function ma(s,o,a,l){const p=l??-1,y=o.length-1;let I=0;for(let b=void 0!==l?65535&s[Gs]:0;b<y;b++)if("number"==typeof o[b+1]){if(I=o[b],null!=l&&I>=l)break}else o[b]<0&&(s[Gs]+=65536),(I<p||-1==p)&&(Oo(s,a,o,b),s[Gs]=(4294901760&s[Gs])+b+2),b++}function Oo(s,o,a,l){const d=a[l]<0,p=a[l+1],I=s[d?-a[l]:a[l]];if(d){if(s[Bt]>>11<s[Gs]>>16&&(3&s[Bt])===o){s[Bt]+=2048,En(4,I,p);try{p.call(I)}finally{En(5,I,p)}}}else{En(4,I,p);try{p.call(I)}finally{En(5,I,p)}}}const ya=-1;class ss{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function ko(s,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],y=a[l++],I=a[l++];s.setAttribute(o,y,I,p)}else{const p=d,y=a[++l];Ss(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),l++}}return l}function Xl(s){return 3===s||4===s||6===s}function Ss(s){return 64===s.charCodeAt(0)}function Js(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Fo(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Fo(s,o,a,l,d){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const I=s[p++];if("number"==typeof I){if(I===o){y=-1;break}if(I>o){y=p-1;break}}}for(;p<s.length;){const I=s[p];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==d&&(s[p+1]=d));if(l===s[p+1])return void(s[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==d&&s.splice(p++,0,d)}function Xs(s){return s!==ya}function Lo(s){return 32767&s}function wa(s,o){let a=function va(s){return s>>16}(s),l=o;for(;a>0;)l=l[vs],a--;return l}let _c=!0;function Ea(s){const o=_c;return _c=s,o}const vc=255,fu=5;let wc=0;const Gr={};function Ec(s,o){const a=td(s,o);if(-1!==a)return a;const l=o[Ze];l.firstCreatePass&&(s.injectorIndex=o.length,zi(l.data,s),zi(o,null),zi(l.blueprint,null));const d=Nn(s,o),p=s.injectorIndex;if(Xs(d)){const y=Lo(d),I=wa(d,o),b=I[Ze].data;for(let S=0;S<8;S++)o[p+S]=I[y+S]|b[y+S]}return o[p+8]=d,p}function zi(s,o){s.push(0,0,0,0,0,0,0,0,o)}function td(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Nn(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=eo(d),null===l)return ya;if(a++,d=d[vs],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return ya}function As(s,o,a){!function ed(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Wt)&&(l=a[Wt]),null==l&&(l=a[Wt]=wc++);const d=l&vc;o.data[s+(d>>fu)]|=1<<d}(s,o,a)}function nd(s,o,a){if(a&dt.Optional||void 0!==s)return s;Be()}function Ia(s,o,a,l){if(a&dt.Optional&&void 0===l&&(l=null),!(a&(dt.Self|dt.Host))){const d=s[ia],p=tr(void 0);try{return d?d.get(o,l,a&dt.Optional):Ur(o,l,a&dt.Optional)}finally{tr(p)}}return nd(l,0,a)}function rd(s,o,a,l=dt.Default,d){if(null!==s){if(1024&o[Bt]){const y=function xh(s,o,a,l,d){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[Bt]&&!(256&y[Bt]);){const I=gu(p,y,a,l|dt.Self,Gr);if(I!==Gr)return I;let b=p.parent;if(!b){const S=y[wr];if(S){const R=S.get(a,Gr,l);if(R!==Gr)return R}b=eo(y),y=y[vs]}p=b}return d}(s,o,a,l,Gr);if(y!==Gr)return y}const p=gu(s,o,a,l,Gr);if(p!==Gr)return p}return Ia(o,a,l,d)}function gu(s,o,a,l,d){const p=function Mh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Wt)?s[Wt]:void 0;return"number"==typeof o?o>=0?o&vc:Ic:o}(a);if("function"==typeof p){if(!Gl(o,s,l))return l&dt.Host?nd(d,0,l):Ia(o,a,l,d);try{const y=p(l);if(null!=y||l&dt.Optional)return y;Be()}finally{cu()}}else if("number"==typeof p){let y=null,I=td(s,o),b=ya,S=l&dt.Host?o[Gn][ir]:null;for((-1===I||l&dt.SkipSelf)&&(b=-1===I?Nn(s,o):o[I+8],b!==ya&&mu(l,!1)?(y=o[Ze],I=Lo(b),o=wa(b,o)):I=-1);-1!==I;){const R=o[Ze];if(Ms(p,I,R.data)){const k=Wn(I,o,a,y,l,S);if(k!==Gr)return k}b=o[I+8],b!==ya&&mu(l,o[Ze].data[I+8]===S)&&Ms(p,I,o)?(y=R,I=Lo(b),o=wa(b,o)):I=-1}}return d}function Wn(s,o,a,l,d,p){const y=o[Ze],I=y.data[s+8],R=Vo(I,y,a,null==l?eu(I)&&_c:l!=y&&0!=(3&I.type),d&dt.Host&&p===I);return null!==R?In(o,y,R,I):Gr}function Vo(s,o,a,l,d){const p=s.providerIndexes,y=o.data,I=1048575&p,b=s.directiveStart,R=p>>20,G=d?I+R:s.directiveEnd;for(let Q=l?I:I+R;Q<G;Q++){const me=y[Q];if(Q<b&&a===me||Q>=b&&me.type===a)return Q}if(d){const Q=y[b];if(Q&&Hr(Q)&&Q.type===a)return b}return null}function In(s,o,a,l){let d=s[a];const p=o.data;if(function xp(s){return s instanceof ss}(d)){const y=d;y.resolving&&function Ee(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new de(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ne(s)}(p[a]));const I=Ea(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?tr(y.injectImpl):null;Gl(s,l,dt.Default);try{d=s[a]=y.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Mp(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const y=tu(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,y)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==b&&tr(b),Ea(I),y.resolving=!1,cu()}}return d}function Ms(s,o,a){return!!(a[o+(s>>fu)]&1<<s)}function mu(s,o){return!(s&dt.Self||s&dt.Host&&o)}class Uo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return rd(this._tNode,this._lView,o,$r(l),a)}}function Ic(){return new Uo(xn(),le())}function Dc(s){return F(()=>{const o=s.prototype.constructor,a=o[mn]||xs(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const p=d[mn]||xs(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function xs(s){return je(s)?()=>{const o=xs(Z(s));return o&&o()}:ns(s)}function eo(s){const o=s[Ze],a=o.type;return 2===a?o.declTNode:1===a?s[ir]:null}function Da(s){return function pu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(Xl(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(xn(),s)}const Bo="__parameters__";function no(s,o,a){return F(()=>{const l=function id(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const y=new d(...p);return I.annotation=y,I;function I(b,S,R){const k=b.hasOwnProperty(Bo)?b[Bo]:Object.defineProperty(b,Bo,{value:[]})[Bo];for(;k.length<=R;)k.push(null);return(k[R]=k[R]||[]).push(y),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Qt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=_t({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rs(s,o){s.forEach(a=>Array.isArray(a)?Rs(a,o):o(a))}function Mc(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ca(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function pi(s,o,a){let l=Mi(s,o);return l>=0?s[1|l]=a:(l=~l,function wu(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function tn(s,o){const a=Mi(s,o);if(a>=0)return s[1|a]}function Mi(s,o){return function gi(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const p=l+(d-l>>1),y=s[p<<a];if(o===y)return p<<a;y>o?d=p:l=p+1}return~(d<<a)}(s,o,1)}const io=Si(no("Optional"),8),It=Si(no("SkipSelf"),4);var Ct=(()=>((Ct=Ct||{})[Ct.Important=1]="Important",Ct[Ct.DashCase=2]="DashCase",Ct))();const Bc=new Map;let as=0;const $="__ngContext__";function W(s,o){Ar(o)?(s[$]=o[Bi],function fd(s){Bc.set(s[Bi],s)}(o)):s[$]=o}let ni;function Ir(s,o){return ni(s,o)}function gd(s){const o=s[yn];return Ai(o)?o[yn]:o}function Oa(s){return Lh(s[di])}function ka(s){return Lh(s[sn])}function Lh(s){for(;null!==s&&!Ai(s);)s=s[sn];return s}function qo(s,o,a,l,d){if(null!=l){let p,y=!1;Ai(l)?p=l:Ar(l)&&(y=!0,l=l[rr]);const I=qn(l);0===s&&null!==a?null==d?Wr(o,a,I):Vt(o,a,I,d||null,!0):1===s&&null!==a?Vt(o,a,I,d||null,!0):2===s?function ty(s,o,a){const l=us(s,o);l&&function Wo(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,I,y):3===s&&o.destroyNode(I),null!=p&&function zh(s,o,a,l,d){const p=a[bo];p!==qn(a)&&qo(o,s,l,p,d);for(let I=hr;I<a.length;I++){const b=a[I];Hh(b[Ze],b,s,o,l,p)}}(o,s,p,a,d)}}function Uh(s,o,a){return s.createElement(o,a)}function E(s,o){const a=s[ts],l=a.indexOf(o),d=o[yn];512&o[Bt]&&(o[Bt]&=-513,Mo(d,-1)),a.splice(l,1)}function M(s,o){if(s.length<=hr)return;const a=hr+o,l=s[a];if(l){const d=l[zs];null!==d&&d!==s&&E(d,l),o>0&&(s[a-1][sn]=l[sn]);const p=Ca(s,hr+o);!function Np(s,o){Hh(s,o,o[Lt],2,null,null),o[rr]=null,o[ir]=null}(l[Ze],l);const y=p[Xr];null!==y&&y.detachView(p[Ze]),l[yn]=null,l[sn]=null,l[Bt]&=-65}return l}function N(s,o){if(!(128&o[Bt])){const a=o[Lt];a.destroyNode&&Hh(s,o,a,3,null,null),function v(s){let o=s[di];if(!o)return K(s[Ze],s);for(;o;){let a=null;if(Ar(o))a=o[di];else{const l=o[hr];l&&(a=l)}if(!a){for(;o&&!o[sn]&&o!==s;)Ar(o)&&K(o[Ze],o),o=o[yn];null===o&&(o=s),Ar(o)&&K(o[Ze],o),a=o&&o[sn]}o=a}}(o)}}function K(s,o){if(!(128&o[Bt])){o[Bt]&=-65,o[Bt]|=128,function Ve(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof ss)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const I=d[p[y]],b=p[y+1];En(4,I,b);try{b.call(I)}finally{En(5,I,b)}}else{En(4,d,p);try{p.call(d)}finally{En(5,d,p)}}}}}(s,o),function se(s,o){const a=s.cleanup,l=o[Hs];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?l[d=y]():l[d=-y].unsubscribe(),p+=2}else{const y=l[d=a[p+1]];a[p].call(y)}if(null!==l){for(let p=d+1;p<l.length;p++)(0,l[p])();o[Hs]=null}}(s,o),1===o[Ze].type&&o[Lt].destroy();const a=o[zs];if(null!==a&&Ai(o[yn])){a!==o[yn]&&E(a,o);const l=o[Xr];null!==l&&l.detachView(s)}!function pd(s){Bc.delete(s[Bi])}(o)}}function We(s,o,a){return function yt(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[rr];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=s.data[l.directiveStart+d];if(p===fe.None||p===fe.Emulated)return null}return fr(l,a)}}(s,o.parent,a)}function Vt(s,o,a,l,d){s.insertBefore(o,a,l,d)}function Wr(s,o,a){s.appendChild(o,a)}function uo(s,o,a,l,d){null!==l?Vt(s,o,a,l,d):Wr(s,o,a)}function us(s,o){return s.parentNode(o)}let yd,iy,Pp,Ko=function Gc(s,o,a){return 40&s.type?fr(s,a):null};function Au(s,o,a,l){const d=We(s,l,o),p=o[Lt],I=function md(s,o,a){return Ko(s,o,a)}(l.parent||o[ir],l,o);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)uo(p,d,a[b],I,!1);else uo(p,d,a,I,!1);void 0!==yd&&yd(p,l,o,a,d)}function vd(s,o){if(null!==o){const a=o.type;if(3&a)return fr(o,s);if(4&a)return Zo(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return vd(s,l);{const d=s[o.index];return Ai(d)?Zo(-1,d):qn(d)}}if(32&a)return Ir(o,s)()||qn(s[o.index]);{const l=Mu(s,o);return null!==l?Array.isArray(l)?l[0]:vd(gd(s[Gn]),l):vd(s,o.next)}}return null}function Mu(s,o){return null!==o?s[Gn][ir].projection[o.projection]:null}function Zo(s,o){const a=hr+s+1;if(a<o.length){const l=o[a],d=l[Ze].firstChild;if(null!==d)return vd(l,d)}return o[bo]}function jh(s,o,a,l,d,p,y){for(;null!=a;){const I=l[a.index],b=a.type;if(y&&0===o&&(I&&W(qn(I),l),a.flags|=2),32!=(32&a.flags))if(8&b)jh(s,o,a.child,l,d,p,!1),qo(o,s,d,I,p);else if(32&b){const S=Ir(a,l);let R;for(;R=S();)qo(o,s,d,R,p);qo(o,s,d,I,p)}else 16&b?ny(s,o,l,a,d,p):qo(o,s,d,I,p);a=y?a.projectionNext:a.next}}function Hh(s,o,a,l,d,p){jh(a,l,s.firstChild,o,d,p,!1)}function ny(s,o,a,l,d,p){const y=a[Gn],b=y[ir].projection[l.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)qo(o,s,d,b[S],p);else jh(s,o,b,y[yn],d,p,!0)}function xu(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Gh(s,o,a){const{mergedAttrs:l,classes:d,styles:p}=a;null!==l&&ko(s,o,l),null!==d&&xu(s,o,d),null!==p&&function ry(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function sC(s){iy=s}function x0(s){return function sy(){if(void 0===Pp&&(Pp=null,un.trustedTypes))try{Pp=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Pp}()?.createScriptURL(s)||s}class R0{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}function Qo(s){return s instanceof R0?s.changingThisBreaksApplicationSecurity:s}function cs(s,o){const a=function Ed(s){return s instanceof R0&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${it})`)}return a===o}const k0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ar=(()=>((ar=ar||{})[ar.NONE=0]="NONE",ar[ar.HTML=1]="HTML",ar[ar.STYLE=2]="STYLE",ar[ar.SCRIPT=3]="SCRIPT",ar[ar.URL=4]="URL",ar[ar.RESOURCE_URL=5]="RESOURCE_URL",ar))();function fy(s){const o=Jh();return o?o.sanitize(ar.URL,s)||"":cs(s,"URL")?Qo(s):function Kh(s){return(s=String(s)).match(k0)?s:"unsafe:"+s}(Ne(s))}function Vp(s){const o=Jh();if(o)return x0(o.sanitize(ar.RESOURCE_URL,s)||"");if(cs(s,"ResourceURL"))return x0(Qo(s));throw new de(904,!1)}function $0(s,o,a){return function _C(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Vp:fy}(o,a)(s)}function Jh(){const s=le();return s&&s[Xa]}const gy=new Qt("ENVIRONMENT_INITIALIZER"),Wc=new Qt("INJECTOR",-1),Dd=new Qt("INJECTOR_DEF_TYPES");class j0{get(o,a=ai){if(a===ai){const l=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw l.name="NullInjectorError",l}return a}}function wC(s){return{\u0275providers:s}}function Xh(...s){return{\u0275providers:Cd(0,s),\u0275fromNgModule:!0}}function Cd(s,...o){const a=[],l=new Set;let d;return Rs(o,p=>{const y=p;my(y,a,[],l)&&(d||(d=[]),d.push(y))}),void 0!==d&&H0(d,a),a}function H0(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];yy(d,p=>{o.push(p)})}}function my(s,o,a,l){if(!(s=Z(s)))return!1;let d=null,p=_r(s);const y=!p&&mt(s);if(p||y){if(y&&!y.standalone)return!1;d=s}else{const b=s.ngModule;if(p=_r(b),!p)return!1;d=b}const I=l.has(d);if(y){if(I)return!1;if(l.add(d),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of b)my(S,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!I){let S;l.add(d);try{Rs(p.imports,R=>{my(R,o,a,l)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&H0(S,o)}if(!I){const S=ns(d)||(()=>new d);o.push({provide:d,useFactory:S,deps:Pe},{provide:Dd,useValue:d,multi:!0},{provide:gy,useValue:()=>en(d),multi:!0})}const b=p.providers;null==b||I||yy(b,R=>{o.push(R)})}}return d!==s&&void 0!==s.providers}function yy(s,o){for(let a of s)De(a)&&(a=a.\u0275providers),Array.isArray(a)?yy(a,o):o(a)}const EC=ne({provide:String,useValue:ne});function _y(s){return null!==s&&"object"==typeof s&&EC in s}function Fa(s){return"function"==typeof s}const Ru=new Qt("Set Injector scope."),Bp={},DC={};let vy;function $p(){return void 0===vy&&(vy=new j0),vy}class Kc{}class G0 extends Kc{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Td(o,y=>this.processProvider(y)),this.records.set(Wc,bd(void 0,this)),d.has("environment")&&this.records.set(Kc,bd(void 0,this));const p=this.records.get(Ru);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Dd.multi,Pe,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Yt(this),l=tr(void 0);try{return o()}finally{Yt(a),tr(l)}}get(o,a=ai,l=dt.Default){this.assertNotDestroyed(),l=$r(l);const d=Yt(this),p=tr(void 0);try{if(!(l&dt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const b=function Dy(s){return"function"==typeof s||"object"==typeof s&&s instanceof Qt}(o)&&gn(o);I=b&&this.injectableDefInScope(b)?bd(wy(o),Bp):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(l&dt.Self?$p():this.parent).get(o,a=l&dt.Optional&&a===ai?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[kn]=y[kn]||[]).unshift(ye(o)),d)throw y;return function Jr(s,o,a,l){const d=s[kn];throw o[pn]&&d.unshift(o[pn]),s.message=function U(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==br?s.slice(2):s;let d=ye(o);if(Array.isArray(o))d=o.map(ye).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let I=o[y];p.push(y+":"+("string"==typeof I?JSON.stringify(I):ye(I)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(Fn,"\n  ")}`}("\n"+s.message,d,a,l),s[ui]=d,s[kn]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{tr(p),Yt(d)}}resolveInjectorInitializers(){const o=Yt(this),a=tr(void 0);try{const l=this.get(gy.multi,Pe,dt.Self);for(const d of l)d()}finally{Yt(o),tr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ye(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(o){let a=Fa(o=Z(o))?o:Z(o&&o.provide);const l=function bC(s){return _y(s)?bd(void 0,s.useValue):bd(Ey(s),Bp)}(o);if(Fa(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=bd(void 0,Bp,!0),d.factory=()=>zn(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===Bp&&(a.value=DC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function q0(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Z(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function wy(s){const o=gn(s),a=null!==o?o.factory:ns(s);if(null!==a)return a;if(s instanceof Qt)throw new de(204,!1);if(s instanceof Function)return function CC(s){const o=s.length;if(o>0)throw function $o(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new de(204,!1);const a=function Qr(s){return s&&(s[Vi]||s[ra])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new de(204,!1)}function Ey(s,o,a){let l;if(Fa(s)){const d=Z(s);return ns(d)||wy(d)}if(_y(s))l=()=>Z(s.useValue);else if(function z0(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...zn(s.deps||[]));else if(function IC(s){return!(!s||!s.useExisting)}(s))l=()=>en(Z(s.useExisting));else{const d=Z(s&&(s.useClass||s.provide));if(!function Iy(s){return!!s.deps}(s))return ns(d)||wy(d);l=()=>new d(...zn(s.deps))}return l}function bd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Td(s,o){for(const a of s)Array.isArray(a)?Td(a,o):a&&De(a)?Td(a.\u0275providers,o):o(a)}class TC{}class W0{}class Z0{resolveComponentFactory(o){throw function SC(s){const o=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Sd=(()=>{class s{}return s.NULL=new Z0,s})();function jp(){return La(xn(),le())}function La(s,o){return new Ad(fr(s,o))}let Ad=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=jp,s})();function ef(s){return s instanceof Ad?s.nativeElement:s}class by{}let AC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function MC(){const s=le(),a=sr(xn().index,s);return(Ar(a)?a:s)[Lt]}(),s})(),xC=(()=>{class s{}return s.\u0275prov=_t({token:s,providedIn:"root",factory:()=>null}),s})();class Y0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Q0=new Y0("15.2.9"),Hp={},Ty="ngOriginalError";function Sy(s){return s[Ty]}class tf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Sy(o);for(;a&&Sy(a);)a=Sy(a);return a||null}}function Jo(s){return s instanceof Function?s():s}function rw(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||s.charCodeAt(d+p)<=32)return d}a=d+1}}const Ay="ng-template";function My(s,o,a){let l=0,d=!0;for(;l<s.length;){let p=s[l++];if("string"==typeof p&&d){const y=s[l++];if(a&&"class"===p&&-1!==rw(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<s.length&&"string"==typeof(p=s[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function xy(s){return 4===s.type&&s.value!==Ay}function Md(s,o,a){return o===(4!==s.type||a?s.value:Ay)}function Ry(s,o,a){let l=4;const d=s.attrs||[],p=function sw(s){for(let o=0;o<s.length;o++)if(Xl(s[o]))return o;return s.length}(d);let y=!1;for(let I=0;I<o.length;I++){const b=o[I];if("number"!=typeof b){if(!y)if(4&l){if(l=2|1&l,""!==b&&!Md(s,b,a)||""===b&&1===o.length){if(lo(l))return!1;y=!0}}else{const S=8&l?b:o[++I];if(8&l&&null!==s.attrs){if(!My(s.attrs,S,a)){if(lo(l))return!1;y=!0}continue}const k=iw(8&l?"class":b,d,xy(s),a);if(-1===k){if(lo(l))return!1;y=!0;continue}if(""!==S){let G;G=k>p?"":d[k+1].toLowerCase();const Q=8&l?G:null;if(Q&&-1!==rw(Q,S,0)||2&l&&S!==G){if(lo(l))return!1;y=!0}}}}else{if(!y&&!lo(l)&&!lo(b))return!1;if(y&&lo(b))continue;y=!1,l=b|1&l}}return lo(l)||y}function lo(s){return 0==(1&s)}function iw(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===s)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let I=o[++d];for(;"string"==typeof I;)I=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function ow(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function rf(s,o,a=!1){for(let l=0;l<o.length;l++)if(Ry(s,o[l],a))return!0;return!1}function aw(s,o){return s?":not("+o.trim()+")":o}function VC(s){let o=s[0],a=1,l=2,d="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&l){const I=s[++a];d+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!lo(y)&&(o+=aw(p,d),d=""),l=y,p=p||!lo(l);a++}return""!==d&&(o+=aw(p,d)),o}const Ft={};function uw(s){cw(Pt(),le(),Er()+s,!1)}function cw(s,o,a,l){if(!l)if(3==(3&o[Bt])){const p=s.preOrderCheckHooks;null!==p&&mc(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Yl(o,p,0,a)}Hi(a)}function dw(s,o=null,a=null,l){const d=Ny(s,o,a,l);return d.resolveInjectorInitializers(),d}function Ny(s,o=null,a=null,l,d=new Set){const p=[a||Pe,Xh(s)];return l=l||("object"==typeof s?void 0:ye(s)),new G0(p,o||$p(),l||null,d)}let xd=(()=>{class s{static create(a,l){if(Array.isArray(a))return dw({name:""},l,a,"");{const d=a.name??"";return dw({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=ai,s.NULL=new j0,s.\u0275prov=_t({token:s,providedIn:"any",factory:()=>en(Wc)}),s.__NG_ELEMENT_ID__=-1,s})();function Pd(s,o=dt.Default){const a=le();return null===a?en(s,o):rd(xn(),a,Z(s),o)}function yw(){throw new Error("invalid")}function _w(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const y=s.data[p];zl(a[l]),y.contentQueries(2,o[p],p)}}}function Wp(s,o,a,l,d,p,y,I,b,S,R){const k=o.blueprint.slice();return k[rr]=d,k[Bt]=76|l,(null!==R||s&&1024&s[Bt])&&(k[Bt]|=1024),ha(k),k[yn]=k[vs]=s,k[Tn]=a,k[Ui]=y||s&&s[Ui],k[Lt]=I||s&&s[Lt],k[Xa]=b||s&&s[Xa]||null,k[ia]=S||s&&s[ia]||null,k[ir]=p,k[Bi]=function $c(){return as++}(),k[wr]=R,k[Gn]=2==o.type?s[Gn]:k,k}function lf(s,o,a,l,d){let p=s.data[o];if(null===p)p=function Ly(s,o,a,l,d){const p=Ul(),y=ou(),b=s.data[o]=function Nu(s,o,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=b),null!==p&&(y?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b,b.prev=p)),b}(s,o,a,l,d),function jl(){return Nt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const y=function xo(){const s=Nt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return fi(p,!0),p}function df(s,o,a,l){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function hf(s,o,a){No(o);try{const l=s.viewQuery;null!==l&&Hy(1,l,a);const d=s.template;null!==d&&Kp(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&_w(s,o),s.staticViewQueries&&Hy(2,s.viewQuery,a);const p=s.components;null!==p&&function vw(s,o){for(let a=0;a<o.length;a++)hb(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[Bt]&=-5,ql()}}function Yc(s,o,a,l){const d=o[Bt];if(128!=(128&d)){No(o);try{ha(o),function Ts(s){return Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Kp(s,o,a,2,l);const y=3==(3&d);if(y){const S=s.preOrderCheckHooks;null!==S&&mc(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Yl(o,S,0,null),Ql(o,0)}if(function lb(s){for(let o=Oa(s);null!==o;o=ka(o)){if(!o[oa])continue;const a=o[ts];for(let l=0;l<a.length;l++){const d=a[l];512&d[Bt]||Mo(d[yn],1),d[Bt]|=512}}}(o),function Dx(s){for(let o=Oa(s);null!==o;o=ka(o))for(let a=hr;a<o.length;a++){const l=o[a],d=l[Ze];Cs(l)&&Yc(d,l,d.template,l[Tn])}}(o),null!==s.contentQueries&&_w(s,o),y){const S=s.contentCheckHooks;null!==S&&mc(o,S)}else{const S=s.contentHooks;null!==S&&Yl(o,S,1),Ql(o,1)}!function tb(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Hi(~d);else{const p=d,y=a[++l],I=a[++l];Hl(y,p),I(2,o[p])}}}finally{Hi(-1)}}(s,o);const I=s.components;null!==I&&function nb(s,o){for(let a=0;a<o.length;a++)db(s,o[a])}(o,I);const b=s.viewQuery;if(null!==b&&Hy(2,b,l),y){const S=s.viewCheckHooks;null!==S&&mc(o,S)}else{const S=s.viewHooks;null!==S&&Yl(o,S,2),Ql(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Bt]&=-41,512&o[Bt]&&(o[Bt]&=-513,Mo(o[yn],-1))}finally{ql()}}}function Kp(s,o,a,l,d){const p=Er(),y=2&l;try{Hi(-1),y&&o.length>hn&&cw(s,o,hn,!1),En(y?2:0,d),a(l,d)}finally{Hi(p),En(y?3:1,d)}}function ho(s,o,a){if(qs(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function ww(s,o,a){Ll()&&(function Tw(s,o,a,l){const d=a.directiveStart,p=a.directiveEnd;eu(a)&&function Mw(s,o,a){const l=fr(o,s),d=Ew(a),p=s[Ui],y=eg(s,Wp(s,d,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=y}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||Ec(a,o),W(l,o);const y=a.initialInputs;for(let I=d;I<p;I++){const b=s.data[I],S=In(o,s,I,a);W(S,o),null!==y&&Ex(0,I-d,S,b,0,y),Hr(b)&&(sr(a.index,o)[Tn]=In(o,s,I,a))}}(s,o,a,fr(a,o)),64==(64&a.flags)&&Jp(s,o,a))}function Vy(s,o,a=fr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],I=-1===y?a(o,s):s[y];s[d++]=I}}}function Ew(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Uy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Uy(s,o,a,l,d,p,y,I,b,S){const R=hn+l,k=R+d,G=function rb(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Ft);return a}(R,k),Q="function"==typeof S?S():S;return G[Ze]={type:s,blueprint:G,template:a,queries:null,viewQuery:I,declTNode:o,data:G.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:Q,incompleteFirstPass:!1}}function ff(s,o,a,l){const d=Nw(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&zy(s).push(l,d.length-1))}function ib(s,o,a,l){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const p=s[d];null===l?Dw(a,o,d,p):l.hasOwnProperty(d)&&Dw(a,o,l[d],p)}return a}function Dw(s,o,a,l){s.hasOwnProperty(a)?s[a].push(o,l):s[a]=[o,l]}function qi(s,o,a,l,d,p,y,I){const b=fr(o,a);let R,S=o.inputs;!I&&null!=S&&(R=S[l])?(qy(s,a,R,l,d),eu(o)&&function bw(s,o){const a=sr(o,s);16&a[Bt]||(a[Bt]|=32)}(a,o.index)):3&o.type&&(l=function Cw(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=y?y(d,o.value||"",l):d,p.setProperty(b,l,d))}function Yn(s,o,a,l){if(Ll()){const d=null===l?null:{"":-1},p=function Aw(s,o){const a=s.directiveRegistry;let l=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(rf(o,y.selectors,!1))if(l||(l=[]),Hr(y))if(null!==y.findHostDirectiveDefs){const I=[];d=d||new Map,y.findHostDirectiveDefs(y,I,d),l.unshift(...I,y),$y(s,o,I.length)}else l.unshift(y),$y(s,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,l,d),l.push(y)}return null===l?null:[l,d]}(s,a);let y,I;null===p?y=I=null:[y,I]=p,null!==y&&Yp(s,o,a,y,d,I),d&&function ab(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new de(-301,!1);l.push(o[d],p)}}}(a,l,d)}a.mergedAttrs=Js(a.mergedAttrs,a.attrs)}function Yp(s,o,a,l,d,p){for(let S=0;S<l.length;S++)As(Ec(a,o),s,l[S].type);!function pf(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,l.length);for(let S=0;S<l.length;S++){const R=l[S];R.providersResolver&&R.providersResolver(R)}let y=!1,I=!1,b=df(s,o,l.length,null);for(let S=0;S<l.length;S++){const R=l[S];a.mergedAttrs=Js(a.mergedAttrs,R.hostAttrs),ub(s,a,o,b,R),jy(b,R,d),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const k=R.type.prototype;!y&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),y=!0),!I&&(k.ngOnChanges||k.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),I=!0),b++}!function sb(s,o,a){const d=o.directiveEnd,p=s.data,y=o.attrs,I=[];let b=null,S=null;for(let R=o.directiveStart;R<d;R++){const k=p[R],G=a?a.get(k):null,me=G?G.outputs:null;b=ib(k.inputs,R,b,G?G.inputs:null),S=ib(k.outputs,R,S,me);const $e=null===b||null===y||xy(o)?null:Ix(b,R,y);I.push($e)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=b,o.outputs=S}(s,a,p)}function Jp(s,o,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,y=function Sp(){return Nt.lFrame.currentDirectiveIndex}();try{Hi(p);for(let I=l;I<d;I++){const b=s.data[I],S=o[I];Rn(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Sw(b,S)}}finally{Hi(-1),Rn(y)}}function Sw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function $y(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function jy(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Hr(o)&&(a[""]=s)}}function ub(s,o,a,l,d){s.data[l]=d;const p=d.factory||(d.factory=ns(d.type)),y=new ss(p,Hr(d),Pd);s.blueprint[l]=y,a[l]=y,function By(s,o,a,l,d){const p=d.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const I=~o.index;(function Qp(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=I&&y.push(I),y.push(a,l,p)}}(s,o,l,df(s,a,d.hostVars,Ft),d)}function Va(s,o,a,l,d,p){const y=fr(s,o);!function xw(s,o,a,l,d,p,y){if(null==p)s.removeAttribute(o,d,a);else{const I=null==y?Ne(p):y(p,l||"",d);s.setAttribute(o,d,I,a)}}(o[Lt],y,p,s.value,a,l,d)}function Ex(s,o,a,l,d,p){const y=p[o];if(null!==y){const I=l.setInput;for(let b=0;b<y.length;){const S=y[b++],R=y[b++],k=y[b++];null!==I?l.setInput(a,k,S,R):a[R]=k}}}function Ix(s,o,a){let l=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===l&&(l=[]);const y=s[p];for(let I=0;I<y.length;I+=2)if(y[I]===o){l.push(p,y[I+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function cb(s,o,a,l){return[s,!0,!1,o,null,0,l,a,null,null]}function db(s,o){const a=sr(o,s);if(Cs(a)){const l=a[Ze];48&a[Bt]?Yc(l,a,l.template,a[Tn]):a[_s]>0&&Xp(a)}}function Xp(s){for(let l=Oa(s);null!==l;l=ka(l))for(let d=hr;d<l.length;d++){const p=l[d];if(Cs(p))if(512&p[Bt]){const y=p[Ze];Yc(y,p,y.template,p[Tn])}else p[_s]>0&&Xp(p)}const a=s[Ze].components;if(null!==a)for(let l=0;l<a.length;l++){const d=sr(a[l],s);Cs(d)&&d[_s]>0&&Xp(d)}}function hb(s,o){const a=sr(o,s),l=a[Ze];(function Cx(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),hf(l,a,a[Tn])}function eg(s,o){return s[di]?s[sa][sn]=o:s[di]=o,s[sa]=o,o}function tg(s){for(;s;){s[Bt]|=32;const o=gd(s);if(Es(s)&&!o)return s;s=o}return null}function gf(s,o,a,l=!0){const d=o[Ui];d.begin&&d.begin();try{Yc(s,o,s.template,a)}catch(y){throw l&&Pw(o,y),y}finally{d.end&&d.end()}}function Hy(s,o,a){zl(0),o(s,a)}function Nw(s){return s[Hs]||(s[Hs]=[])}function zy(s){return s.cleanup||(s.cleanup=[])}function Pw(s,o){const a=s[ia],l=a?a.get(tf,null):null;l&&l.handleError(o)}function qy(s,o,a,l,d){for(let p=0;p<a.length;){const y=a[p++],I=a[p++],b=o[y],S=s.data[y];null!==S.setInput?S.setInput(b,d,l,I):b[I]=d}}function Bn(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const I=o[y];"number"==typeof I?p=I:1==p?d=pe(d,I):2==p&&(l=pe(l,I+": "+o[++y]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}function Ua(s,o,a,l,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(qn(p)),Ai(p))for(let I=hr;I<p.length;I++){const b=p[I],S=b[Ze].firstChild;null!==S&&Ua(b[Ze],b,S,l)}const y=a.type;if(8&y)Ua(s,o,a.child,l);else if(32&y){const I=Ir(a,o);let b;for(;b=I();)l.push(b)}else if(16&y){const I=Mu(o,a);if(Array.isArray(I))l.push(...I);else{const b=gd(o[Gn]);Ua(b[Ze],b,I,l,!0)}}a=d?a.projectionNext:a.next}return l}class mf{get rootNodes(){const o=this._lView,a=o[Ze];return Ua(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(o){this._lView[Tn]=o}get destroyed(){return 128==(128&this._lView[Bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[yn];if(Ai(o)){const a=o[ws],l=a?a.indexOf(this):-1;l>-1&&(M(o,l),Ca(a,l))}this._attachedToViewContainer=!1}N(this._lView[Ze],this._lView)}onDestroy(o){ff(this._lView[Ze],this._lView,null,o)}markForCheck(){tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bt]&=-65}reattach(){this._lView[Bt]|=64}detectChanges(){gf(this._lView[Ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bh(s,o){Hh(s,o,o[Lt],2,null,null)}(this._lView[Ze],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=o}}class bx extends mf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;gf(o[Ze],o,o[Tn],!1)}checkNoChanges(){}get context(){return null}}class Wy extends Sd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=mt(o);return new ng(a,this.ngModule)}}function Ow(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Sx{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=$r(l);const d=this.injector.get(o,Hp,l);return d!==Hp||a===Hp?d:this.parentInjector.get(o,a,l)}}class ng extends W0{get inputs(){return Ow(this.componentDef.inputs)}get outputs(){return Ow(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function UC(s){return s.map(VC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){let p=(d=d||this.ngModule)instanceof Kc?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Sx(o,p):o,I=y.get(by,null);if(null===I)throw new de(407,!1);const b=y.get(xC,null),S=I.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",k=l?function Iw(s,o,a){return s.selectRootElement(o,a===fe.ShadowDom)}(S,l,this.componentDef.encapsulation):Uh(S,R,function Tx(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),G=this.componentDef.onPush?288:272,Q=Uy(0,null,null,1,0,null,null,null,null,null),me=Wp(null,Q,null,G,null,null,I,S,b,y,null);let $e,Ye;No(me);try{const ct=this.componentDef;let xt,be=null;ct.findHostDirectiveDefs?(xt=[],be=new Map,ct.findHostDirectiveDefs(ct,xt,be),xt.push(ct)):xt=[ct];const kt=function kw(s,o){const a=s[Ze],l=hn;return s[l]=o,lf(a,l,2,"#host",null)}(me,k),Mn=function Mx(s,o,a,l,d,p,y,I){const b=d[Ze];!function xx(s,o,a,l){for(const d of s)o.mergedAttrs=Js(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Bn(o,o.mergedAttrs,!0),null!==a&&Gh(l,a,o))}(l,s,o,y);const S=p.createRenderer(o,a),R=Wp(d,Ew(a),null,a.onPush?32:16,d[s.index],s,p,S,I||null,null,null);return b.firstCreatePass&&$y(b,s,l.length-1),eg(d,R),d[s.index]=R}(kt,k,ct,xt,me,I,S);Ye=iu(Q,hn),k&&function rg(s,o,a,l){if(l)ko(s,a,["ng-version",Q0.full]);else{const{attrs:d,classes:p}=function BC(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++l]):8===d&&a.push(p);else{if(!lo(d))break;d=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ko(s,a,d),p&&p.length>0&&xu(s,a,p.join(" "))}}(S,ct,k,l),void 0!==a&&function gb(s,o,a){const l=s.projection=[];for(let d=0;d<o.length;d++){const p=a[d];l.push(null!=p?Array.from(p):null)}}(Ye,this.ngContentSelectors,a),$e=function pb(s,o,a,l,d,p){const y=xn(),I=d[Ze],b=fr(y,d);Yp(I,d,y,a,null,l);for(let R=0;R<a.length;R++)W(In(d,I,y.directiveStart+R,y),d);Jp(I,d,y),b&&W(b,d);const S=In(d,I,y.directiveStart+y.componentOffset,y);if(s[Tn]=d[Tn]=S,null!==p)for(const R of p)R(S,o);return ho(I,y,s),S}(Mn,ct,xt,be,me,[mb]),hf(Q,me,null)}finally{ql()}return new Ax(this.componentType,$e,La(Ye,me),me,Ye)}}class Ax extends TC{constructor(o,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new bx(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const p=this._rootLView;qy(p[Ze],p,d,o,a),tg(sr(this._tNode.index,p))}}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function mb(){const s=xn();lu(le()[Ze],s)}function ig(s){let o=function Fw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Hr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new de(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const y=s;y.inputs=yf(s.inputs),y.declaredInputs=yf(s.declaredInputs),y.outputs=yf(s.outputs);const I=d.hostBindings;I&&Ou(s,I);const b=d.viewQuery,S=d.contentQueries;if(b&&An(s,b),S&&fo(s,S),ge(s.inputs,d.inputs),ge(s.declaredInputs,d.declaredInputs),ge(s.outputs,d.outputs),Hr(d)&&d.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const I=p[y];I&&I.ngInherit&&I(s),I===ig&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Lw(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Js(d.hostAttrs,a=Js(a,d.hostAttrs))}}(l)}function yf(s){return s===J?{}:s===Pe?[]:s}function An(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function fo(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,p)=>{o(l,d,p),a(l,d,p)}:o}function Ou(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}function Ky(s){return!!Zy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Zy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ba(s,o,a){return s[o]=a}function Fe(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function $a(s,o,a,l){const d=le();return Fe(d,is(),o)&&(Pt(),Va(_n(),d,s,o,a,l)),$a}function Qc(s,o,a,l){return Fe(s,is(),a)?o+Ne(a)+l:Ft}function vf(s,o,a,l,d,p,y,I){const b=le(),S=Pt(),R=s+hn,k=S.firstCreatePass?function ug(s,o,a,l,d,p,y,I,b){const S=o.consts,R=lf(o,s,4,y||null,rs(S,I));Yn(o,a,R,rs(S,b)),lu(o,R);const k=R.tView=Uy(2,R,l,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),k.queries=o.queries.embeddedTView(R)),R}(R,S,b,o,a,l,d,p,y):S.data[R];fi(k,!1);const G=b[Lt].createComment("");Au(S,b,G,k),W(G,b),eg(b,b[R]=cb(G,b,G,k)),aa(k)&&ww(S,b,k),null!=y&&Vy(b,k,I)}function qw(s){return Mr(function $l(){return Nt.lFrame.contextLView}(),hn+s)}function Xy(s,o,a){const l=le();return Fe(l,is(),o)&&qi(Pt(),_n(),l,s,o,l[Lt],a,!1),Xy}function cg(s,o,a,l,d){const y=d?"class":"style";qy(s,a,o.inputs[y],y,l)}function lg(s,o,a,l){const d=le(),p=Pt(),y=hn+s,I=d[Lt],b=p.firstCreatePass?function vb(s,o,a,l,d,p){const y=o.consts,b=lf(o,s,2,l,rs(y,d));return Yn(o,a,b,rs(y,p)),null!==b.attrs&&Bn(b,b.attrs,!1),null!==b.mergedAttrs&&Bn(b,b.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,b),b}(y,p,d,o,a,l):p.data[y],S=d[y]=Uh(I,o,function Zl(){return Nt.lFrame.currentNamespace}()),R=aa(b);return fi(b,!0),Gh(I,S,b),32!=(32&b.flags)&&Au(p,d,S,b),0===function uc(){return Nt.lFrame.elementDepthCount}()&&W(S,d),function cc(){Nt.lFrame.elementDepthCount++}(),R&&(ww(p,d,b),ho(p,b,d)),null!==l&&Vy(d,b),lg}function Vu(){let s=xn();ou()?function Bl(){Nt.lFrame.isParent=!1}():(s=s.parent,fi(s,!1));const o=s;!function lc(){Nt.lFrame.elementDepthCount--}();const a=Pt();return a.firstCreatePass&&(lu(a,s),qs(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function os(s){return 0!=(8&s.flags)}(o)&&cg(a,o,le(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function yc(s){return 0!=(16&s.flags)}(o)&&cg(a,o,le(),o.stylesWithoutHost,!1),Vu}function dg(s,o,a,l){return lg(s,o,a,l),Vu(),dg}function Kw(){return le()}function t_(s){return!!s&&"function"==typeof s.then}function n_(s){return!!s&&"function"==typeof s.subscribe}const pg=n_;function gg(s,o,a,l){const d=le(),p=Pt(),y=xn();return function Ud(s,o,a,l,d,p,y){const I=aa(l),S=s.firstCreatePass&&zy(s),R=o[Tn],k=Nw(o);let G=!0;if(3&l.type||y){const $e=fr(l,o),Ye=y?y($e):$e,ct=k.length,xt=y?kt=>y(qn(kt[l.index])):l.index;let be=null;if(!y&&I&&(be=function Zw(s,o,a,l){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===l){const I=o[Hs],b=d[p+2];return I.length>b?I[b]:null}"string"==typeof y&&(p+=2)}return null}(s,o,d,l.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=p,be.__ngLastListenerFn__=p,G=!1;else{p=yg(l,o,R,p,!1);const kt=a.listen(Ye,d,p);k.push(p,kt),S&&S.push(d,xt,ct,ct+1)}}else p=yg(l,o,R,p,!1);const Q=l.outputs;let me;if(G&&null!==Q&&(me=Q[d])){const $e=me.length;if($e)for(let Ye=0;Ye<$e;Ye+=2){const Mn=o[me[Ye]][me[Ye+1]].subscribe(p),cr=k.length;k.push(p,Mn),S&&S.push(d,l.index,cr,-(cr+1))}}}(p,d,d[Lt],y,s,o,l),gg}function Yw(s,o,a,l){try{return En(6,o,a),!1!==a(l)}catch(d){return Pw(s,d),!1}finally{En(7,o,a)}}function yg(s,o,a,l,d){return function p(y){if(y===Function)return l;tg(s.componentOffset>-1?sr(s.index,o):o);let b=Yw(o,a,l,y),S=p.__ngNextListenerFn__;for(;S;)b=Yw(o,a,S,y)&&b,S=S.__ngNextListenerFn__;return d&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function _g(s=1){return function pc(s){return(Nt.lFrame.contextLView=function Wl(s,o){for(;s>0;)o=o[vs],s--;return o}(s,Nt.lFrame.contextLView))[Tn]}(s)}function wf(s,o,a){return Ef(s,"",o,"",a),wf}function Ef(s,o,a,l,d){const p=le(),y=Qc(p,o,a,l);return y!==Ft&&qi(Pt(),_n(),p,s,y,p[Lt],d,!1),Ef}function Bd(s,o){return s<<17|o<<2}function Ha(s){return s>>17&32767}function Uu(s){return 2|s}function Bu(s){return(131068&s)>>2}function o_(s,o){return-131069&s|o<<2}function a_(s){return 1|s}function tE(s,o,a,l,d){const p=s[a+1],y=null===o;let I=l?Ha(p):Bu(p),b=!1;for(;0!==I&&(!1===b||y);){const R=s[I+1];bb(s[I],o)&&(b=!0,s[I+1]=l?a_(R):Uu(R)),I=l?Ha(R):Bu(R)}b&&(s[a+1]=l?Uu(p):a_(p))}function bb(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Mi(s,o)>=0}function Df(s,o){return function go(s,o,a,l){const d=le(),p=Pt(),y=function ji(s){const o=Nt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);p.firstUpdatePass&&function Cf(s,o,a,l){const d=s.data;if(null===d[a+1]){const p=d[Er()],y=function Ig(s,o){return o>=s.expandoStartIndex}(s,a);(function kb(s,o){return 0!=(s.flags&(o?8:16))})(p,l)&&null===o&&!y&&(o=!1),o=function $x(s,o,a,l){const d=function au(s){const o=Nt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=bf(a=uE(null,s,o,a,l),o.attrs,l),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==d)if(a=uE(d,s,o,a,l),null===p){let b=function h_(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Bu(l))return s[Ha(l)]}(s,o,l);void 0!==b&&Array.isArray(b)&&(b=uE(null,s,o,b[1],l),b=bf(b,o.attrs,l),function jx(s,o,a,l){s[Ha(a?o.classBindings:o.styleBindings)]=l}(s,o,l,b))}else p=function Mb(s,o,a){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=bf(l,s[p].hostAttrs,a);return bf(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,l),function Db(s,o,a,l,d,p){let y=p?o.classBindings:o.styleBindings,I=Ha(y),b=Bu(y);s[l]=a;let R,S=!1;if(Array.isArray(a)?(R=a[1],(null===R||Mi(a,R)>0)&&(S=!0)):R=a,d)if(0!==b){const G=Ha(s[I+1]);s[l+1]=Bd(G,I),0!==G&&(s[G+1]=o_(s[G+1],l)),s[I+1]=function eE(s,o){return 131071&s|o<<17}(s[I+1],l)}else s[l+1]=Bd(I,0),0!==I&&(s[I+1]=o_(s[I+1],l)),I=l;else s[l+1]=Bd(b,0),0===I?I=l:s[b+1]=o_(s[b+1],l),b=l;S&&(s[l+1]=Uu(s[l+1])),tE(s,R,l,!0),tE(s,R,l,!1),function Cb(s,o,a,l,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Mi(p,o)>=0&&(a[l+1]=a_(a[l+1]))}(o,R,s,l,p),y=Bd(I,b),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,l)}}(p,s,y,l),o!==Ft&&Fe(d,y,o)&&function Pb(s,o,a,l,d,p,y,I){if(!(3&o.type))return;const b=s.data,S=b[I+1],R=function Ib(s){return 1==(1&s)}(S)?Ob(b,o,a,d,Bu(S),y):void 0;f_(R)||(f_(p)||function Eb(s){return 2==(2&s)}(S)&&(p=Ob(b,null,a,d,I,y)),function Yo(s,o,a,l,d){if(o)d?s.addClass(a,l):s.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Ct.DashCase;null==d?s.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Ct.Important),s.setStyle(a,l,d,p))}}(l,y,Ys(Er(),a),d,p))}(p,p.data[Er()],d,d[Lt],s,d[y+1]=function zx(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ye(Qo(s)))),s}(o,a),l,y)}(s,o,null,!0),Df}function uE(s,o,a,l,d){let p=null;const y=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<y&&(p=o[I],l=bf(l,p.hostAttrs,d),p!==s);)I++;return null!==s&&(a.directiveStylingLast=I),l}function bf(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),pi(s,y,!!a||o[++p]))}return void 0===s?null:s}function Ob(s,o,a,l,d,p){const y=null===o;let I;for(;d>0;){const b=s[d],S=Array.isArray(b),R=S?b[1]:b,k=null===R;let G=a[d+1];G===Ft&&(G=k?Pe:void 0);let Q=k?tn(G,l):R===l?G:void 0;if(S&&!f_(Q)&&(Q=tn(b,l)),f_(Q)&&(I=Q,y))return I;const me=s[d+1];d=y?Ha(me):Bu(me)}if(null!==o){let b=p?o.residualClasses:o.residualStyles;null!=b&&(I=tn(b,l))}return I}function f_(s){return void 0!==s}function cE(s,o=""){const a=le(),l=Pt(),d=s+hn,p=l.firstCreatePass?lf(l,d,1,o,null):l.data[d],y=a[d]=function Su(s,o){return s.createText(o)}(a[Lt],o);Au(l,a,y,p),fi(p,!1)}function p_(s){return Dg("",s,""),p_}function Dg(s,o,a){const l=le(),d=Qc(l,s,o,a);return d!==Ft&&function Pu(s,o,a){const l=Ys(o,s);!function Vh(s,o,a){s.setValue(o,a)}(s[Lt],l,a)}(l,Er(),d),Dg}const ju=void 0;var bg=["en",[["a","p"],["AM","PM"],ju],[["AM","PM"],ju,ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ju,"{1} 'at' {0}",ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wE(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let tl={};function Tg(s){const o=function IE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=D_(o);if(a)return a;const l=o.split("-")[0];if(a=D_(l),a)return a;if("en"===l)return bg;throw new de(701,!1)}function EE(s){return Tg(s)[Mt.PluralCase]}function D_(s){return s in tl||(tl[s]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[s]),tl[s]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const nl="en-US";let b_=nl;function U_(s,o,a,l,d){if(s=Z(s),Array.isArray(s))for(let p=0;p<s.length;p++)U_(s[p],o,a,l,d);else{const p=Pt(),y=le();let I=Fa(s)?s:Z(s.provide),b=Ey(s);const S=xn(),R=1048575&S.providerIndexes,k=S.directiveStart,G=S.providerIndexes>>20;if(Fa(s)||!s.multi){const Q=new ss(b,d,Pd),me=ul(I,o,d?R:R+G,k);-1===me?(As(Ec(S,y),p,I),Vg(p,s,o.length),o.push(I),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Q),y.push(Q)):(a[me]=Q,y[me]=Q)}else{const Q=ul(I,o,R+G,k),me=ul(I,o,R,R+G),Ye=me>=0&&a[me];if(d&&!Ye||!d&&!(Q>=0&&a[Q])){As(Ec(S,y),p,I);const ct=function nR(s,o,a,l,d){const p=new ss(s,a,Pd);return p.multi=[],p.index=o,p.componentProviders=0,al(p,d,l&&!a),p}(d?FE:yT,a.length,d,l,b);!d&&Ye&&(a[me].providerFactory=ct),Vg(p,s,o.length,0),o.push(I),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(ct),y.push(ct)}else Vg(p,s,Q>-1?Q:me,al(a[d?me:Q],b,!d&&l));!d&&l&&Ye&&a[me].componentProviders++}}}function Vg(s,o,a,l){const d=Fa(o),p=function Up(s){return!!s.useClass}(o);if(d||p){const b=(p?Z(o.useClass):o).prototype.ngOnDestroy;if(b){const S=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const R=S.indexOf(a);-1===R?S.push(a,[l,b]):S[R+1].push(l,b)}else S.push(a,b)}}}function al(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function ul(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function yT(s,o,a,l){return B_(this.multi,[])}function FE(s,o,a,l){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=In(a,a[Ze],this.providerFactory.index,l);p=I.slice(0,y),B_(d,p);for(let b=y;b<I.length;b++)p.push(I[b])}else p=[],B_(d,p);return p}function B_(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function $_(s,o=[]){return a=>{a.providersResolver=(l,d)=>function kE(s,o,a){const l=Pt();if(l.firstCreatePass){const d=Hr(s);U_(a,l.data,l.blueprint,d,!0),U_(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class Gd{}class j_{}function _T(s,o){return new H_(s,o??null)}class H_ extends Gd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wy(this);const l=nr(o);this._bootstrapComponents=Jo(l.bootstrap),this._r3Injector=Ny(o,a,[{provide:Gd,useValue:this},{provide:Sd,useValue:this.componentFactoryResolver}],ye(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class z_ extends j_{constructor(o){super(),this.moduleType=o}create(o){return new H_(this.moduleType,o)}}class LE extends Gd{constructor(o,a,l){super(),this.componentFactoryResolver=new Wy(this),this.instance=null;const d=new G0([...o,{provide:Gd,useValue:this},{provide:Sd,useValue:this.componentFactoryResolver}],a||$p(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function G_(s,o,a=null){return new LE(s,o,a).injector}let q_=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Cd(0,a.type),d=l.length>0?G_([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=_t({token:s,providedIn:"environment",factory:()=>new s(en(Kc))}),s})();function VE(s){s.getStandaloneInjector=o=>o.get(q_).getOrCreateStandaloneInjector(s)}function Z_(s,o,a){const l=pr()+s,d=le();return d[l]===Ft?Ba(d,l,a?o.call(a):o()):function og(s,o){return s[o]}(d,l)}function KE(s,o,a,l,d,p){const y=o+a;return Fe(s,y,d)?Ba(s,y+1,p?l.call(p,d):l(d)):function qd(s,o){const a=s[o];return a===Ft?void 0:a}(s,y+1)}function Y_(s,o){const a=Pt();let l;const d=s+hn;a.firstCreatePass?(l=function AT(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const p=l.factory||(l.factory=ns(l.type)),y=tr(Pd);try{const I=Ea(!1),b=p();return Ea(I),function Jy(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,le(),d,b),b}finally{tr(y)}}function xT(s,o,a){const l=s+hn,d=le(),p=Mr(d,l);return function Hg(s,o){return s[Ze].data[o].pure}(d,l)?KE(d,pr(),o,p.transform,a,p):p.transform(a)}function zg(s){return o=>{setTimeout(s,void 0,o)}}const ea=class oR extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,p=a||(()=>null),y=l;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),p=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(p=zg(p),d&&(d=zg(d)),y&&(y=zg(y)));const I=super.subscribe({next:d,error:p,complete:y});return o instanceof V.w0&&o.add(I),I}};function aR(){return this._results[Symbol.iterator]()}class JE{get changes(){return this._changes||(this._changes=new ea)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=JE.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=aR)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=function ei(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Ac(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],p=o[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gg=(()=>{class s{}return s.__NG_ELEMENT_ID__=PT,s})();const NT=Gg,uR=class extends NT{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tView,d=Wp(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[zs]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Xr];return null!==y&&(d[Xr]=y.createEmbeddedView(l)),hf(l,d,o),new mf(d)}};function PT(){return qg(xn(),le())}function qg(s,o){return 4&s.type?new uR(o,s,La(s,o)):null}let Wg=(()=>{class s{}return s.__NG_ELEMENT_ID__=cR,s})();function cR(){return J_(xn(),le())}const XE=Wg,OT=class extends XE{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Nn(this._hostTNode,this._hostLView);if(Xs(o)){const a=wa(o,this._hostLView),l=Lo(o);return new Uo(a[Ze].data[l+8],a)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Q_(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(o,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,d),y}createComponent(o,a,l,d,p){const y=o&&!function vu(s){return"function"==typeof s}(o);let I;if(y)I=a;else{const k=a||{};I=k.index,l=k.injector,d=k.projectableNodes,p=k.environmentInjector||k.ngModuleRef}const b=y?o:new ng(mt(o)),S=l||this.parentInjector;if(!p&&null==b.ngModule){const G=(y?S:this.parentInjector).get(Kc,null);G&&(p=G)}const R=b.create(S,d,void 0,p);return this.insert(R.hostView,I),R}insert(o,a){const l=o._lView,d=l[Ze];if(function Fl(s){return Ai(s[yn])}(l)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const k=l[yn],G=new OT(k,k[ir],k[yn]);G.detach(G.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function f(s,o,a,l){const d=hr+l,p=a.length;l>0&&(a[d-1][sn]=o),l<p-hr?(o[sn]=a[d],Mc(a,hr+l,o)):(a.push(o),o[sn]=null),o[yn]=a;const y=o[zs];null!==y&&a!==y&&function m(s,o){const a=s[ts];o[Gn]!==o[yn][yn][Gn]&&(s[oa]=!0),null===a?s[ts]=[o]:a.push(o)}(y,o);const I=o[Xr];null!==I&&I.insertView(s),o[Bt]|=64}(d,l,y,p);const I=Zo(p,y),b=l[Lt],S=us(b,y[bo]);return null!==S&&function ey(s,o,a,l,d,p){l[rr]=d,l[ir]=o,Hh(s,l,a,1,d,p)}(d,y[ir],b,l,S,I),o.attachToViewContainerRef(),Mc(Wd(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Q_(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=M(this._lContainer,a);l&&(Ca(Wd(this._lContainer),a),N(l[Ze],l))}detach(o){const a=this._adjustIndex(o,-1),l=M(this._lContainer,a);return l&&null!=Ca(Wd(this._lContainer),a)?new mf(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function Q_(s){return s[ws]}function Wd(s){return s[ws]||(s[ws]=[])}function J_(s,o){let a;const l=o[s.index];if(Ai(l))a=l;else{let d;if(8&s.type)d=qn(l);else{const p=o[Lt];d=p.createComment("");const y=fr(s,o);Vt(p,us(p,y),d,function $h(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=a=cb(l,o,d,s),eg(o,a)}return new OT(a,s,o)}class eI{constructor(o){this.queryList=o,this.matches=null}clone(){return new eI(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new Lf(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==$T(o,a).matches&&this.queries[a].setDirty()}}class tI{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class X_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new X_(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class nI{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new nI(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,a,lR(a,p)),this.matchTNodeWithReadOption(o,a,Vo(a,o,p,!1,!1))}else l===Gg?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Vo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ad||d===Wg||d===Gg&&4&a.type)this.addMatch(a.index,-2);else{const p=Vo(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function lR(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function dR(s,o,a,l){return-1===a?function kT(s,o){return 11&s.type?La(s,o):4&s.type?qg(s,o):null}(o,s):-2===a?function hR(s,o,a){return a===Ad?La(o,s):a===Gg?qg(o,s):a===Wg?J_(o,s):void 0}(s,o,l):In(s,s[Ze],a,o)}function rI(s,o,a,l){const d=o[Xr].queries[l];if(null===d.matches){const p=s.data,y=a.matches,I=[];for(let b=0;b<y.length;b+=2){const S=y[b];I.push(S<0?null:dR(o,p[S],y[b+1],a.metadata.read))}d.matches=I}return d.matches}function iI(s,o,a,l){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const y=rI(s,o,d,a);for(let I=0;I<p.length;I+=2){const b=p[I];if(b>0)l.push(y[I/2]);else{const S=p[I+1],R=o[-b];for(let k=hr;k<R.length;k++){const G=R[k];G[zs]===G[yn]&&iI(G[Ze],G,S,l)}if(null!==R[ts]){const k=R[ts];for(let G=0;G<k.length;G++){const Q=k[G];iI(Q[Ze],Q,S,l)}}}}}return l}function FT(s){const o=le(),a=Pt(),l=pa();zl(l+1);const d=$T(a,l);if(s.dirty&&function da(s){return 4==(4&s[Bt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?iI(a,o,l,[]):rI(a,o,d,l);s.reset(p,ef),s.notifyOnChanges()}return!0}return!1}function LT(s,o,a,l){const d=Pt();if(d.firstCreatePass){const p=xn();(function BT(s,o,a){null===s.queries&&(s.queries=new X_),s.queries.track(new nI(o,a))})(d,new tI(o,a,l),p.index),function gR(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function UT(s,o,a){const l=new JE(4==(4&a));ff(s,o,l,l.destroy),null===o[Xr]&&(o[Xr]=new Lf),o[Xr].queries.push(new eI(l))}(d,le(),a)}function VT(){return function pR(s,o){return s[Xr].queries[o].queryList}(le(),pa())}function $T(s,o){return s.queries.getByIndex(o)}function sI(s){return!!nr(s)}function $f(...s){}const hI=new Qt("Application Initializer");let zu=(()=>{class s{constructor(a){this.appInits=a,this.resolve=$f,this.reject=$f,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(t_(p))a.push(p);else if(pg(p)){const y=new Promise((I,b)=>{p.subscribe({complete:I,error:b})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(en(hI,8))},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const jf=new Qt("AppId",{providedIn:"root",factory:function mo(){return`${rv()}${rv()}${rv()}`}});function rv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pI=new Qt("Platform Initializer"),Zd=new Qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let mI=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Hf=new Qt("LocaleId",{providedIn:"root",factory:()=>Ln(Hf,dt.Optional|dt.SkipSelf)||function rS(){return typeof $localize<"u"&&$localize.locale||nl}()}),iv=new Qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sv{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let wI=(()=>{class s{compileModuleSync(a){return new z_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Jo(nr(a).declarations).reduce((y,I)=>{const b=mt(I);return b&&y.push(new ng(b)),y},[]);return new sv(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ov=(()=>Promise.resolve(0))();function av(s){typeof Zone>"u"?ov.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ls{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ea(!1),this.onMicrotaskEmpty=new ea(!1),this.onStable=new ea(!1),this.onError=new ea(!1),typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function II(){let s=un.requestAnimationFrame,o=un.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function cv(s){const o=()=>{!function uv(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(un,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Gf(s),s.isCheckStableRunning=!0,zf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Gf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,y,I)=>{try{return lv(s),a.invokeTask(d,p,y,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),dv(s)}},onInvoke:(a,l,d,p,y,I,b)=>{try{return lv(s),a.invoke(d,p,y,I,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),dv(s)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Gf(s),zf(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ls.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(ls.isInAngularZone())throw new de(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,Qg,$f,$f);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const Qg={};function zf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Gf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function lv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function dv(s){s._nesting--,zf(s)}class aS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ea,this.onMicrotaskEmpty=new ea,this.onStable=new ea,this.onError=new ea}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const hv=new Qt(""),fv=new Qt("");let qf,pv=(()=>{class s{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qf||(function uS(s){qf=s}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ls.assertNotInAngularZone(),av(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())av(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(en(ls),en(gv),en(fv))},s.\u0275prov=_t({token:s,factory:s.\u0275fac}),s})(),gv=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return qf?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const yo=!1;let ta=null;const Nr=new Qt("AllowMultipleToken"),Pr=new Qt("PlatformDestroyListeners"),Wf=new Qt("appBootstrapListener");class lS{constructor(o,a){this.name=o,this.token=a}}function Qd(s,o,a=[]){const l=`Platform: ${o}`,d=new Qt(l);return(p=[])=>{let y=yv();if(!y||y.injector.get(Nr,!1)){const I=[...a,...p,{provide:d,useValue:!0}];s?s(I):function DI(s){if(ta&&!ta.get(Nr,!1))throw new de(400,!1);ta=s;const o=s.get(Zf);(function CI(s){const o=s.get(pI,null);o&&o.forEach(a=>a())})(s)}(function Jg(s=[],o){return xd.create({name:o,providers:[{provide:Ru,useValue:"platform"},{provide:Pr,useValue:new Set([()=>ta=null])},...s]})}(I,l))}return function Kf(s){const o=yv();if(!o)throw new de(401,!1);return o}()}}function yv(){return ta?.get(Zf)??null}let Zf=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function em(s,o){let a;return a="noop"===s?new aS:("zone.js"===s?void 0:s)||new ls(o),a}(l?.ngZone,function Xg(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:ls,useValue:d}];return d.run(()=>{const y=xd.create({providers:p,parent:this.injector,name:a.moduleType.name}),I=a.create(y),b=I.injector.get(tf,null);if(!b)throw new de(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:R=>{b.handleError(R)}});I.onDestroy(()=>{Yf(this._modules,I),S.unsubscribe()})}),function _v(s,o,a){try{const l=a();return t_(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(b,d,()=>{const S=I.injector.get(zu);return S.runInitializers(),S.donePromise.then(()=>(function Ei(s){ke(s,"Expected localeId to be defined"),"string"==typeof s&&(b_=s.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Hf,nl)||nl),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,l=[]){const d=bI({},l);return function mv(s,o,a){const l=new z_(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(Gu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new de(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Pr,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(en(xd))},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function bI(s,o){return Array.isArray(o)?o.reduce(bI,s):{...s,...o}}let Gu=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new z.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new z.y(I=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{ls.assertNotInAngularZone(),av(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{b.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ie.T)(p,y.pipe((0,te.B)()))}bootstrap(a,l){const d=a instanceof W0;if(!this._injector.get(zu).done){!d&&vr(a);throw new de(405,yo)}let y;y=d?a:this._injector.get(Sd).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const I=function cS(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Gd),S=y.create(xd.NULL,[],l||y.selector,I),R=S.location.nativeElement,k=S.injector.get(hv,null);return k?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Yf(this.components,S),k?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new de(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Yf(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Wf,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Yf(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new de(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(en(ls),en(Kc),en(tf))},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Yf(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function tm(){return!1}let fS=(()=>{class s{}return s.__NG_ELEMENT_ID__=hl,s})();function hl(s){return function AI(s,o,a){if(eu(s)&&!a){const l=sr(s.index,o);return new mf(l,l)}return 47&s.type?new mf(o[Gn],o):null}(xn(),le(),16==(16&s))}class sm{constructor(){}supports(o){return Ky(o)}create(o){return new PI(o)}}const NI=(s,o)=>o;class PI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||NI}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<Cv(l,d,p)?a:l,I=Cv(y,d,p),b=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const S=I-d,R=b-d;if(S!=R){for(let G=0;G<S;G++){const Q=G<p.length?p[G]:p[G]=0,me=Q+G;R<=me&&me<S&&(p[G]=Q+1)}p[y.previousIndex]=R-S}}I!==b&&o(y,I,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ky(o))throw new de(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)p=o[I],y=this._trackByFn(I,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,I)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,I),l=!0),a=a._next}else d=0,function kx(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,I=>{y=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,I,y,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,y,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new OI(a,l),p,d),o}_verifyReinsertion(o,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Xd),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xd),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class OI{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Xd{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new yS,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cv(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class ep{constructor(){}supports(o){return o instanceof Map||Zy(o)}create(){return new tp}}class tp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Zy(o)))throw new de(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const l=new pl(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class pl{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function om(){return new bv([new sm])}let bv=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||om()),deps:[[s,new It,new io]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new de(901,!1)}}return s.\u0275prov=_t({token:s,providedIn:"root",factory:om}),s})();function Tv(){return new am([new ep])}let am=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Tv()),deps:[[s,new It,new io]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new de(901,!1)}}return s.\u0275prov=_t({token:s,providedIn:"root",factory:Tv}),s})();const um=Qd(null,"core",[]);let kI=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(en(Gu))},s.\u0275mod=X({type:s}),s.\u0275inj=an({}),s})();function On(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(vt,Ce,O)=>{O.d(Ce,{Z:()=>qe});var h=O(2090),V=O(4859),z=O(6881),ie=O(1877);class te{constructor(de,Te){this._delegate=de,this.firebase=Te,(0,z._addComponent)(de,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(de,Te=z._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(de);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Ne=Ue.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Te})}_removeServiceInstance(de,Te=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(Te)}_addComponent(de){(0,z._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,z._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function pe(){const it=function ye(it){const de={},Te={__esModule:!0,initializeApp:function Ee(Oe,re={}){const et=z.initializeApp(Oe,re);if((0,h.r3)(de,et.name))return de[et.name];const bt=new it(et,Te);return de[et.name]=bt,bt},app:Ue,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Oe){const re=Oe.name,et=re.replace("-compat","");if(z._registerComponent(Oe)&&"PUBLIC"===Oe.type){const bt=(rt=Ue())=>{if("function"!=typeof rt[et])throw ge.create("invalid-app-argument",{appName:re});return rt[et]()};void 0!==Oe.serviceProps&&(0,h.ZB)(bt,Oe.serviceProps),Te[et]=bt,it.prototype[et]=function(...rt){return this._getService.bind(this,re).apply(this,Oe.multipleInstances?rt:[])}}return"PUBLIC"===Oe.type?Te[et]:null},removeApp:function Ne(Oe){delete de[Oe]},useAsService:function Be(Oe,re){return"serverAuth"===re?null:re},modularAPIs:z}};function Ue(Oe){if(!(0,h.r3)(de,Oe=Oe||z._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Oe});return de[Oe]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function ve(){return Object.keys(de).map(Oe=>de[Oe])}}),Ue.App=it,Te}(te);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function de(Te){(0,h.ZB)(it,Te)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),it}(),B=new ie.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=j;!function De(it){(0,z.registerVersion)("@firebase/app-compat","0.2.11",it)}()},6881:(vt,Ce,O)=>{O.r(Ce),O.d(Ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>ms,_DEFAULT_ENTRY_NAME:()=>Ur,_addComponent:()=>ht,_addOrOverwriteComponent:()=>Ot,_apps:()=>un,_clearComponents:()=>ui,_components:()=>Ht,_getProvider:()=>Br,_registerComponent:()=>ai,_removeServiceInstance:()=>kn,deleteApp:()=>Tr,getApp:()=>ci,getApps:()=>en,initializeApp:()=>Yt,onLog:()=>zn,registerVersion:()=>$r,setLogLevel:()=>Si});var h=O(5861),V=O(4859),z=O(1877),ie=O(2090);const te=(ce,X)=>X.some(Re=>ce instanceof Re);let ne,ge;const j=new WeakMap,B=new WeakMap,Z=new WeakMap,je=new WeakMap,De=new WeakMap;let de={get(ce,X,Re){if(ce instanceof IDBTransaction){if("done"===X)return B.get(ce);if("objectStoreNames"===X)return ce.objectStoreNames||Z.get(ce);if("store"===X)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return Ee(ce[X])},set:(ce,X,Re)=>(ce[X]=Re,!0),has:(ce,X)=>ce instanceof IDBTransaction&&("done"===X||"store"===X)||X in ce};function Ue(ce){return"function"==typeof ce?function Ne(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...X){return ce.apply(ve(this),X),Ee(j.get(this))}:function(...X){return Ee(ce.apply(ve(this),X))}:function(X,...Re){const ft=ce.call(ve(this),X,...Re);return Z.set(ft,X.sort?X.sort():[X]),Ee(ft)}}(ce):(ce instanceof IDBTransaction&&function it(ce){if(B.has(ce))return;const X=new Promise((Re,ft)=>{const St=()=>{ce.removeEventListener("complete",$t),ce.removeEventListener("error",mt),ce.removeEventListener("abort",mt)},$t=()=>{Re(),St()},mt=()=>{ft(ce.error||new DOMException("AbortError","AbortError")),St()};ce.addEventListener("complete",$t),ce.addEventListener("error",mt),ce.addEventListener("abort",mt)});B.set(ce,X)}(ce),te(ce,function ye(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,de):ce)}function Ee(ce){if(ce instanceof IDBRequest)return function qe(ce){const X=new Promise((Re,ft)=>{const St=()=>{ce.removeEventListener("success",$t),ce.removeEventListener("error",mt)},$t=()=>{Re(Ee(ce.result)),St()},mt=()=>{ft(ce.error),St()};ce.addEventListener("success",$t),ce.addEventListener("error",mt)});return X.then(Re=>{Re instanceof IDBCursor&&j.set(Re,ce)}).catch(()=>{}),De.set(X,ce),X}(ce);if(je.has(ce))return je.get(ce);const X=Ue(ce);return X!==ce&&(je.set(ce,X),De.set(X,ce)),X}const ve=ce=>De.get(ce),Oe=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],et=new Map;function bt(ce,X){if(!(ce instanceof IDBDatabase)||X in ce||"string"!=typeof X)return;if(et.get(X))return et.get(X);const Re=X.replace(/FromIndex$/,""),ft=X!==Re,St=re.includes(Re);if(!(Re in(ft?IDBIndex:IDBObjectStore).prototype)||!St&&!Oe.includes(Re))return;const $t=function(){var mt=(0,h.Z)(function*(rn,...Kt){const vr=this.transaction(rn,St?"readwrite":"readonly");let nr=vr.store;return ft&&(nr=nr.index(Kt.shift())),(yield Promise.all([nr[Re](...Kt),St&&vr.done]))[0]});return function(Kt){return mt.apply(this,arguments)}}();return et.set(X,$t),$t}!function Te(ce){de=ce(de)}(ce=>({...ce,get:(X,Re,ft)=>bt(X,Re)||ce.get(X,Re,ft),has:(X,Re)=>!!bt(X,Re)||ce.has(X,Re)}));class rt{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function qt(ce){return"VERSION"===ce.getComponent()?.type}(Re)){const ft=Re.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Re=>Re).join(" ")}}const at="@firebase/app",ue=new z.Yd("@firebase/app"),Ur="[DEFAULT]",Ti={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,Ht=new Map;function ht(ce,X){try{ce.container.addComponent(X)}catch(Re){ue.debug(`Component ${X.name} failed to register with FirebaseApp ${ce.name}`,Re)}}function Ot(ce,X){ce.container.addOrOverwriteComponent(X)}function ai(ce){const X=ce.name;if(Ht.has(X))return ue.debug(`There were multiple attempts to register component ${X}.`),!1;Ht.set(X,ce);for(const Re of un.values())ht(Re,ce);return!0}function Br(ce,X){const Re=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),ce.container.getProvider(X)}function kn(ce,X,Re=Ur){Br(ce,X).clearInstance(Re)}function ui(){Ht.clear()}const br=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pn{constructor(X,Re,ft){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const ms="9.22.1";function Yt(ce,X={}){let Re=ce;"object"!=typeof X&&(X={name:X});const ft=Object.assign({name:Ur,automaticDataCollectionEnabled:!1},X),St=ft.name;if("string"!=typeof St||!St)throw br.create("bad-app-name",{appName:String(St)});if(Re||(Re=(0,ie.aH)()),!Re)throw br.create("no-options");const $t=un.get(St);if($t){if((0,ie.vZ)(Re,$t.options)&&(0,ie.vZ)(ft,$t.config))return $t;throw br.create("duplicate-app",{appName:St})}const mt=new V.H0(St);for(const Kt of Ht.values())mt.addComponent(Kt);const rn=new pn(Re,ft,mt);return un.set(St,rn),rn}function ci(ce=Ur){const X=un.get(ce);if(!X&&ce===Ur&&(0,ie.aH)())return Yt();if(!X)throw br.create("no-app",{appName:ce});return X}function en(){return Array.from(un.values())}function Tr(ce){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(ce){const X=ce.name;un.has(X)&&(un.delete(X),yield Promise.all(ce.container.getProviders().map(Re=>Re.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function $r(ce,X,Re){var ft;let St=null!==(ft=Ti[ce])&&void 0!==ft?ft:ce;Re&&(St+=`-${Re}`);const $t=St.match(/\s|\//),mt=X.match(/\s|\//);if($t||mt){const rn=[`Unable to register library "${St}" with version "${X}":`];return $t&&rn.push(`library name "${St}" contains illegal characters (whitespace or "/")`),$t&&mt&&rn.push("and"),mt&&rn.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void ue.warn(rn.join(" "))}ai(new V.wA(`${St}-version`,()=>({library:St,version:X}),"VERSION"))}function zn(ce,X){if(null!==ce&&"function"!=typeof ce)throw br.create("invalid-log-argument");(0,z.Am)(ce,X)}function Si(ce){(0,z.Ub)(ce)}const jr="firebase-heartbeat-database",Jr=1,U="firebase-heartbeat-store";let F=null;function q(){return F||(F=function Ae(ce,X,{blocked:Re,upgrade:ft,blocking:St,terminated:$t}={}){const mt=indexedDB.open(ce,X),rn=Ee(mt);return ft&&mt.addEventListener("upgradeneeded",Kt=>{ft(Ee(mt.result),Kt.oldVersion,Kt.newVersion,Ee(mt.transaction),Kt)}),Re&&mt.addEventListener("blocked",Kt=>Re(Kt.oldVersion,Kt.newVersion,Kt)),rn.then(Kt=>{$t&&Kt.addEventListener("close",()=>$t()),St&&Kt.addEventListener("versionchange",vr=>St(vr.oldVersion,vr.newVersion,vr))}).catch(()=>{}),rn}(jr,Jr,{upgrade:(ce,X)=>{0===X&&ce.createObjectStore(U)}}).catch(ce=>{throw br.create("idb-open",{originalErrorMessage:ce.message})})),F}function J(){return(J=(0,h.Z)(function*(ce){try{return yield(yield q()).transaction(U).objectStore(U).get(nn(ce))}catch(X){if(X instanceof ie.ZR)ue.warn(X.message);else{const Re=br.create("idb-get",{originalErrorMessage:X?.message});ue.warn(Re.message)}}})).apply(this,arguments)}function Pe(ce,X){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(ce,X){try{const ft=(yield q()).transaction(U,"readwrite");yield ft.objectStore(U).put(X,nn(ce)),yield ft.done}catch(Re){if(Re instanceof ie.ZR)ue.warn(Re.message);else{const ft=br.create("idb-set",{originalErrorMessage:Re?.message});ue.warn(ft.message)}}})).apply(this,arguments)}function nn(ce){return`${ce.name}!${ce.options.appId}`}class mn{constructor(X){this.container=X,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new li(Re),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var X=this;return(0,h.Z)(function*(){const ft=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=Wt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==St&&!X._heartbeatsCache.heartbeats.some($t=>$t.date===St))return X._heartbeatsCache.heartbeats.push({date:St,agent:ft}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter($t=>{const mt=new Date($t.date).valueOf();return Date.now()-mt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,h.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Re=Wt(),{heartbeatsToSend:ft,unsentEntries:St}=function Sr(ce,X=1024){const Re=[];let ft=ce.slice();for(const St of ce){const $t=Re.find(mt=>mt.agent===St.agent);if($t){if($t.dates.push(St.date),es(Re)>X){$t.dates.pop();break}}else if(Re.push({agent:St.agent,dates:[St.date]}),es(Re)>X){Re.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Re,unsentEntries:ft}}(X._heartbeatsCache.heartbeats),$t=(0,ie.L)(JSON.stringify({version:2,heartbeats:ft}));return X._heartbeatsCache.lastSentHeartbeatDate=Re,St.length>0?(X._heartbeatsCache.heartbeats=St,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),$t})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class li{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,h.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function fe(ce){return J.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Re=this;return(0,h.Z)(function*(){var ft;if(yield Re._canUseIndexedDBPromise){const $t=yield Re.read();return Pe(Re.app,{lastSentHeartbeatDate:null!==(ft=X.lastSentHeartbeatDate)&&void 0!==ft?ft:$t.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Re=this;return(0,h.Z)(function*(){var ft;if(yield Re._canUseIndexedDBPromise){const $t=yield Re.read();return Pe(Re.app,{lastSentHeartbeatDate:null!==(ft=X.lastSentHeartbeatDate)&&void 0!==ft?ft:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...X.heartbeats]})}})()}}function es(ce){return(0,ie.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function Co(ce){ai(new V.wA("platform-logger",X=>new rt(X),"PRIVATE")),ai(new V.wA("heartbeat",X=>new mn(X),"PRIVATE")),$r(at,"0.9.11",ce),$r(at,"0.9.11","esm2017"),$r("fire-js","")}("")},4859:(vt,Ce,O)=>{O.d(Ce,{H0:()=>ye,wA:()=>z});var h=O(5861),V=O(2090);class z{constructor(j,B,Z){this.name=j,this.instanceFactory=B,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ie="[DEFAULT]";class te{constructor(j,B){this.name=j,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const B=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(B)){const Z=new V.BH;if(this.instancesDeferred.set(B,Z),this.isInitialized(B)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:B});je&&Z.resolve(je)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(j){var B;const Z=this.normalizeInstanceIdentifier(j?.identifier),je=null!==(B=j?.optional)&&void 0!==B&&B;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(De){if(je)return null;throw De}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ge(pe){return"EAGER"===pe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[B,Z]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(B);try{const De=this.getOrInitializeService({instanceIdentifier:je});Z.resolve(De)}catch{}}}}clearInstance(j=ie){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,h.Z)(function*(){const B=Array.from(j.instances.values());yield Promise.all([...B.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...B.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ie){return this.instances.has(j)}getOptions(j=ie){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:B={}}=j,Z=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Z,options:B});for(const[De,qe]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(De)&&qe.resolve(je);return je}onInit(j,B){var Z;const je=this.normalizeInstanceIdentifier(B),De=null!==(Z=this.onInitCallbacks.get(je))&&void 0!==Z?Z:new Set;De.add(j),this.onInitCallbacks.set(je,De);const qe=this.instances.get(je);return qe&&j(qe,je),()=>{De.delete(j)}}invokeOnInitCallbacks(j,B){const Z=this.onInitCallbacks.get(B);if(Z)for(const je of Z)try{je(j,B)}catch{}}getOrInitializeService({instanceIdentifier:j,options:B={}}){let Z=this.instances.get(j);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=j,pe===ie?void 0:pe),options:B}),this.instances.set(j,Z),this.instancesOptions.set(j,B),this.invokeOnInitCallbacks(Z,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Z)}catch{}var pe;return Z||null}normalizeInstanceIdentifier(j=ie){return this.component?this.component.multipleInstances?j:ie:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const B=this.getProvider(j.name);if(B.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);B.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const B=new te(j,this);return this.providers.set(j,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ce,O)=>{O.d(Ce,{Am:()=>pe,Ub:()=>ye,Yd:()=>ge,in:()=>V});const h=[];var V=(()=>{return(j=V||(V={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",V;var j})();const z={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ie=V.INFO,te={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ne=(j,B,...Z)=>{if(B<j.logLevel)return;const je=(new Date).toISOString(),De=te[B];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[De](`[${je}]  ${j.name}:`,...Z)};class ge{constructor(B){this.name=B,this._logLevel=ie,this._logHandler=ne,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in V))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?z[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...B),this._logHandler(this,V.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...B),this._logHandler(this,V.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,V.INFO,...B),this._logHandler(this,V.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,V.WARN,...B),this._logHandler(this,V.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...B),this._logHandler(this,V.ERROR,...B)}}function ye(j){h.forEach(B=>{B.setLogLevel(j)})}function pe(j,B){for(const Z of h){let je=null;B&&B.level&&(je=z[B.level]),Z.userLogHandler=null===j?null:(De,qe,...it)=>{const de=it.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");qe>=(je??De.logLevel)&&j({level:V[qe].toLowerCase(),message:de,args:it,type:De.name})}}}},259:(vt,Ce,O)=>{O.d(Ce,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=O(6881);(0,h.registerVersion)("firebase","9.22.1","app")},9260:(vt,Ce,O)=>{O.d(Ce,{Z:()=>h.Z});var h=O(3942);h.Z.registerVersion("firebase","9.22.1","app-compat")},5861:(vt,Ce,O)=>{function h(z,ie,te,ne,ge,ye,pe){try{var j=z[ye](pe),B=j.value}catch(Z){return void te(Z)}j.done?ie(B):Promise.resolve(B).then(ne,ge)}function V(z){return function(){var ie=this,te=arguments;return new Promise(function(ne,ge){var ye=z.apply(ie,te);function pe(B){h(ye,ne,ge,pe,j,"next",B)}function j(B){h(ye,ne,ge,pe,j,"throw",B)}pe(void 0)})}}O.d(Ce,{Z:()=>V})}},vt=>{vt(vt.s=8864)}]);